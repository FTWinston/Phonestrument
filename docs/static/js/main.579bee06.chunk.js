(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(7),i=n.n(c),r=(n(15),n(1)),s=n(2),l=n(4),u=n(3),m=n(5),p=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).keydown=function(e){e.which===n.props.keycode&&(n.setState({active:!0}),n.props.start())},n.keyup=function(e){e.which===n.props.keycode&&(n.setState({active:!1}),n.props.stop())},n.state={active:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydown),document.removeEventListener("keyup",this.keyup)}},{key:"render",value:function(){var e=this,t=function(){e.setState({active:!1}),e.props.stop()},n=this.state.active?"player__note player__note--active":"player__note";return o.a.createElement("div",{className:n,onTouchStart:function(){e.setState({active:!0}),e.props.start()},onTouchEnd:t,onTouchCancel:t},this.props.text,o.a.createElement("sub",null,this.props.octave))}}]),t}(a.PureComponent),h=(n(17),function(){function e(){Object(r.a)(this,e),this.audioCtx=void 0,this.gain=void 0,this.oscillators={},this.audioCtx=new AudioContext,this.gain=this.audioCtx.createGain(),this.gain.gain.setValueAtTime(.1,this.audioCtx.currentTime),this.gain.connect(this.audioCtx.destination)}return Object(s.a)(e,[{key:"start",value:function(e){if(void 0===this.oscillators[e]){var t=this.audioCtx.createOscillator();t.type="sine",t.frequency.setValueAtTime(e,this.audioCtx.currentTime),t.start();var n=this.audioCtx.createGain();t.connect(n),n.connect(this.gain),this.oscillators[e]={oscillator:t,gain:n}}}},{key:"stop",value:function(e){var t=this,n=this.oscillators[e];if(void 0!==n){delete this.oscillators[e];var a=n.gain.gain;a.setValueAtTime(a.value,this.audioCtx.currentTime),n.gain.gain.exponentialRampToValueAtTime(1e-4,this.audioCtx.currentTime+.03),setTimeout(function(){n.oscillator.stop(),n.gain.disconnect(t.gain)},25)}}},{key:"stopAll",value:function(){for(var e in this.oscillators){var t=this.oscillators[e];t.oscillator.stop(),t.gain.disconnect(this.gain)}}}]),e}()),f=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).audio=new h,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.fullscreenElement||document.documentElement.requestFullscreen()}},{key:"componentWillUnmount",value:function(){this.audio.stopAll(),document.exitFullscreen&&document.fullscreenElement&&document.exitFullscreen()}},{key:"render",value:function(){var e=this,t=this.props.notes.map(function(t,n){return o.a.createElement(p,{key:n,keycode:n+49,text:t.name,octave:t.octave,start:function(){return e.audio.start(t.frequency)},stop:function(){return e.audio.stop(t.frequency)}})});return o.a.createElement("div",{className:"player"},o.a.createElement("div",{className:"player__notes"},t),o.a.createElement("a",{className:"player__back",href:"#",onClick:function(t){t.preventDefault(),e.props.exit()}},"go back"))}}]),t}(a.Component),v={name:"D",frequency:293.66,octave:4},d={name:"E",frequency:329.63,octave:4},y={name:"F",frequency:349.23,octave:4},k={name:"G\u266d",frequency:369.99,octave:4},g={name:"G",frequency:392,octave:4},E={name:"A",frequency:440,octave:4},b={name:"B",frequency:493.88,octave:4},j={name:"C",frequency:523.25,octave:5},_={name:"D\u266d",frequency:554.37,octave:5},w={name:"D",frequency:587.33,octave:5},O={name:"E\u266d",frequency:622.25,octave:5},q={name:"E",frequency:659.25,octave:5},C={name:"G\u266d",frequency:739.99,octave:5},x={name:"A\u266d",frequency:830.61,octave:5},N=[{name:"C Major",notes:[{name:"C",frequency:261.63,octave:4},v,d,y,g,E,b,j]},{name:"D Major",notes:[v,d,k,g,E,b,_,w]},{name:"E Major",notes:[d,k,{name:"A\u266d",frequency:415.3,octave:4},E,b,_,O,q]},{name:"F Major",notes:[y,g,E,{name:"B\u266d",frequency:466.16,octave:4},j,w,q,{name:"F",frequency:698.46,octave:5}]},{name:"G Major",notes:[g,E,b,j,w,q,C,{name:"G",frequency:783.99,octave:5}]},{name:"A Major",notes:[E,b,_,w,q,C,x,{name:"A",frequency:880,octave:5}]},{name:"B Major",notes:[b,_,O,q,C,x,{name:"B\u266d",frequency:932.33,octave:5},{name:"B",frequency:987.77,octave:5}]}],S=n(8),T=n.n(S),A=(n(19),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=N.indexOf(this.props.selectedScale),n=N.map(function(e,t){return o.a.createElement("option",{key:t,value:t.toString()},e.name)});return o.a.createElement("div",{className:"site"},o.a.createElement("header",{className:"site__header"},o.a.createElement("img",{src:T.a,className:"site__logo",alt:"logo"}),o.a.createElement("p",null,"Use your phone like a musical instrument!")),o.a.createElement("div",{className:"site__links"},o.a.createElement("a",{className:"site__link",href:"#",onClick:function(t){t.preventDefault(),e.props.help()}},"Learn how"),o.a.createElement("a",{className:"site__link",href:"#",onClick:function(t){t.preventDefault(),e.props.play()}},"Play now")),o.a.createElement("div",{className:"site__options"},o.a.createElement("select",{className:"site__scale",value:t.toString(),onChange:function(t){return e.props.selectScale(N[t.target.selectedIndex])}},n)))}}]),t}(a.Component)),D=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"site site--help"},o.a.createElement("header",{className:"site__header"},o.a.createElement("p",null,"How to play")),o.a.createElement("p",null,"To play your phone properly, follow these instructions after you click ",o.a.createElement("em",null,"play"),"...",o.a.createElement("ol",{className:"site__help"},o.a.createElement("li",null,"Hold your phone with the screen facing upwards."),o.a.createElement("li",null,"Press the bottom edge of the phone against your lips."),o.a.createElement("li",null,"Rest the phone on your thumbs, with the fingers of each hand along the edges of the phone, so they can all touch the screen."),o.a.createElement("li",null,"Push keys and make music!"))),o.a.createElement("div",{className:"site__links"},o.a.createElement("a",{className:"site__link",href:"#",onClick:function(t){t.preventDefault(),e.props.back()}},"Go back")))}}]),t}(a.Component),M=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={playing:!1,helping:!1,scale:N[0]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(this.state.helping){return o.a.createElement(D,{back:function(){return e.setState({playing:!1,helping:!1})}})}if(this.state.playing){return o.a.createElement(f,{exit:function(){return e.setState({playing:!1})},notes:this.state.scale.notes})}return o.a.createElement(A,{help:function(){return e.setState({playing:!1,helping:!0})},play:function(){return e.setState({playing:!0,helping:!1})},selectedScale:this.state.scale,selectScale:function(t){console.log("selected scale",t),e.setState({scale:t})}})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},9:function(e,t,n){e.exports=n(21)}},[[9,2,1]]]);
//# sourceMappingURL=main.579bee06.chunk.js.map