{"version":3,"sources":["components/logo.svg","components/PlayerButton.tsx","functionality/Audio.ts","components/Icons.tsx","components/Player.tsx","components/Home.tsx","functionality/Notes.ts","functionality/Scales.ts","components/Help.tsx","functionality/determineNotes.ts","components/App.tsx","functionality/Voices.ts","components/ProfileSettings.tsx","components/Configuration.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","ButtonType","PlayerButton","_React$PureComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","active","text","octave","altProfile","inherits","createClass","key","value","nextProps","setState","_this2","touchEnd","enabled","stop","classes","type","Note","HighlightNote","isLeft","isRight","isTop","style","undefined","orderNum","order","react","className","onTouchStart","start","onTouchEnd","onTouchCancel","React","Audio","audioCtx","gain","oscillators","voice","name","apply","o","AudioContext","createGain","compressor","createDynamicsCompressor","threshold","setValueAtTime","currentTime","knee","ratio","attack","release","connect","destination","volume","frequency","oscillator","createOscillator","weightedDecibels","determineWeighting","weightedGain","Math","pow","noteGain","noteOscillator","stopOscillator","exponentialRampToValueAtTime","setTimeout","disconnect","fSquared","x","y","log10","Help","require","Home","Play","Configure","TiltLeft","TiltRight","Install","Player","_React$Component","audio","tiltListener","e","updateTilt","objectSpread","profiles","_componentDidMount","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","setVolume","setVoice","length","window","DeviceOrientationEvent","addEventListener","arguments","stopAll","removeEventListener","prevProps","prevState","beta","noteButtons","renderNoteButtons","notes","tiltMessage","keyName","href","onClick","preventDefault","configure","_this3","map","note","index","highlightNoteName","buttonOrder","PlayerButton_PlayerButton","src","logo","alt","help","Icons_Help","play","B","octaves","scaleTypes","notesBeforeTonic","scales","back","Icons_Home","determineNotes","scale","scaleType","mainOctave","lastNoteIndex","iOctave","scaleNotes","noteIndex","numToAddToStart","numToAddToEnd","iScaleNote","i","iOctaveNote","push","unshift","Display","voices","wave","context","createPeriodicWave","Bass","real","imag","disableNormalization","setPeriodicWave","Organ2","Organ3","Dissonant2","Brass","Celeste","Throaty","ChorusStrings","ProfileSettings","selectedScaleTypeIndex","indexOf","selectedScaleNoteIndex","selectedVoiceIndex","scaleTypeOptions","toString","scaleNoteOptions","voiceOptions","isAlternate","onChange","selectScaleType","target","selectedIndex","selectScale","selectVoice","min","max","step","setOctave","parseInt","parseFloat","Configuration","installClicked","install","alternateSettings","useSplitProfile","ProfileSettings_ProfileSettings","scaleType2","scale2","octave2","volume2","voice2","installLink","checked","setUseSplitProfile","splitVarName","scaleTypeVarName","scaleType2VarName","scaleNoteVarName","scaleNote2VarName","octaveVarName","octave2VarName","volumeVarName","volume2VarName","voiceVarName","voice2VarName","playedBeforeVarName","App","loadScaleType","display","sessionStorage","getItem","loadScale","loadOctave","loadVolume","loadVoice","loadUseSplit","installPrompt","evt","sessionVarName","savedScaleType","match","filter","s","savedScale","savedOctave","savedVol","savedVoiceName","find","v","Help_Help","concat","Player_Player","goHome","Config","prompt","Configuration_Configuration","setItem","useSplit","isAlt","scaleIndex","newScale","vol","Home_Home","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","react_default","createElement","src_components_App","document","getElementById","URL","process","origin","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.6a9fce55.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.bd3b845b.svg\";","import * as React from 'react';\r\n\r\nexport enum ButtonType {\r\n    Note,\r\n    HighlightNote,\r\n}\r\n\r\ninterface IProps {\r\n    text: string;\r\n    octave: number;\r\n    \r\n    orderNum?: number;\r\n    type: ButtonType;\r\n    enabled?: boolean;\r\n    isLeft?: boolean;\r\n    isRight?: boolean;    \r\n    isTop?: boolean;\r\n\r\n    altProfile: boolean;\r\n\r\n    start: () => void;\r\n    stop: () => void;\r\n}\r\n\r\ninterface IState {\r\n    active: boolean;\r\n    text: string;\r\n    octave: number;\r\n    altProfile: boolean; // keep this in the state so buttons \"remember\" what they were while pressed when the profile switches\r\n}\r\n\r\nexport class PlayerButton extends React.PureComponent<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: false,\r\n            text: props.text,\r\n            octave: props.octave,\r\n            altProfile: props.altProfile,\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps: IProps) {\r\n        if (nextProps.altProfile !== this.props.altProfile && !this.state.active) {\r\n            this.setState({\r\n                text: nextProps.text,\r\n                octave: nextProps.octave,\r\n                altProfile: nextProps.altProfile,\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const touchStart = () => {\r\n                this.setState({\r\n                    active: true,\r\n                    text: this.props.text,\r\n                    octave: this.props.octave,\r\n                    altProfile: this.props.altProfile,\r\n                });\r\n                \r\n                if (this.props.enabled !== false) {\r\n                    this.props.start();\r\n                }\r\n            };\r\n\r\n        const touchEnd = () => {\r\n                this.setState({\r\n                    active: false,\r\n                    text: this.props.text,\r\n                    octave: this.props.octave,\r\n                    altProfile: this.props.altProfile,\r\n                });\r\n\r\n                if (this.props.enabled !== false) {\r\n                    this.props.stop();\r\n                }\r\n            };\r\n\r\n        let classes = 'player__button';\r\n        \r\n        if (this.state.active) {\r\n            classes += ' player__button--active';\r\n        }\r\n\r\n        if (this.state.altProfile) {\r\n            classes += ' player__button--altProfile';\r\n        }\r\n\r\n        if (this.props.enabled === false) {\r\n            classes += ' player__button--disabled';\r\n        }\r\n\r\n        if (this.props.type == ButtonType.Note || this.props.type == ButtonType.HighlightNote) {\r\n            if (this.props.isLeft) {\r\n                classes += ' player__button--left';\r\n            }\r\n            if (this.props.isRight) {\r\n                classes += ' player__button--right';\r\n            }\r\n            if (this.props.isTop) {\r\n                classes += ' player__button--top';\r\n            }\r\n        }\r\n\r\n        switch (this.props.type) {\r\n            case ButtonType.HighlightNote:\r\n                classes += ' player__button--highlight';\r\n                break;\r\n        }\r\n\r\n        const style = this.props.orderNum === undefined\r\n            ? undefined\r\n            : {\r\n                order: this.props.orderNum,\r\n            };\r\n\r\n        return (\r\n            <div\r\n                className={classes}\r\n                style={style}\r\n                onTouchStart={touchStart}\r\n                onTouchEnd={touchEnd}\r\n                onTouchCancel={touchEnd}\r\n            >\r\n                {this.state.text}<sub>{this.state.octave}</sub>\r\n            </div>\r\n        );\r\n    }\r\n}","import { INote } from \"./Notes\";\r\nimport { IVoice } from \"./Voices\";\r\n\r\n//const AudioContext = (window as any).AudioContext || (window as any).webkitAudioContext;\r\n\r\ninterface INoteOscillator {\r\n    oscillator: OscillatorNode;\r\n    gain: GainNode;\r\n}\r\n\r\nexport class Audio {\r\n    private readonly audioCtx: AudioContext;\r\n    private readonly gain: GainNode;\r\n    private oscillators: { [key:number]: INoteOscillator; } = {};\r\n\r\n    private voice: IVoice = {\r\n        name: 'Default',\r\n        apply: o => { o.type = 'sine'; return o; },\r\n    };\r\n\r\n    constructor() {\r\n        this.audioCtx = new AudioContext();\r\n        this.gain = this.audioCtx.createGain();\r\n\r\n        const compressor = this.audioCtx.createDynamicsCompressor();\r\n        compressor.threshold.setValueAtTime(-50, this.audioCtx.currentTime);\r\n        compressor.knee.setValueAtTime(40, this.audioCtx.currentTime);\r\n        compressor.ratio.setValueAtTime(12, this.audioCtx.currentTime);\r\n        compressor.attack.setValueAtTime(0, this.audioCtx.currentTime);\r\n        compressor.release.setValueAtTime(0.25, this.audioCtx.currentTime);\r\n\r\n        this.gain.connect(compressor);\r\n\r\n        compressor.connect(this.audioCtx.destination);\r\n    }\r\n\r\n    public setVolume(volume: number) {\r\n        this.gain.gain.setValueAtTime(volume, this.audioCtx.currentTime);\r\n    }\r\n\r\n    public setVoice(voice: IVoice) {\r\n        this.voice = voice;\r\n    }\r\n\r\n    public start(key: number, frequency: number) {\r\n        let noteOscillator = this.oscillators[key];\r\n\r\n        if (noteOscillator !== undefined) {\r\n            // already playing, cannot play more\r\n            return;\r\n        }\r\n\r\n        const oscillator = this.audioCtx.createOscillator();\r\n        this.voice.apply(oscillator);\r\n\r\n        oscillator.frequency.setValueAtTime(frequency, this.audioCtx.currentTime);\r\n        oscillator.start();\r\n\r\n        const weightedDecibels = this.determineWeighting(frequency);\r\n        const weightedGain = 1 / Math.pow(10, weightedDecibels / 20);\r\n        \r\n        const noteGain = this.audioCtx.createGain();\r\n        noteGain.gain.setValueAtTime(weightedGain, this.audioCtx.currentTime);\r\n        \r\n        oscillator.connect(noteGain);\r\n        noteGain.connect(this.gain);\r\n        \r\n        this.oscillators[key] = {\r\n            oscillator: oscillator,\r\n            gain: noteGain,\r\n        };\r\n    }\r\n\r\n    public stop(key: number) {\r\n        const noteOscillator = this.oscillators[key];\r\n\r\n        if (noteOscillator === undefined) {\r\n            // not playing this frequency, nothing to stop\r\n            return;\r\n        }\r\n\r\n        delete this.oscillators[key];\r\n        this.stopOscillator(noteOscillator);\r\n    }\r\n\r\n    public stopAll() {\r\n        for (let key in this.oscillators) {\r\n            const noteOscillator = this.oscillators[key];\r\n            this.stopOscillator(noteOscillator);\r\n        }\r\n\r\n        this.oscillators = {};\r\n    }\r\n\r\n    private stopOscillator(noteOscillator: INoteOscillator) {\r\n        // fade out, to avoid a \"pop\" from the sudden cutoff\r\n        const gain = noteOscillator.gain.gain;\r\n        gain.setValueAtTime(gain.value, this.audioCtx.currentTime); \r\n        gain.exponentialRampToValueAtTime(0.0001, this.audioCtx.currentTime + 0.05);\r\n\r\n        setTimeout(() => {\r\n            noteOscillator.oscillator.stop();\r\n            noteOscillator.gain.disconnect(this.gain);\r\n        }, 25);\r\n    }\r\n\r\n    private determineWeighting(frequency: number) {\r\n        // This is the A-weighting, to make notes of different pitches have the same apparent volume.\r\n        // See http://www.diracdelta.co.uk/science/source/a/w/aweighting/source.html\r\n\r\n        const fSquared = frequency * frequency;\r\n        const x = (1.562339 * fSquared * fSquared) / ((fSquared + 11589.093052) * (fSquared + 544440.670461));\r\n        const y = (22428810000000000 * fSquared * fSquared) / ((fSquared + 424.318677406) * (fSquared + 424.318677406) * (fSquared + 148699001.408) * (fSquared + 148699001.408));\r\n\r\n        return Math.log10(x) + Math.log10(y);\r\n    }\r\n}","export const Help = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/help-circle.svg');\r\nexport const Home = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/home.svg');\r\nexport const Play = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/thumbs-up.svg');\r\nexport const Configure = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/sliders.svg');\r\nexport const TiltLeft = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/rotate-ccw.svg');\r\nexport const TiltRight = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/rotate-cw.svg');\r\nexport const Install = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/star.svg');\r\n","import * as React from 'react';\r\nimport { PlayerButton, ButtonType } from './PlayerButton';\r\nimport { INote } from '../functionality/Notes';\r\nimport { Audio } from '../functionality/Audio';\r\nimport './Player.css';\r\nimport { TiltLeft, TiltRight, Configure } from './Icons';\r\nimport { IVoice } from '../functionality/Voices';\r\n\r\nexport interface IProfile {\r\n    keyName: string;\r\n    notes: INote[];\r\n\r\n    volume: number;\r\n    \r\n    voice: IVoice;\r\n    \r\n    highlightNoteName: string;\r\n}\r\n\r\ninterface IProps {\r\n    goHome: () => void;\r\n    configure: () => void;\r\n    profiles: IProfile[];\r\n}\r\n\r\ninterface IState extends IProfile {\r\n    altProfile: boolean;\r\n}\r\n\r\nexport class Player extends React.Component<IProps, IState> {\r\n    private audio = new Audio();\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            ...props.profiles[0],\r\n            altProfile: false,\r\n        };\r\n    }\r\n\r\n    private tiltListener = (e: DeviceOrientationEvent) => this.updateTilt(e);\r\n\r\n    async componentDidMount() {\r\n        this.audio.setVolume(this.state.volume);\r\n        this.audio.setVoice(this.state.voice);\r\n         \r\n        if (this.props.profiles.length > 1 && (window as any).DeviceOrientationEvent) {\r\n            window.addEventListener('deviceorientation', this.tiltListener);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.audio.stopAll();\r\n         \r\n        if (this.props.profiles.length > 1) {\r\n            window.removeEventListener('deviceorientation', this.tiltListener);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps: IProps, prevState: IState) {\r\n        if (prevState.volume !== this.state.volume) {\r\n            this.audio.setVolume(this.state.volume);\r\n        }\r\n\r\n        if (prevState.voice !== this.state.voice) {\r\n            this.audio.setVoice(this.state.voice);\r\n        }\r\n    }\r\n\r\n    private updateTilt(e: DeviceOrientationEvent) {\r\n        if (e.beta === null) {\r\n            return;\r\n        }\r\n\r\n        // if showing first set and tilted right, switch to second set\r\n        if (this.state.altProfile) {\r\n            if (e.beta < 0) {\r\n                this.setState({\r\n                    ...this.props.profiles[0],\r\n                    altProfile: false,\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (e.beta > 0) {\r\n                this.setState({\r\n                    ...this.props.profiles[1],\r\n                    altProfile: true,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const configClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.configure();\r\n        };\r\n\r\n        const noteButtons = this.renderNoteButtons(this.state.notes);\r\n\r\n        const classes = this.state.altProfile\r\n            ? 'player player--altProfile'\r\n            : 'player';\r\n\r\n        const tiltMessage = this.props.profiles.length < 2\r\n            ? <div className=\"player__tilt\" />\r\n            : this.state.altProfile\r\n                ? <div className=\"player__tilt\"><TiltLeft /> Tilt left<br />for {this.props.profiles[0].keyName}</div>\r\n                : <div className=\"player__tilt\"><TiltRight />Tilt right<br />for {this.props.profiles[1].keyName}</div>\r\n\r\n        return (\r\n            <div className={classes}>\r\n                {noteButtons}\r\n\r\n                <div className=\"player__key\">{this.state.keyName}</div>\r\n\r\n                <a\r\n                    className=\"player__config\"\r\n                    href=\"#\"\r\n                    onClick={configClicked}\r\n                >\r\n                    <Configure /> Configure\r\n                </a>\r\n\r\n                {tiltMessage}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    static buttonOrder = [4, 3, 2, 1, 0, 9, 8, 7, 6, 5, 14, 13, 12, 11, 10, 19, 18, 17, 16, 15];\r\n\r\n    private renderNoteButtons(notes: INote[]) {\r\n        return notes.map((note, index) => {\r\n            const start = () => this.audio.start(index, note.frequency);\r\n            const stop = () => this.audio.stop(index);\r\n\r\n            const type = note.name === this.state.highlightNoteName\r\n                ? ButtonType.HighlightNote\r\n                : ButtonType.Note;\r\n        \r\n            const order = index < Player.buttonOrder.length\r\n                ? Player.buttonOrder[index]\r\n                : undefined;\r\n\r\n            return <PlayerButton\r\n                key={index}\r\n                text={note.name}\r\n                octave={note.octave}\r\n                orderNum={order}\r\n                start={start}\r\n                stop={stop}\r\n                isLeft={index < 5}\r\n                isRight={index >= 15}\r\n                isTop={index % 5 === 4}\r\n                type={type}\r\n                altProfile={this.state.altProfile}\r\n            />\r\n        });\r\n    }\r\n}","import * as React from 'react';\r\nimport { IScale, IScaleType } from '../functionality/Scales';\r\nimport logo from './logo.svg';\r\nimport './Home.css';\r\nimport { Help, Play, Configure } from './Icons';\r\n\r\ninterface IProps {\r\n    play: () => void;\r\n    configure: () => void;\r\n    help: () => void;\r\n}\r\n\r\nexport class Home extends React.Component<IProps, {}> {\r\n    render() {\r\n        const helpClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.help();\r\n        };\r\n\r\n        const playClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.play();\r\n        };\r\n\r\n        const configureClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.configure();\r\n        };\r\n\r\n        return (\r\n            <div className=\"site site--home\">\r\n                <header className=\"site__header\">\r\n                    <h2 className=\"site__title\">Thumbophone</h2>\r\n                    <img src={logo} className=\"site__logo\" alt=\"logo\" />\r\n                    <p>\r\n                        Use your phone as a musical instrument!\r\n                    </p>\r\n                </header>\r\n\r\n                <div className=\"site__links\">\r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={helpClicked}\r\n                    >\r\n                        <Help /> Instructions\r\n                    </a>\r\n                    \r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={configureClicked}\r\n                    >\r\n                        <Configure /> Configure\r\n                    </a>\r\n\r\n                    <a\r\n                        className=\"site__link site__link--primary\"\r\n                        href=\"#\"\r\n                        onClick={playClicked}\r\n                    >\r\n                        <Play /> Play now\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","export interface INote {\r\n    name: string;\r\n    frequency: number;\r\n    octave: number;\r\n}\r\n\r\nexport const C = 0, Db = 1, D = 2, Eb = 3, E = 4, F = 5, Gb = 6, G = 7, Ab = 8, A = 9, Bb = 10, B = 11;\r\n\r\nexport const octaves = [\r\n    [\r\n        { name: 'C', frequency: 16.35, octave: 0, },\r\n        { name: 'D♭', frequency: 17.32, octave: 0, },\r\n        { name: 'D', frequency: 18.35, octave: 0, },\r\n        { name: 'E♭', frequency: 19.45, octave: 0, },\r\n        { name: 'E', frequency: 20.6, octave: 0, },\r\n        { name: 'F', frequency: 21.83, octave: 0, },\r\n        { name: 'G♭', frequency: 23.12, octave: 0, },\r\n        { name: 'G', frequency: 24.5, octave: 0, },\r\n        { name: 'A♭', frequency: 25.96, octave: 0, },\r\n        { name: 'A', frequency: 27.5, octave: 0, },\r\n        { name: 'B♭', frequency: 29.14, octave: 0, },\r\n        { name: 'B', frequency: 30.87, octave: 0, },\r\n    ],\r\n\r\n    [\r\n        { name: 'C', frequency: 32.7, octave: 1, },\r\n        { name: 'D♭', frequency: 34.65, octave: 1, },\r\n        { name: 'D', frequency: 36.71, octave: 1, },\r\n        { name: 'E♭', frequency: 38.89, octave: 1, },\r\n        { name: 'E', frequency: 41.2, octave: 1, },\r\n        { name: 'F', frequency: 43.65, octave: 1, },\r\n        { name: 'G♭', frequency: 46.25, octave: 1, },\r\n        { name: 'G', frequency: 49, octave: 1, },\r\n        { name: 'A♭', frequency: 51.91, octave: 1, },\r\n        { name: 'A', frequency: 55, octave: 1, },\r\n        { name: 'B♭', frequency: 58.27, octave: 1, },\r\n        { name: 'B', frequency: 61.74, octave: 1, },\r\n    ],\r\n\r\n    [\r\n        { name: 'C', frequency: 65.41, octave: 2, },\r\n        { name: 'D♭', frequency: 69.3, octave: 2, },\r\n        { name: 'D', frequency: 73.42, octave: 2, },\r\n        { name: 'E♭', frequency: 77.78, octave: 2, },\r\n        { name: 'E', frequency: 82.41, octave: 2, },\r\n        { name: 'F', frequency: 87.31, octave: 2, },\r\n        { name: 'G♭', frequency: 92.5, octave: 2, },\r\n        { name: 'G', frequency: 98, octave: 2, },\r\n        { name: 'A♭', frequency: 103.83, octave: 2, },\r\n        { name: 'A', frequency: 110, octave: 2, },\r\n        { name: 'B♭', frequency: 116.54, octave: 2, },\r\n        { name: 'B', frequency: 123.47, octave: 2, },\r\n    ],\r\n\r\n    [\r\n        { name: 'C', frequency: 130.81, octave: 3, },\r\n        { name: 'D♭', frequency: 138.59, octave: 3, },\r\n        { name: 'D', frequency: 146.83, octave: 3, },\r\n        { name: 'E♭', frequency: 155.56, octave: 3, },\r\n        { name: 'E', frequency: 164.81, octave: 3, },\r\n        { name: 'F', frequency: 174.61, octave: 3, },\r\n        { name: 'G♭', frequency: 185, octave: 3, },\r\n        { name: 'G', frequency: 196, octave: 3, },\r\n        { name: 'A♭', frequency: 207.65, octave: 3, },\r\n        { name: 'A', frequency: 220, octave: 3, },\r\n        { name: 'B♭', frequency: 233.08, octave: 3, },\r\n        { name: 'B', frequency: 246.94, octave: 3, },\r\n    ],\r\n\r\n    [\r\n        { name: 'C', frequency: 261.63, octave: 4, },\r\n        { name: 'D♭', frequency: 277.18, octave: 4, },\r\n        { name: 'D', frequency: 293.66, octave: 4, },\r\n        { name: 'E♭', frequency: 311.13, octave: 4, },\r\n        { name: 'E', frequency: 329.63, octave: 4, },\r\n        { name: 'F', frequency: 349.23, octave: 4, },\r\n        { name: 'G♭', frequency: 369.99, octave: 4, },\r\n        { name: 'G', frequency: 392, octave: 4, },\r\n        { name: 'A♭', frequency: 415.3, octave: 4, },\r\n        { name: 'A', frequency: 440, octave: 4, },\r\n        { name: 'B♭', frequency: 466.16, octave: 4, },\r\n        { name: 'B', frequency: 493.88, octave: 4, },\r\n    ],\r\n\r\n    [\r\n        { name: 'C', frequency: 523.25, octave: 5, },\r\n        { name: 'D♭', frequency: 554.37, octave: 5, },\r\n        { name: 'D', frequency: 587.33, octave: 5, },\r\n        { name: 'E♭', frequency: 622.25, octave: 5, },\r\n        { name: 'E', frequency: 659.25, octave: 5, },\r\n        { name: 'F', frequency: 698.46, octave: 5, },\r\n        { name: 'G♭', frequency: 739.99, octave: 5, },\r\n        { name: 'G', frequency: 783.99, octave: 5, },\r\n        { name: 'A♭', frequency: 830.61, octave: 5, },\r\n        { name: 'A', frequency: 880, octave: 5, },\r\n        { name: 'B♭', frequency: 932.33, octave: 5, },\r\n        { name: 'B', frequency: 987.77, octave: 5, },\r\n    ],\r\n\r\n    [\r\n        { name: 'C', frequency: 1046.5, octave: 6, },\r\n        { name: 'D♭', frequency: 1108.73, octave: 6, },\r\n        { name: 'D', frequency: 1174.66, octave: 6, },\r\n        { name: 'E♭', frequency: 1244.51, octave: 6, },\r\n        { name: 'E', frequency: 1318.51, octave: 6, },\r\n        { name: 'F', frequency: 1396.91, octave: 6, },\r\n        { name: 'G♭', frequency: 1479.98, octave: 6, },\r\n        { name: 'G', frequency: 1567.98, octave: 6, },\r\n        { name: 'A♭', frequency: 1661.22, octave: 6, },\r\n        { name: 'A', frequency: 1760, octave: 6, },\r\n        { name: 'B♭', frequency: 1864.66, octave: 6, },\r\n        { name: 'B', frequency: 1975.53, octave: 6, },\r\n    ],\r\n\r\n    [\r\n        { name: 'C', frequency: 2093, octave: 7, },\r\n        { name: 'D♭', frequency: 2217.46, octave: 7, },\r\n        { name: 'D', frequency: 2349.32, octave: 7, },\r\n        { name: 'E♭', frequency: 2489.02, octave: 7, },\r\n        { name: 'E', frequency: 2637.02, octave: 7, },\r\n        { name: 'F', frequency: 2793.83, octave: 7, },\r\n        { name: 'G♭', frequency: 2959.96, octave: 7, },\r\n        { name: 'G', frequency: 3135.96, octave: 7, },\r\n        { name: 'A♭', frequency: 3322.44, octave: 7, },\r\n        { name: 'A', frequency: 3520, octave: 7, },\r\n        { name: 'B♭', frequency: 3729.31, octave: 7, },\r\n        { name: 'B', frequency: 3951.07, octave: 7, },\r\n    ],\r\n\r\n    [\r\n        { name: 'C', frequency: 4186.01, octave: 8, },\r\n        { name: 'D♭', frequency: 4434.92, octave: 8, },\r\n        { name: 'D', frequency: 4698.63, octave: 8, },\r\n        { name: 'E♭', frequency: 4978.03, octave: 8, },\r\n        { name: 'E', frequency: 5274.04, octave: 8, },\r\n        { name: 'F', frequency: 5587.65, octave: 8, },\r\n        { name: 'G♭', frequency: 5919.91, octave: 8, },\r\n        { name: 'G', frequency: 6271.93, octave: 8, },\r\n        { name: 'A♭', frequency: 6644.88, octave: 8, },\r\n        { name: 'A', frequency: 7040, octave: 8, },\r\n        { name: 'B♭', frequency: 7458.62, octave: 8, },\r\n        { name: 'B', frequency: 7902.13, octave: 8, },\r\n    ]\r\n];","import { C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B } from './Notes';\r\n\r\nexport interface IScale {\r\n    name: string;\r\n    notes: number[];\r\n}\r\n\r\nexport interface IScaleType {\r\n    name: string;\r\n    notesBeforeTonic: number;\r\n    scales: IScale[];\r\n}\r\n\r\nexport const scaleTypes: IScaleType[] =\r\n[\r\n    {\r\n        name: 'Major',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, Bb, C, Db, Eb, F, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, Db, D, E, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, C, D, Eb, F, G, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, Eb, E, Gb, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, E, F, G, A, B ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, Eb, F, Gb, Ab, Bb, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, Gb, G, A, B, Db ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, F, G, Ab, Bb, C, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, Ab, A, B, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, A, Bb, C, D, E ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, Ab, Bb, B, Db, Eb, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, B, C, D, E, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Minor', // Natural minor\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, Bb, B, Db, Eb, E, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, D, E, F, G ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, C, Db, Eb, F, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, E, Gb, G, A ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, F, G, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, Eb, E, Gb, Ab, A, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, G, A, Bb, C ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, F, Gb, Ab, Bb, B, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, A, B, C, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, Bb, C, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, Ab, A, B, Db, D, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, C, D, Eb, F ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Chromatic',\r\n        notesBeforeTonic: 5,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, A, Bb, B, C, Db, D, Eb, E, F, Gb, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, Bb, B, C, Db, D, Eb, E, F, Gb, G, Ab ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, B, C, Db, D, Eb, E, F, Gb, G, Ab, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, Eb, E, F, Gb, G, Ab, A, Bb, B, C, Db ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, E, F, Gb, G, Ab, A, Bb, B, C, Db, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, F, Gb, G, Ab, A, Bb, B, C, Db, D, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, Gb, G, Ab, A, Bb, B, C, Db, D, Eb, E ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, G, Ab, A, Bb, B, C, Db, D, Eb, E, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, Ab, A, Bb, B, C, Db, D, Eb, E, F, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Melodic Minor',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, Bb, B, Db, Eb, F, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, D, E, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, C, Db, Eb, F, G, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, E, Gb, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, F, G, A, B ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, Eb, E, Gb, Ab, Bb, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, G, A, B, Db ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, F, Gb, Ab, Bb, C, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, A, B, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, Bb, C, D, E ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, Ab, A, B, Db, Eb, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, C, D, E, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Harmonic Minor',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, Bb, B, Db, Eb, E, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, D, E, F, Ab ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, C, Db, Eb, F, Gb, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, E, Gb, G, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, F, G, Ab, B ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, Eb, E, Gb, Ab, A, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, G, A, Bb, Db ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, F, Gb, Ab, Bb, B, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, A, B, C, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, Bb, C, Db, E ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, Ab, A, B, Db, D, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, C, D, Eb, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Minor Pentatonic',\r\n        notesBeforeTonic: 5,\r\n        scales: [\r\n            {\r\n                name: 'Ab',\r\n                notes: [ Ab, B, Db, Eb, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, C, D, E, G ],\r\n            },\r\n            {\r\n                name: 'Bb',\r\n                notes: [ Bb, Db, Eb, F, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, D, E, Gb, A ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, Eb, F, G, Bb ],\r\n            },\r\n            {\r\n                name: 'Db',\r\n                notes: [ Db, E, Gb, Ab, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, F, G, A, C ],\r\n            },\r\n            {\r\n                name: 'Eb',\r\n                notes: [ Eb, Gb, Ab, Bb, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, G, A, B, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, Ab, Bb, C, Eb ],\r\n            },\r\n            {\r\n                name: 'Gb',\r\n                notes: [ Gb, A, B, Db, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, Bb, C, D, F ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Major Pentatonic',\r\n        notesBeforeTonic: 5,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, Bb, C, Eb, F ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, Db, E, Gb ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, C, D, F, G ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, Eb, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, E, G, A ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, Eb, F, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, Gb, A, B ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, F, G, Bb, C ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, Ab, B, Db ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, A, C, D ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, Ab, Bb, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, B, D, E ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Minor Pentatonic Blues',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, B, Db, D, Eb, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, C, D, Eb, E, G ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, Db, Eb, E, F, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, D, E, F, Gb, A ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, Eb, F, Gb, G, Bb ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, E, Gb, G, Ab, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, F, G, Ab, A, C ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, Gb, Ab, A, Bb, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, G, A, Bb, B, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, Ab, Bb, B, C, Eb ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, A, B, C, Db, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, Bb, C, Db, D, F ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Major Pentatonic Blues',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, Bb, B, C, Eb, F ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, Db, E, Gb ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, C, Db, D, F, G ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, Eb, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, E, G, A ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, Eb, E, F, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, Gb, A, B ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, F, Gb, G, Bb, C ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, Ab, B, Db ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, A, C, D ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, Ab, A, Bb, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, B, D, E ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Major Bebop',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, Bb, C, Db, Eb, E, F, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, Db, D, E, F, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, C, D, Eb, F, Gb, G, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, Eb, E, Gb, G, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, E, F, G, Ab, A, B ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, Eb, F, Gb, Ab, A, Bb, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, Gb, G, A, Bb, B, Db ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, F, G, Ab, Bb, B, C, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, Ab, A, B, C, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, A, Bb, C, Db, D, E ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, Ab, Bb, B, Db, D, Eb, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, B, C, D, Eb, E, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Minor Bebop',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, Bb, B, C, Db, Eb, F, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, Db, D, E, Gb, G ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, C, Db, D, Eb, F, G, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, Eb, E, Gb, Ab, A ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, E, F, G, A, Bb ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, Eb, E, F, Gb, Ab, Bb, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, Gb, G, A, B, C ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, F, Gb, G, Ab, Bb, C, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, Ab, A, B, Db, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, A, Bb, C, D, Eb ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, Ab, A, Bb, B, Db, Eb, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, B, C, D, E, F ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Super Locrian',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'C',\r\n                notes: [ C, Db, Eb, E, Gb, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'D♭',\r\n                notes: [ Db, D, E, F, G, A, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, Eb, F, Gb, Ab, Bb, C ],\r\n            },\r\n            {\r\n                name: 'E♭',\r\n                notes: [ Eb, E, Gb, G, A, B, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, F, G, Ab, Bb, C, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, Gb, Ab, A, B, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'G♭',\r\n                notes: [ Gb, G, A, Bb, C, D, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, Ab, Bb, B, Db, Eb, F ],\r\n            },\r\n            {\r\n                name: 'A♭',\r\n                notes: [ Ab, A, B, C, D, E, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, Bb, C, Db, Eb, F, G ],\r\n            },\r\n            {\r\n                name: 'B♭',\r\n                notes: [ Bb, B, Db, D, E, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, C, D, Eb, F, G, A ],\r\n            },\r\n        ]\r\n    },\r\n];","import * as React from 'react';\r\nimport { Home } from './Icons';\r\n\r\ninterface IProps {\r\n    back: () => void;\r\n}\r\n\r\nexport class Help extends React.Component<IProps, {}> {\r\n    render() {\r\n        const backClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.back();\r\n        };\r\n\r\n        return (\r\n            <div className=\"site site--help\">\r\n                <header className=\"site__header\">\r\n                    <p>\r\n                        How to play\r\n                    </p>\r\n                </header>\r\n\r\n                <div className=\"site__help\">\r\n                    <p>\r\n                        The thumbophone is intended to be played on a mobile phone or similar-sized device, held in two hands.\r\n                        Use your left thumb for the keys on the left-hand side of the screen, and your right thumb for the keys on the right.\r\n                    </p>\r\n                    <p>\r\n                        The thumbophone <em>does not</em> give you access to all notes; it only lets you use notes in the selected scale. (However you can select a chromatic scale if you wish.)\r\n                        This is similar to how most harmonicas work, except with the thumbophone, you can quickly change the scale.\r\n                    </p>\r\n                    <p>\r\n                        When you first start playing, it's easiest if you ignore the smaller buttons on the outermost columns, and just use the central two columns of buttons.\r\n                        Once you feel comfortable with these, move on to using the outer buttons as needed.\r\n                    </p>\r\n                    <p>\r\n                        For advanced users, you can enable an \"alternate\" configuration and tilt your phone left/right to switch between configurations while playing.\r\n                        This can be quite offputting for new players.\r\n                    </p>\r\n                </div>\r\n                \r\n                <div className=\"site__links\">\r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={backClicked}\r\n                    >\r\n                        <Home /> Home\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import { octaves } from './Notes';\r\nimport { IScale, IScaleType } from './Scales';\r\n\r\nexport function determineNotes(scale: IScale, scaleType: IScaleType, mainOctave: number) {\r\n    let lastNoteIndex = -1;\r\n\r\n    // Add a full scale of notes\r\n    let iOctave = mainOctave;\r\n    const scaleNotes = scale.notes.map(noteIndex => {\r\n        if (noteIndex < lastNoteIndex && iOctave < octaves.length - 1) {\r\n            iOctave ++;\r\n        }\r\n\r\n        lastNoteIndex = noteIndex;\r\n\r\n        return octaves[iOctave][noteIndex];\r\n    });\r\n    \r\n    const numToAddToStart = scaleType.notesBeforeTonic;\r\n    const numToAddToEnd = 20 - numToAddToStart - scale.notes.length;\r\n\r\n    // Add notes to the end, after the \"main\" octave\r\n    let iScaleNote = -1;\r\n    for (let i = 0; i < numToAddToEnd; i++) {\r\n        iScaleNote++;\r\n        if (iScaleNote >= scale.notes.length) {\r\n            iScaleNote = 0;\r\n        }\r\n        let iOctaveNote = scale.notes[iScaleNote];\r\n        if (iOctaveNote < lastNoteIndex && iOctave < octaves.length - 2) {\r\n            iOctave ++;\r\n        }\r\n        lastNoteIndex = iOctaveNote;\r\n        scaleNotes.push(octaves[iOctave][iOctaveNote]);    \r\n    }\r\n\r\n    // Add notes to the beginning, before the \"main\" octave\r\n    lastNoteIndex = scale.notes[0];\r\n    iOctave = mainOctave;\r\n    iScaleNote = scale.notes.length;\r\n    for (let i = 0; i < numToAddToStart; i++) {\r\n        iScaleNote--;\r\n        if (iScaleNote < 0) {\r\n            iScaleNote = scale.notes.length - 1;\r\n        }\r\n        let iOctaveNote = scale.notes[iScaleNote];\r\n        if (iOctaveNote > lastNoteIndex && iOctave > 0) {\r\n            iOctave --;\r\n        }\r\n        lastNoteIndex = iOctaveNote;\r\n        scaleNotes.unshift(octaves[iOctave][iOctaveNote]);    \r\n    }\r\n\r\n    return scaleNotes;\r\n}","import * as React from 'react';\r\nimport { Player, IProfile } from './Player';\r\nimport { Home } from './Home';\r\nimport { IScale, scaleTypes, IScaleType } from '../functionality/Scales';\r\nimport { Help } from './Help';\r\nimport { octaves } from '../functionality/Notes';\r\nimport { determineNotes } from '../functionality/determineNotes';\r\nimport './App.css';\r\nimport { Configuration } from './Configuration';\r\nimport { IVoice, voices } from '../functionality/Voices';\r\n\r\nenum Display {\r\n    Home,\r\n    Help,\r\n    Play,\r\n    Config,\r\n}\r\n\r\ninterface IState {\r\n    display: Display;\r\n    installPrompt?: Event;\r\n\r\n    scaleType: IScaleType;\r\n    scale: IScale;\r\n    octave: number;\r\n    volume: number;\r\n    voice: IVoice;\r\n\r\n    useSplitProfile: boolean;\r\n\r\n    scaleType2: IScaleType;\r\n    scale2: IScale;\r\n    octave2: number;\r\n    volume2: number;\r\n    voice2: IVoice;\r\n}\r\n\r\nconst splitVarName = 'useSplit';\r\nconst scaleTypeVarName = 'scaleType', scaleType2VarName = 'scaleType2';\r\nconst scaleNoteVarName = 'scaleNote', scaleNote2VarName = 'scaleNote2';\r\nconst octaveVarName = 'octave', octave2VarName = 'octave2';\r\nconst volumeVarName = 'volume', volume2VarName = 'volume2';\r\nconst voiceVarName = 'voice', voice2VarName = 'voice2';\r\nconst playedBeforeVarName = 'hasPlayedBefore';\r\n\r\nclass App extends React.Component<{}, IState> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n\r\n        // load saved settings, if present\r\n        const scaleType = this.loadScaleType(scaleTypeVarName);\r\n        const scaleType2 = this.loadScaleType(scaleType2VarName);\r\n\r\n        this.state = {\r\n            display: sessionStorage.getItem(playedBeforeVarName) === null ? Display.Home : Display.Play,\r\n\r\n            scaleType: scaleType,\r\n            scale: this.loadScale(scaleType, scaleNoteVarName),\r\n            octave: this.loadOctave(octaveVarName),\r\n            volume: this.loadVolume(volumeVarName),\r\n            voice: this.loadVoice(voiceVarName),\r\n\r\n            useSplitProfile: this.loadUseSplit(splitVarName),\r\n\r\n            scaleType2: scaleType2,\r\n            scale2: this.loadScale(scaleType2, scaleNote2VarName),\r\n            octave2: this.loadOctave(octave2VarName),\r\n            volume2: this.loadVolume(volume2VarName),\r\n            voice2: this.loadVoice(voice2VarName),\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('beforeinstallprompt', (e) => {\r\n            e.preventDefault();\r\n            this.setState({\r\n                installPrompt: e,\r\n            });\r\n        });\r\n\r\n        window.addEventListener('appinstalled', (evt) => {\r\n            this.setState({\r\n                installPrompt: undefined,\r\n            });\r\n        });\r\n    }\r\n\r\n    private loadScaleType(sessionVarName: string) {\r\n        const savedScaleType = sessionStorage.getItem(sessionVarName);\r\n\r\n        if (savedScaleType !== null) {\r\n            const match = scaleTypes.filter(s => s.name === savedScaleType);\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n        }\r\n\r\n        return scaleTypes[0];\r\n    }\r\n\r\n    private loadScale(scaleType: IScaleType, sessionVarName: string) {\r\n        const savedScale = sessionStorage.getItem(sessionVarName);\r\n\r\n        if (savedScale !== null) {\r\n            const match = scaleType.scales.filter(s => s.name === savedScale);\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n        }\r\n        \r\n        return scaleType.scales.filter(s => s.name === 'C')[0];\r\n    }\r\n\r\n    private loadOctave(sessionVarName: string) {\r\n        const savedOctave = sessionStorage.getItem(sessionVarName);\r\n\r\n        if (savedOctave !== null) {\r\n            const value = parseInt(savedOctave);\r\n            if (value >= 0 && value < octaves.length) {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        return 4;\r\n    }\r\n\r\n    private loadVolume(sessionVarName: string) {\r\n        const savedVol = sessionStorage.getItem(sessionVarName);\r\n\r\n        if (savedVol !== null) {\r\n            const value = parseFloat(savedVol);\r\n            if (value >= 0 && value <= 1) {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        return 0.1;\r\n    }\r\n\r\n    private loadVoice(sessionVarName: string) {\r\n        const savedVoiceName = sessionStorage.getItem(sessionVarName);\r\n\r\n        if (savedVoiceName !== null) {\r\n            const voice = voices.find(v => v.name === savedVoiceName);\r\n            \r\n            if (voice !== undefined) {\r\n                return voice;\r\n            }\r\n        }\r\n\r\n        return voices[0];\r\n    }\r\n\r\n    private loadUseSplit(sessionVarName: string) {\r\n        return sessionStorage.getItem(sessionVarName) === 'true';\r\n    }\r\n\r\n    render() {\r\n        if (this.state.display === Display.Help) {\r\n            const back = () => this.setState({ display: Display.Home });\r\n\r\n            return <Help\r\n                back={back}\r\n            />\r\n        }\r\n        else if (this.state.display === Display.Play) {\r\n            const exit = () => this.setState({ display: Display.Home });\r\n            const configure = () => this.setState({ display: Display.Config });\r\n\r\n            const profiles: IProfile[] = [\r\n                {\r\n                    notes: determineNotes(this.state.scale, this.state.scaleType, this.state.octave),\r\n                    highlightNoteName: this.state.scale.name,\r\n                    keyName: `${this.state.scale.name} ${this.state.scaleType.name}`,\r\n                    volume: this.state.volume,\r\n                    voice: this.state.voice,\r\n                }\r\n            ];\r\n\r\n            if (this.state.useSplitProfile) {\r\n                profiles.push({\r\n                    notes: determineNotes(this.state.scale2, this.state.scaleType2, this.state.octave2),\r\n                    highlightNoteName: this.state.scale2.name,\r\n                    keyName: `${this.state.scale2.name} ${this.state.scaleType2.name}`,\r\n                    volume: this.state.volume2,\r\n                    voice: this.state.voice2,\r\n                });\r\n            }\r\n\r\n            return <Player\r\n                goHome={exit}\r\n                configure={configure}\r\n                profiles={profiles}\r\n            />\r\n        }\r\n        else if (this.state.display === Display.Config) {\r\n            const play = () => {\r\n                sessionStorage.setItem(playedBeforeVarName, 'true');\r\n                this.setState({ display: Display.Play });\r\n            };\r\n            const back = () => this.setState({ display: Display.Home });\r\n\r\n            const install = this.state.installPrompt === undefined\r\n                ? undefined\r\n                : () => (this.state.installPrompt as any).prompt();\r\n\r\n            const setScaleType = (scaleType: IScaleType, isAlt: boolean) => {\r\n                const scaleIndex = this.state.scaleType.scales.indexOf(isAlt ? this.state.scale2 : this.state.scale);\r\n                const newScale = scaleIndex >= 0 && scaleIndex < scaleType.scales.length\r\n                    ? scaleType.scales[scaleIndex]\r\n                    : scaleType.scales[0];\r\n\r\n                if (isAlt) {\r\n                    sessionStorage.setItem(scaleType2VarName, scaleType.name);\r\n\r\n                    this.setState({\r\n                        scaleType2: scaleType,\r\n                        scale2: newScale,\r\n                    });\r\n                }\r\n                else {\r\n                    sessionStorage.setItem(scaleTypeVarName, scaleType.name);\r\n\r\n                    this.setState({\r\n                        scaleType: scaleType,\r\n                        scale: newScale,\r\n                    });\r\n                }\r\n            };\r\n\r\n            const setScale = (scale: IScale, isAlt: boolean) => {\r\n                if (isAlt) {\r\n                    sessionStorage.setItem(scaleNote2VarName, scale.name);\r\n                    this.setState({ scale2: scale });\r\n                }\r\n                else {\r\n                    sessionStorage.setItem(scaleNoteVarName, scale.name);\r\n                    this.setState({ scale: scale });\r\n                }\r\n            };\r\n\r\n            const setOctave = (octave: number, isAlt: boolean) => {\r\n                if (isAlt) {\r\n                    sessionStorage.setItem(octave2VarName, octave.toString());\r\n                    this.setState({ octave2: octave });\r\n                }\r\n                else {\r\n                    sessionStorage.setItem(octaveVarName, octave.toString());\r\n                    this.setState({ octave: octave });\r\n                }\r\n            };\r\n\r\n            const setVolume = (vol: number, isAlt: boolean) => {\r\n                if (isAlt) {\r\n                    sessionStorage.setItem(volume2VarName, vol.toString());\r\n                    this.setState({ volume2: vol });\r\n                }\r\n                else {\r\n                    sessionStorage.setItem(volumeVarName, vol.toString());\r\n                    this.setState({ volume: vol });\r\n                }\r\n            };\r\n\r\n            const setVoice = (voice: IVoice, isAlt: boolean) => {\r\n                if (isAlt) {\r\n                    sessionStorage.setItem(voice2VarName, voice.name);\r\n                    this.setState({ voice2: voice });\r\n                }\r\n                else {\r\n                    sessionStorage.setItem(voiceVarName, voice.name);\r\n                    this.setState({ voice: voice });\r\n                }\r\n            };\r\n\r\n            const setSplit = (useSplit: boolean) => {\r\n                sessionStorage.setItem(splitVarName, useSplit.toString());\r\n                this.setState({ useSplitProfile: useSplit });\r\n            }\r\n\r\n            return <Configuration\r\n                play={play}\r\n                back={back}\r\n                install={install}\r\n\r\n                useSplitProfile={this.state.useSplitProfile}\r\n                setUseSplitProfile={setSplit}\r\n\r\n                scaleType={this.state.scaleType}\r\n                scaleType2={this.state.scaleType2}\r\n                selectScaleType={setScaleType}\r\n\r\n                scale={this.state.scale}\r\n                scale2={this.state.scale2}\r\n                selectScale={setScale}\r\n\r\n                octave={this.state.octave}\r\n                octave2={this.state.octave2}\r\n                setOctave={setOctave}\r\n\r\n                volume={this.state.volume}\r\n                volume2={this.state.volume2}\r\n                setVolume={setVolume}\r\n\r\n                voice={this.state.voice}\r\n                voice2={this.state.voice2}\r\n                setVoice={setVoice}\r\n            />\r\n        }\r\n        else {\r\n            const play = () => {\r\n                sessionStorage.setItem(playedBeforeVarName, 'true');\r\n                this.setState({ display: Display.Play });\r\n            };\r\n            const configure = () => this.setState({ display: Display.Config });\r\n            const help = () => this.setState({ display: Display.Help });\r\n\r\n            return <Home\r\n                help={help}\r\n                play={play}\r\n                configure={configure}\r\n            />\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import { Bass, ChorusStrings, Dissonant2, Organ2, Organ3, Celeste, Brass, Throaty } from '@mohayonao/wave-tables';\r\n\r\nexport interface IVoice {\r\n    name: string;\r\n    apply: (oscillator: OscillatorNode) => void;\r\n}\r\n\r\nexport const voices: IVoice[] = [\r\n    {\r\n        name: 'Sine wave',\r\n        apply: o => o.type = 'sine',\r\n    },\r\n    {\r\n        name: 'Bass',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Bass.real, Bass.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Organ 1',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Organ2.real, Organ2.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Organ 2',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Organ3.real, Organ3.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Organ 3',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Dissonant2.real, Dissonant2.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Brass',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Brass.real, Brass.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Celeste',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Celeste.real, Celeste.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Throaty',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Throaty.real, Throaty.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Chorus Strings',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(ChorusStrings.real, ChorusStrings.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Sawtooth',\r\n        apply: o => o.type = 'sawtooth',\r\n    },\r\n    {\r\n        name: 'Square',\r\n        apply: o => o.type = 'square',\r\n    },\r\n]","import * as React from 'react';\r\nimport { IScale, scaleTypes, IScaleType } from '../functionality/Scales';\r\nimport { IVoice, voices } from '../functionality/Voices';\r\n\r\ninterface IProps {\r\n    isAlternate: boolean;\r\n\r\n    scaleType: IScaleType;\r\n    selectScaleType: (scaleType: IScaleType) => void;\r\n\r\n    scale: IScale;\r\n    selectScale: (scale: IScale) => void;\r\n\r\n    octave: number;\r\n    setOctave: (octave: number) => void;\r\n\r\n    volume: number;\r\n    setVolume: (vol: number) => void;\r\n\r\n    voice: IVoice;\r\n    selectVoice: (voice: IVoice) => void;\r\n}\r\n\r\nexport class ProfileSettings extends React.Component<IProps, {}> {\r\n    render() {\r\n        const selectedScaleTypeIndex = scaleTypes.indexOf(this.props.scaleType);\r\n        const selectedScaleNoteIndex = this.props.scaleType.scales.indexOf(this.props.scale);\r\n        const selectedVoiceIndex = voices.indexOf(this.props.voice);\r\n\r\n        const scaleTypeOptions = scaleTypes.map((scaleType, index) => <option key={index} value={index.toString()}>{scaleType.name}</option>);\r\n        const scaleNoteOptions = this.props.scaleType.scales.map((scale, index) => <option key={index} value={index.toString()}>{scale.name}</option>);\r\n        const voiceOptions = voices.map((voice, index) => <option key={index} value={index.toString()}>{voice.name}</option>);\r\n\r\n        const selectScaleType = (e: React.ChangeEvent<HTMLSelectElement>) => this.props.selectScaleType(scaleTypes[e.target.selectedIndex],);\r\n        const selectScale = (e: React.ChangeEvent<HTMLSelectElement>) => this.props.selectScale(this.props.scaleType.scales[e.target.selectedIndex]);\r\n        const setOctave = (e: React.ChangeEvent<HTMLInputElement>) => this.props.setOctave(parseInt(e.target.value));\r\n        const setVolume = (e: React.ChangeEvent<HTMLInputElement>) => this.props.setVolume(parseFloat(e.target.value));\r\n        const selectVoice = (e: React.ChangeEvent<HTMLSelectElement>) => this.props.selectVoice(voices[e.target.selectedIndex]);\r\n\r\n        const classes = this.props.isAlternate\r\n            ? 'site__options site__options--alternate'\r\n            : 'site__options';\r\n\r\n        return (\r\n            <div className={classes}>\r\n            \r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Scale</span>\r\n                    <select\r\n                        className=\"site__value\"\r\n                        value={selectedScaleTypeIndex.toString()}\r\n                        onChange={selectScaleType}\r\n                    >\r\n                        {scaleTypeOptions}\r\n                    </select>\r\n                </label>\r\n\r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Tonic</span>\r\n                    <select\r\n                        className=\"site__value\"\r\n                        value={selectedScaleNoteIndex.toString()}\r\n                        onChange={selectScale}\r\n                    >\r\n                        {scaleNoteOptions}\r\n                    </select>\r\n                </label>\r\n\r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Voice</span>\r\n                    <select\r\n                        className=\"site__value\"\r\n                        value={selectedVoiceIndex.toString()}\r\n                        onChange={selectVoice}\r\n                    >\r\n                        {voiceOptions}\r\n                    </select>\r\n                </label>\r\n\r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Octave</span>\r\n                    <input\r\n                        className=\"site__value\"\r\n                        type=\"range\"\r\n                        min=\"1\"\r\n                        max=\"6\"\r\n                        step=\"1\"\r\n                        value={this.props.octave}\r\n                        onChange={setOctave}\r\n                    />\r\n                </label>\r\n\r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Volume</span>\r\n                    <input\r\n                        className=\"site__value\"\r\n                        type=\"range\"\r\n                        min=\"0\"\r\n                        max=\"1\"\r\n                        step=\"0.025\"\r\n                        value={this.props.volume}\r\n                        onChange={setVolume}\r\n                    />\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { IScale, IScaleType } from '../functionality/Scales';\r\nimport { ProfileSettings } from './ProfileSettings';\r\nimport { Play, Home, Install } from './Icons';\r\nimport { IVoice } from '../functionality/Voices';\r\n\r\ninterface IProps {\r\n    play: () => void;\r\n    back: () => void;\r\n    install?: () => void;\r\n    \r\n    useSplitProfile: boolean;\r\n    setUseSplitProfile: (use: boolean) => void;\r\n\r\n    scaleType: IScaleType;\r\n    scaleType2: IScaleType;\r\n    selectScaleType: (scaleType: IScaleType, isAlt: boolean) => void;\r\n\r\n    scale: IScale;\r\n    scale2: IScale;\r\n    selectScale: (scale: IScale, isAlt: boolean) => void;\r\n\r\n    octave: number;\r\n    octave2: number;\r\n    setOctave: (octave: number, isAlt: boolean) => void;\r\n\r\n    volume: number;\r\n    volume2: number;\r\n    setVolume: (vol: number, isAlt: boolean) => void;\r\n\r\n    voice: IVoice;\r\n    voice2: IVoice;\r\n    setVoice: (voice: IVoice, isAlt: boolean) => void;\r\n}\r\n\r\nexport class Configuration extends React.Component<IProps, {}> {\r\n    render() {\r\n        const playClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.play();\r\n        };\r\n\r\n        const backClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.back();\r\n        };\r\n\r\n        const installClicked = this.props.install === undefined\r\n            ? undefined\r\n            : (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n                e.preventDefault();\r\n                this.props.install!();\r\n            };\r\n\r\n        const selectPrimaryScaleType = (scaleType: IScaleType) => this.props.selectScaleType(scaleType, false);\r\n        const selectPrimaryScale = (scale: IScale) => this.props.selectScale(scale, false);\r\n        const setPrimaryOctave = (octave: number) => this.props.setOctave(octave, false);\r\n        const setPrimaryVolume = (volume: number) => this.props.setVolume(volume, false);\r\n        const setPrimaryVoice = (voice: IVoice) => this.props.setVoice(voice, false);\r\n\r\n        const switchSplitProfile = (e: React.ChangeEvent<HTMLInputElement>) => this.props.setUseSplitProfile(e.target.checked);\r\n\r\n        const selectAlternateScaleType = (scaleType: IScaleType) => this.props.selectScaleType(scaleType, true);\r\n        const selectAlternateScale = (scale: IScale) => this.props.selectScale(scale, true);\r\n        const setAlternateOctave = (octave: number) => this.props.setOctave(octave, true);\r\n        const setAlternateVolume = (volume: number) => this.props.setVolume(volume, true);\r\n        const setAlternateVoice = (voice: IVoice) => this.props.setVoice(voice, true);\r\n\r\n        const alternateSettings = this.props.useSplitProfile\r\n            ? <ProfileSettings\r\n                isAlternate={true}\r\n                scaleType={this.props.scaleType2}\r\n                scale={this.props.scale2}\r\n                octave={this.props.octave2}\r\n                volume={this.props.volume2}\r\n                voice={this.props.voice2}\r\n\r\n                selectScaleType={selectAlternateScaleType}\r\n                selectScale={selectAlternateScale}\r\n                setOctave={setAlternateOctave}\r\n                setVolume={setAlternateVolume}\r\n                selectVoice={setAlternateVoice}\r\n            />\r\n            : undefined;\r\n\r\n        const installLink = this.props.install === undefined\r\n            ? undefined\r\n            : <a className=\"site__link\" href=\"#\" onClick={installClicked}>\r\n                <Install /> Add to home screen\r\n            </a>\r\n\r\n        return (\r\n            <div className=\"site site--configuration\">\r\n                <header className=\"site__header\">\r\n                    <p>\r\n                        Configuration\r\n                    </p>\r\n                </header>\r\n\r\n                <ProfileSettings\r\n                    isAlternate={false}\r\n                    scaleType={this.props.scaleType}\r\n                    scale={this.props.scale}\r\n                    octave={this.props.octave}\r\n                    volume={this.props.volume}\r\n                    voice={this.props.voice}\r\n\r\n                    selectScaleType={selectPrimaryScaleType}\r\n                    selectScale={selectPrimaryScale}\r\n                    setOctave={setPrimaryOctave}\r\n                    setVolume={setPrimaryVolume}\r\n                    selectVoice={setPrimaryVoice}\r\n                />\r\n\r\n                <label className=\"site__useAlt\">\r\n                    Tilt screen for alternate configuration\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        checked={this.props.useSplitProfile}\r\n                        onChange={switchSplitProfile}\r\n                    />\r\n                </label>\r\n\r\n                {alternateSettings}\r\n\r\n                <div className=\"site__links\">\r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={backClicked}\r\n                    >\r\n                        <Home /> Home\r\n                    </a>\r\n                    <a\r\n                        className=\"site__link site__link--primary\"\r\n                        href=\"#\"\r\n                        onClick={playClicked}\r\n                    >\r\n                        <Play /> Play now\r\n                    </a>\r\n\r\n                    {installLink}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}