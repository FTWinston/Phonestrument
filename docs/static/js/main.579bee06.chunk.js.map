{"version":3,"sources":["NoteButton.tsx","Audio.ts","Player.tsx","Notes.ts","Site.tsx","Help.tsx","App.tsx","serviceWorker.ts","index.tsx","logo.svg"],"names":["NoteButton","_PureComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","keydown","e","which","keycode","setState","active","start","keyup","stop","state","inherits","createClass","key","value","document","addEventListener","removeEventListener","_this2","touchEnd","classes","react_default","a","createElement","className","onTouchStart","onTouchEnd","onTouchCancel","text","octave","PureComponent","Audio","audioCtx","gain","oscillators","AudioContext","createGain","setValueAtTime","currentTime","connect","destination","frequency","undefined","oscillator","createOscillator","type","noteGain","noteOscillator","exponentialRampToValueAtTime","setTimeout","disconnect","Player","_Component","_getPrototypeOf2","_len","arguments","length","args","Array","_key","apply","concat","audio","fullscreenElement","documentElement","requestFullscreen","stopAll","exitFullscreen","notes","map","note","index","NoteButton_NoteButton","name","href","onClick","preventDefault","exit","Component","D4","E4","F4","Gb4","G4","A4","B4","C5","Db5","D5","Eb5","E5","Gb5","Ab5","scales","Site","selectedScaleIndex","indexOf","selectedScale","scaleOptions","scale","toString","src","logo","alt","help","play","onChange","selectScale","target","selectedIndex","Help","back","App","playing","helping","Help_Help","Player_Player","Site_Site","console","log","Boolean","window","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"8OAcaA,EAAb,SAAAC,GAkBI,SAAAD,EAAYE,GAAe,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,IACvBG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAJ,GAAAS,KAAAH,KAAMJ,KAlBOQ,QAAU,SAACC,GACpBA,EAAEC,QAAUT,EAAKD,MAAMW,UACvBV,EAAKW,SAAS,CACVC,QAAQ,IAEZZ,EAAKD,MAAMc,UAYQb,EATVc,MAAQ,SAACN,GAClBA,EAAEC,QAAUT,EAAKD,MAAMW,UACvBV,EAAKW,SAAS,CACVC,QAAQ,IAEZZ,EAAKD,MAAMgB,SAOff,EAAKgB,MAAQ,CACTJ,QAAQ,GAJWZ,EAlB/B,OAAAC,OAAAgB,EAAA,EAAAhB,CAAAJ,EAAAC,GAAAG,OAAAiB,EAAA,EAAAjB,CAAAJ,EAAA,EAAAsB,IAAA,oBAAAC,MAAA,WA2BQC,SAASC,iBAAiB,UAAWnB,KAAKI,SAC1Cc,SAASC,iBAAiB,QAASnB,KAAKW,SA5BhD,CAAAK,IAAA,uBAAAC,MAAA,WAgCQC,SAASE,oBAAoB,UAAWpB,KAAKI,SAC7Cc,SAASE,oBAAoB,QAASpB,KAAKW,SAjCnD,CAAAK,IAAA,SAAAC,MAAA,WAoCa,IAAAI,EAAArB,KAQCsB,EAAW,WACbD,EAAKb,SAAS,CACVC,QAAQ,IAEZY,EAAKzB,MAAMgB,QAGTW,EAAUvB,KAAKa,MAAMJ,OACrB,oCACA,eAEN,OACIe,EAAAC,EAAAC,cAAA,OACIC,UAAWJ,EACXK,aArBW,WACfP,EAAKb,SAAS,CACVC,QAAQ,IAEZY,EAAKzB,MAAMc,SAkBPmB,WAAYP,EACZQ,cAAeR,GAEdtB,KAAKJ,MAAMmC,KAAKP,EAAAC,EAAAC,cAAA,WAAM1B,KAAKJ,MAAMoC,aA9DlDtC,EAAA,CAAgCuC,iBCPnBC,SAAb,WAKI,SAAAA,IAAepC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkC,GAAAlC,KAJEmC,cAIH,EAAAnC,KAHGoC,UAGH,EAAApC,KAFGqC,YAAkD,GAG/DrC,KAAKmC,SAAW,IAAIG,aACpBtC,KAAKoC,KAAOpC,KAAKmC,SAASI,aAE1BvC,KAAKoC,KAAKA,KAAKI,eAAe,GAAKxC,KAAKmC,SAASM,aAEjDzC,KAAKoC,KAAKM,QAAQ1C,KAAKmC,SAASQ,aAXxC,OAAA7C,OAAAiB,EAAA,EAAAjB,CAAAoC,EAAA,EAAAlB,IAAA,QAAAC,MAAA,SAciB2B,GAGT,QAAuBC,IAFF7C,KAAKqC,YAAYO,GAEtC,CAKA,IAAME,EAAa9C,KAAKmC,SAASY,mBAEjCD,EAAWE,KAAO,OAClBF,EAAWF,UAAUJ,eAAeI,EAAW5C,KAAKmC,SAASM,aAC7DK,EAAWpC,QAEX,IAAMuC,EAAWjD,KAAKmC,SAASI,aAC/BO,EAAWJ,QAAQO,GAEnBA,EAASP,QAAQ1C,KAAKoC,MACtBpC,KAAKqC,YAAYO,GAAa,CAC1BE,WAAYA,EACZV,KAAMa,MAlClB,CAAAjC,IAAA,OAAAC,MAAA,SAsCgB2B,GAAmB,IAAA/C,EAAAG,KACrBkD,EAAiBlD,KAAKqC,YAAYO,GAExC,QAAuBC,IAAnBK,EAAJ,QAKOlD,KAAKqC,YAAYO,GAGxB,IAAMR,EAAOc,EAAed,KAAKA,KACjCA,EAAKI,eAAeJ,EAAKnB,MAAOjB,KAAKmC,SAASM,aAC9CS,EAAed,KAAKA,KAAKe,6BAA6B,KAAQnD,KAAKmC,SAASM,YAAc,KAE1FW,WAAW,WACPF,EAAeJ,WAAWlC,OAC1BsC,EAAed,KAAKiB,WAAWxD,EAAKuC,OACrC,OAxDX,CAAApB,IAAA,UAAAC,MAAA,WA4DQ,IAAK,IAAID,KAAOhB,KAAKqC,YAAa,CAC9B,IAAMa,EAAiBlD,KAAKqC,YAAYrB,GAExCkC,EAAeJ,WAAWlC,OAC1BsC,EAAed,KAAKiB,WAAWrD,KAAKoC,WAhEhDF,EAAA,ICIaoB,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAA3D,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsD,GAAA,QAAAG,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAjE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,MAAAwD,EAAA1D,OAAAI,EAAA,EAAAJ,CAAAwD,IAAAnD,KAAA4D,MAAAP,EAAA,CAAAxD,MAAAgE,OAAAJ,MACYK,MAAQ,IAAI/B,EADxBrC,EAAA,OAAAC,OAAAgB,EAAA,EAAAhB,CAAAwD,EAAAC,GAAAzD,OAAAiB,EAAA,EAAAjB,CAAAwD,EAAA,EAAAtC,IAAA,oBAAAC,MAAA,WAIcC,SAAiBgD,mBACnBhD,SAASiD,gBAAgBC,sBALrC,CAAApD,IAAA,uBAAAC,MAAA,WAUQjB,KAAKiE,MAAMI,UAEPnD,SAASoD,gBAAmBpD,SAAiBgD,mBAC7ChD,SAASoD,mBAbrB,CAAAtD,IAAA,SAAAC,MAAA,WAiBa,IAAAI,EAAArB,KAMCuE,EAAQvE,KAAKJ,MAAM2E,MAAMC,IAAI,SAACC,EAAMC,GAItC,OAAOlD,EAAAC,EAAAC,cAACiD,EAAD,CACH3D,IAAK0D,EACLnE,QAASmE,EAAQ,GACjB3C,KAAM0C,EAAKG,KACX5C,OAAQyC,EAAKzC,OACbtB,MARU,kBAAMW,EAAK4C,MAAMvD,MAAM+D,EAAK7B,YAStChC,KARS,kBAAMS,EAAK4C,MAAMrD,KAAK6D,EAAK7B,gBAY5C,OACIpB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACV4C,GAGL/C,EAAAC,EAAAC,cAAA,KACIC,UAAU,eACVkD,KAAK,IACLC,QA5BQ,SAACzE,GACjBA,EAAE0E,iBACF1D,EAAKzB,MAAMoF,SAuBP,gBA3ChB1B,EAAA,CAA4B2B,aCsDtBC,EAAK,CAAEN,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,GAE7CmD,EAAK,CAAEP,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,GAC7CoD,EAAK,CAAER,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,GAC7CqD,EAAM,CAAET,KAAM,UAAMhC,UAAW,OAAQZ,OAAQ,GAC/CsD,EAAK,CAAEV,KAAM,IAAKhC,UAAW,IAAKZ,OAAQ,GAE1CuD,EAAK,CAAEX,KAAM,IAAKhC,UAAW,IAAKZ,OAAQ,GAE1CwD,EAAK,CAAEZ,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,GAE7CyD,EAAK,CAAEb,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,GAC7C0D,EAAM,CAAEd,KAAM,UAAMhC,UAAW,OAAQZ,OAAQ,GAC/C2D,EAAK,CAAEf,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,GAC7C4D,EAAM,CAAEhB,KAAM,UAAMhC,UAAW,OAAQZ,OAAQ,GAC/C6D,EAAK,CAAEjB,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,GAE7C8D,EAAM,CAAElB,KAAM,UAAMhC,UAAW,OAAQZ,OAAQ,GAE/C+D,EAAM,CAAEnB,KAAM,UAAMhC,UAAW,OAAQZ,OAAQ,GA6CxCgE,EAAmB,CAC5B,CACIpB,KAAM,UACNL,MAAO,CArEJ,CAAEK,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,GAqE9BkD,EAAIC,EAAIC,EAAIE,EAAIC,EAAIC,EAAIC,IAEzC,CACIb,KAAM,UACNL,MAAO,CAAEW,EAAIC,EAAIE,EAAKC,EAAIC,EAAIC,EAAIE,EAAKC,IAE3C,CACIf,KAAM,UACNL,MAAO,CAAEY,EAAIE,EArET,CAAET,KAAM,UAAMhC,UAAW,MAAOZ,OAAQ,GAqErBuD,EAAIC,EAAIE,EAAKE,EAAKC,IAE7C,CACIjB,KAAM,UACNL,MAAO,CAAEa,EAAIE,EAAIC,EAvEb,CAAEX,KAAM,UAAMhC,UAAW,OAAQZ,OAAQ,GAuEnByD,EAAIE,EAAIE,EA/D/B,CAAEjB,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,KAiE/C,CACI4C,KAAM,UACNL,MAAO,CAAEe,EAAIC,EAAIC,EAAIC,EAAIE,EAAIE,EAAIC,EAjE9B,CAAElB,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,KAmE/C,CACI4C,KAAM,UACNL,MAAO,CAAEgB,EAAIC,EAAIE,EAAKC,EAAIE,EAAIC,EAAKC,EAnEhC,CAAEnB,KAAM,IAAKhC,UAAW,IAAKZ,OAAQ,KAqE5C,CACI4C,KAAM,UACNL,MAAO,CAAEiB,EAAIE,EAAKE,EAAKC,EAAIC,EAAKC,EAtE5B,CAAEnB,KAAM,UAAMhC,UAAW,OAAQZ,OAAQ,GAC1C,CAAE4C,KAAM,IAAKhC,UAAW,OAAQZ,OAAQ,sBC3EtCiE,SAAb,SAAA1C,GAAA,SAAA0C,IAAA,OAAAnG,OAAAC,EAAA,EAAAD,CAAAE,KAAAiG,GAAAnG,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmG,GAAAlC,MAAA/D,KAAA0D,YAAA,OAAA5D,OAAAgB,EAAA,EAAAhB,CAAAmG,EAAA1C,GAAAzD,OAAAiB,EAAA,EAAAjB,CAAAmG,EAAA,EAAAjF,IAAA,SAAAC,MAAA,WACa,IAAApB,EAAAG,KAWCkG,EAAqBF,EAAOG,QAAQnG,KAAKJ,MAAMwG,eAC/CC,EAAeL,EAAOxB,IAAI,SAAC8B,EAAO5B,GAAR,OAAkBlD,EAAAC,EAAAC,cAAA,UAAQV,IAAK0D,EAAOzD,MAAOyD,EAAM6B,YAAaD,EAAM1B,QAGtG,OACIpD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBACdH,EAAAC,EAAAC,cAAA,OAAK8E,IAAKC,IAAM9E,UAAU,aAAa+E,IAAI,SAC3ClF,EAAAC,EAAAC,cAAA,uDAKJF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,KACIC,UAAU,aACVkD,KAAK,IACLC,QA3BI,SAACzE,GACjBA,EAAE0E,iBACFlF,EAAKD,MAAM+G,SAsBH,aAQAnF,EAAAC,EAAAC,cAAA,KACIC,UAAU,aACVkD,KAAK,IACLC,QA9BI,SAACzE,GACjBA,EAAE0E,iBACFlF,EAAKD,MAAMgH,SAyBH,aASJpF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAAA,UACIC,UAAU,cACVV,MAAOiF,EAAmBK,WAC1BM,SAjCI,SAACxG,GAAD,OAA6CR,EAAKD,MAAMkH,YAAYd,EAAO3F,EAAE0G,OAAOC,kBAmCvFX,SAjDzBJ,EAAA,CAA0BhB,cCNbgC,EAAb,SAAA1D,GAAA,SAAA0D,IAAA,OAAAnH,OAAAC,EAAA,EAAAD,CAAAE,KAAAiH,GAAAnH,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmH,GAAAlD,MAAA/D,KAAA0D,YAAA,OAAA5D,OAAAgB,EAAA,EAAAhB,CAAAmH,EAAA1D,GAAAzD,OAAAiB,EAAA,EAAAjB,CAAAmH,EAAA,EAAAjG,IAAA,SAAAC,MAAA,WACa,IAAApB,EAAAG,KAML,OACIwB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBACdH,EAAAC,EAAAC,cAAA,yBAKJF,EAAAC,EAAAC,cAAA,mFAC2EF,EAAAC,EAAAC,cAAA,kBAD3E,MAEIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,6DACAF,EAAAC,EAAAC,cAAA,mEACAF,EAAAC,EAAAC,cAAA,0IACAF,EAAAC,EAAAC,cAAA,yCAIRF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,KACIC,UAAU,aACVkD,KAAK,IACLC,QA3BI,SAACzE,GACjBA,EAAE0E,iBACFlF,EAAKD,MAAMsH,SAsBH,iBA1BpBD,EAAA,CAA0BhC,aCgDXkC,cAzCX,SAAAA,EAAYvH,GAAW,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmH,IACnBtH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqH,GAAAhH,KAAAH,KAAMJ,KAEDiB,MAAQ,CACTuG,SAAS,EACTC,SAAS,EACTf,MAAON,EAAO,IANCnG,wEAUd,IAAAwB,EAAArB,KACL,GAAIA,KAAKa,MAAMwG,QAAS,CAGpB,OAAO7F,EAAAC,EAAAC,cAAC4F,EAAD,CACHJ,KAHS,kBAAM7F,EAAKb,SAAS,CAAE4G,SAAS,EAAOC,SAAS,OAM3D,GAAIrH,KAAKa,MAAMuG,QAAS,CAGzB,OAAO5F,EAAAC,EAAAC,cAAC6F,EAAD,CACHvC,KAHS,kBAAM3D,EAAKb,SAAS,CAAE4G,SAAS,KAIxC7C,MAAOvE,KAAKa,MAAMyF,MAAM/B,QAQ5B,OAAO/C,EAAAC,EAAAC,cAAC8F,EAAD,CACHb,KAJS,kBAAMtF,EAAKb,SAAS,CAAE4G,SAAS,EAAOC,SAAS,KAKxDT,KANS,kBAAMvF,EAAKb,SAAS,CAAE4G,SAAS,EAAMC,SAAS,KAOvDjB,cAAepG,KAAKa,MAAMyF,MAC1BQ,YANa,SAACR,GAAoBmB,QAAQC,IAAI,iBAAkBpB,GAAQjF,EAAKb,SAAS,CAAE8F,MAAOA,cA9B7FrB,aCAE0C,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAOzG,EAAAC,EAAAC,cAACwG,EAAD,MAAShH,SAASiH,eAAe,SDmI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,kCE3InBC,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.579bee06.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\r\n\r\ninterface IProps {\r\n    text: string;\r\n    octave: number;\r\n    start: () => void;\r\n    stop: () => void;\r\n    keycode: number;\r\n}\r\n\r\ninterface IState {\r\n    active: boolean;\r\n}\r\n\r\nexport class NoteButton extends PureComponent<IProps, IState> {\r\n    private readonly keydown = (e: KeyboardEvent) => {\r\n        if (e.which === this.props.keycode) {    \r\n            this.setState({\r\n                active: true,\r\n            });\r\n            this.props.start();\r\n        }\r\n    };\r\n    private readonly keyup = (e: KeyboardEvent) => {\r\n        if (e.which === this.props.keycode) {    \r\n            this.setState({\r\n                active: false,\r\n            });\r\n            this.props.stop();\r\n        }\r\n    };\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.keydown);\r\n        document.addEventListener('keyup', this.keyup);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.keydown);\r\n        document.removeEventListener('keyup', this.keyup);\r\n    }\r\n\r\n    render() {\r\n        const touchStart = () => {\r\n            this.setState({\r\n                active: true,\r\n            });\r\n            this.props.start();\r\n        };\r\n\r\n        const touchEnd = () => {\r\n            this.setState({\r\n                active: false,\r\n            });\r\n            this.props.stop();\r\n        };\r\n\r\n        const classes = this.state.active\r\n            ? 'player__note player__note--active'\r\n            : 'player__note'\r\n\r\n        return (\r\n            <div\r\n                className={classes}\r\n                onTouchStart={touchStart}\r\n                onTouchEnd={touchEnd}\r\n                onTouchCancel={touchEnd}\r\n            >\r\n                {this.props.text}<sub>{this.props.octave}</sub>\r\n            </div>\r\n        );\r\n    }\r\n}","//const AudioContext = (window as any).AudioContext || (window as any).webkitAudioContext;\r\n\r\ninterface INoteOscillator {\r\n    oscillator: OscillatorNode;\r\n    gain: GainNode;\r\n}\r\n\r\nexport class Audio {\r\n    private readonly audioCtx: AudioContext;\r\n    private readonly gain: GainNode;\r\n    private readonly oscillators: { [key:number]: INoteOscillator; } = {};\r\n\r\n    constructor() {\r\n        this.audioCtx = new AudioContext();\r\n        this.gain = this.audioCtx.createGain();\r\n\r\n        this.gain.gain.setValueAtTime(0.1, this.audioCtx.currentTime);\r\n\r\n        this.gain.connect(this.audioCtx.destination)\r\n    }\r\n\r\n    public start(frequency: number) {\r\n        let noteOscillator = this.oscillators[frequency];\r\n\r\n        if (noteOscillator !== undefined) {\r\n            // already playing, cannot play more\r\n            return;\r\n        }\r\n\r\n        const oscillator = this.audioCtx.createOscillator();\r\n\r\n        oscillator.type = 'sine';\r\n        oscillator.frequency.setValueAtTime(frequency, this.audioCtx.currentTime);\r\n        oscillator.start();\r\n\r\n        const noteGain = this.audioCtx.createGain();        \r\n        oscillator.connect(noteGain);\r\n\r\n        noteGain.connect(this.gain)\r\n        this.oscillators[frequency] = {\r\n            oscillator: oscillator,\r\n            gain: noteGain,\r\n        };\r\n    }\r\n\r\n    public stop(frequency: number) {\r\n        const noteOscillator = this.oscillators[frequency];\r\n\r\n        if (noteOscillator === undefined) {\r\n            // not playing this frequency, nothing to stop\r\n            return;\r\n        }\r\n\r\n        delete this.oscillators[frequency];\r\n        \r\n        // fade out, to avoid a \"pop\" from the sudden cutoff\r\n        const gain = noteOscillator.gain.gain;\r\n        gain.setValueAtTime(gain.value, this.audioCtx.currentTime); \r\n        noteOscillator.gain.gain.exponentialRampToValueAtTime(0.0001, this.audioCtx.currentTime + 0.03);\r\n\r\n        setTimeout(() => {\r\n            noteOscillator.oscillator.stop();\r\n            noteOscillator.gain.disconnect(this.gain);\r\n        }, 25);\r\n    }\r\n\r\n    public stopAll() {\r\n        for (let key in this.oscillators) {\r\n            const noteOscillator = this.oscillators[key];\r\n\r\n            noteOscillator.oscillator.stop();\r\n            noteOscillator.gain.disconnect(this.gain);\r\n        }\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { NoteButton } from './NoteButton';\r\nimport { INote } from './Notes';\r\nimport './Player.css';\r\nimport { Audio } from './Audio';\r\n\r\ninterface IProps {\r\n    exit: () => void;\r\n    notes: INote[];\r\n}\r\n\r\nexport class Player extends Component<IProps, {}> {\r\n    private audio = new Audio();\r\n\r\n    componentDidMount() {\r\n        if (!(document as any).fullscreenElement) {\r\n            document.documentElement.requestFullscreen();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.audio.stopAll();\r\n\r\n        if (document.exitFullscreen && (document as any).fullscreenElement) {\r\n            document.exitFullscreen();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const backClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.exit();\r\n        };\r\n\r\n        const notes = this.props.notes.map((note, index) => {\r\n            const start = () => this.audio.start(note.frequency);\r\n            const stop = () => this.audio.stop(note.frequency);\r\n\r\n            return <NoteButton\r\n                key={index}\r\n                keycode={index + 49}\r\n                text={note.name}\r\n                octave={note.octave}\r\n                start={start}\r\n                stop={stop}\r\n            />\r\n        });\r\n\r\n        return (\r\n            <div className=\"player\">\r\n                <div className=\"player__notes\">\r\n                    {notes}\r\n                </div>\r\n\r\n                <a\r\n                    className=\"player__back\"\r\n                    href=\"#\"\r\n                    onClick={backClicked}\r\n                >\r\n                    go back\r\n                </a>\r\n            </div>\r\n        );\r\n    }\r\n}","export interface INote {\r\n    name: string;\r\n    frequency: number;\r\n    octave: number;\r\n}\r\n\r\nexport interface IScale {\r\n    name: string;\r\n    notes: INote[];\r\n}\r\n\r\nconst C0 = { name: 'C', frequency: 16.35, octave: 0, };\r\nconst Db0 = { name: 'D♭', frequency: 17.32, octave: 0, };\r\nconst D0 = { name: 'D', frequency: 18.35, octave: 0, };\r\nconst Eb0 = { name: 'E♭', frequency: 19.45, octave: 0, };\r\nconst E0 = { name: 'E', frequency: 20.6, octave: 0, };\r\nconst F0 = { name: 'F', frequency: 21.83, octave: 0, };\r\nconst Gb0 = { name: 'G♭', frequency: 23.12, octave: 0, };\r\nconst G0 = { name: 'G', frequency: 24.5, octave: 0, };\r\nconst Ab0 = { name: 'A♭', frequency: 25.96, octave: 0, };\r\nconst A0 = { name: 'A', frequency: 27.5, octave: 0, };\r\nconst Bb0 = { name: 'B♭', frequency: 29.14, octave: 0, };\r\nconst B0 = { name: 'B', frequency: 30.87, octave: 0, };\r\n\r\nconst C1 = { name: 'C', frequency: 32.7, octave: 1, };\r\nconst Db1 = { name: 'D♭', frequency: 34.65, octave: 1, };\r\nconst D1 = { name: 'D', frequency: 36.71, octave: 1, };\r\nconst Eb1 = { name: 'E♭', frequency: 38.89, octave: 1, };\r\nconst E1 = { name: 'E', frequency: 41.2, octave: 1, };\r\nconst F1 = { name: 'F', frequency: 43.65, octave: 1, };\r\nconst Gb1 = { name: 'G♭', frequency: 46.25, octave: 1, };\r\nconst G1 = { name: 'G', frequency: 49, octave: 1, };\r\nconst Ab1 = { name: 'A♭', frequency: 51.91, octave: 1, };\r\nconst A1 = { name: 'A', frequency: 55, octave: 1, };\r\nconst Bb1 = { name: 'B♭', frequency: 58.27, octave: 1, };\r\nconst B1 = { name: 'B', frequency: 61.74, octave: 1, };\r\n\r\nconst C2 = { name: 'C', frequency: 65.41, octave: 2, };\r\nconst Db2 = { name: 'D♭', frequency: 69.3, octave: 2, };\r\nconst D2 = { name: 'D', frequency: 73.42, octave: 2, };\r\nconst Eb2 = { name: 'E♭', frequency: 77.78, octave: 2, };\r\nconst E2 = { name: 'E', frequency: 82.41, octave: 2, };\r\nconst F2 = { name: 'F', frequency: 87.31, octave: 2, };\r\nconst Gb2 = { name: 'G♭', frequency: 92.5, octave: 2, };\r\nconst G2 = { name: 'G', frequency: 98, octave: 2, };\r\nconst Ab2 = { name: 'A♭', frequency: 103.83, octave: 2, };\r\nconst A2 = { name: 'A', frequency: 110, octave: 2, };\r\nconst Bb2 = { name: 'B♭', frequency: 116.54, octave: 2, };\r\nconst B2 = { name: 'B', frequency: 123.47, octave: 2, };\r\n\r\nconst C3 = { name: 'C', frequency: 130.81, octave: 3, };\r\nconst Db3 = { name: 'D♭', frequency: 138.59, octave: 3, };\r\nconst D3 = { name: 'D', frequency: 146.83, octave: 3, };\r\nconst Eb3 = { name: 'E♭', frequency: 155.56, octave: 3, };\r\nconst E3 = { name: 'E', frequency: 164.81, octave: 3, };\r\nconst F3 = { name: 'F', frequency: 174.61, octave: 3, };\r\nconst Gb3 = { name: 'G♭', frequency: 185, octave: 3, };\r\nconst G3 = { name: 'G', frequency: 196, octave: 3, };\r\nconst Ab3 = { name: 'A♭', frequency: 207.65, octave: 3, };\r\nconst A3 = { name: 'A', frequency: 220, octave: 3, };\r\nconst Bb3 = { name: 'B♭', frequency: 233.08, octave: 3, };\r\nconst B3 = { name: 'B', frequency: 246.94, octave: 3, };\r\n\r\nconst C4 = { name: 'C', frequency: 261.63, octave: 4, };\r\nconst Db4 = { name: 'D♭', frequency: 277.18, octave: 4, };\r\nconst D4 = { name: 'D', frequency: 293.66, octave: 4, };\r\nconst Eb4 = { name: 'E♭', frequency: 311.13, octave: 4, };\r\nconst E4 = { name: 'E', frequency: 329.63, octave: 4, };\r\nconst F4 = { name: 'F', frequency: 349.23, octave: 4, };\r\nconst Gb4 = { name: 'G♭', frequency: 369.99, octave: 4, };\r\nconst G4 = { name: 'G', frequency: 392, octave: 4, };\r\nconst Ab4 = { name: 'A♭', frequency: 415.3, octave: 4, };\r\nconst A4 = { name: 'A', frequency: 440, octave: 4, };\r\nconst Bb4 = { name: 'B♭', frequency: 466.16, octave: 4, };\r\nconst B4 = { name: 'B', frequency: 493.88, octave: 4, };\r\n\r\nconst C5 = { name: 'C', frequency: 523.25, octave: 5, };\r\nconst Db5 = { name: 'D♭', frequency: 554.37, octave: 5, };\r\nconst D5 = { name: 'D', frequency: 587.33, octave: 5, };\r\nconst Eb5 = { name: 'E♭', frequency: 622.25, octave: 5, };\r\nconst E5 = { name: 'E', frequency: 659.25, octave: 5, };\r\nconst F5 = { name: 'F', frequency: 698.46, octave: 5, };\r\nconst Gb5 = { name: 'G♭', frequency: 739.99, octave: 5, };\r\nconst G5 = { name: 'G', frequency: 783.99, octave: 5, };\r\nconst Ab5 = { name: 'A♭', frequency: 830.61, octave: 5, };\r\nconst A5 = { name: 'A', frequency: 880, octave: 5, };\r\nconst Bb5 = { name: 'B♭', frequency: 932.33, octave: 5, };\r\nconst B5 = { name: 'B', frequency: 987.77, octave: 5, };\r\n\r\nconst C6 = { name: 'C', frequency: 1046.5, octave: 6, };\r\nconst Db6 = { name: 'D♭', frequency: 1108.73, octave: 6, };\r\nconst D6 = { name: 'D', frequency: 1174.66, octave: 6, };\r\nconst Eb6 = { name: 'E♭', frequency: 1244.51, octave: 6, };\r\nconst E6 = { name: 'E', frequency: 1318.51, octave: 6, };\r\nconst F6 = { name: 'F', frequency: 1396.91, octave: 6, };\r\nconst Gb6 = { name: 'G♭', frequency: 1479.98, octave: 6, };\r\nconst G6 = { name: 'G', frequency: 1567.98, octave: 6, };\r\nconst Ab6 = { name: 'A♭', frequency: 1661.22, octave: 6, };\r\nconst A6 = { name: 'A', frequency: 1760, octave: 6, };\r\nconst Bb6 = { name: 'B♭', frequency: 1864.66, octave: 6, };\r\nconst B6 = { name: 'B', frequency: 1975.53, octave: 6, };\r\n\r\nconst C7 = { name: 'C', frequency: 2093, octave: 7, };\r\nconst Db7 = { name: 'D♭', frequency: 2217.46, octave: 7, };\r\nconst D7 = { name: 'D', frequency: 2349.32, octave: 7, };\r\nconst Eb7 = { name: 'E♭', frequency: 2489.02, octave: 7, };\r\nconst E7 = { name: 'E', frequency: 2637.02, octave: 7, };\r\nconst F7 = { name: 'F', frequency: 2793.83, octave: 7, };\r\nconst Gb7 = { name: 'G♭', frequency: 2959.96, octave: 7, };\r\nconst G7 = { name: 'G', frequency: 3135.96, octave: 7, };\r\nconst Ab7 = { name: 'A♭', frequency: 3322.44, octave: 7, };\r\nconst A7 = { name: 'A', frequency: 3520, octave: 7, };\r\nconst Bb7 = { name: 'B♭', frequency: 3729.31, octave: 7, };\r\nconst B7 = { name: 'B', frequency: 3951.07, octave: 7, };\r\n\r\nconst C8 = { name: 'C', frequency: 4186.01, octave: 8, };\r\nconst Db8 = { name: 'D♭', frequency: 4434.92, octave: 8, };\r\nconst D8 = { name: 'D', frequency: 4698.63, octave: 8, };\r\nconst Eb8 = { name: 'E♭', frequency: 4978.03, octave: 8, };\r\nconst E8 = { name: 'E', frequency: 5274.04, octave: 8, };\r\nconst F8 = { name: 'F', frequency: 5587.65, octave: 8, };\r\nconst Gb8 = { name: 'G♭', frequency: 5919.91, octave: 8, };\r\nconst G8 = { name: 'G', frequency: 6271.93, octave: 8, };\r\nconst Ab8 = { name: 'A♭', frequency: 6644.88, octave: 8, };\r\nconst A8 = { name: 'A', frequency: 7040, octave: 8, };\r\nconst Bb8 = { name: 'B♭', frequency: 7458.62, octave: 8, };\r\nconst B8 = { name: 'B', frequency: 7902.13, octave: 8, };\r\n\r\n\r\nexport const scales: IScale[] = [\r\n    {\r\n        name: 'C Major',\r\n        notes: [ C4, D4, E4, F4, G4, A4, B4, C5 ],\r\n    },\r\n    {\r\n        name: 'D Major',\r\n        notes: [ D4, E4, Gb4, G4, A4, B4, Db5, D5 ],\r\n    },\r\n    {\r\n        name: 'E Major',\r\n        notes: [ E4, Gb4, Ab4, A4, B4, Db5, Eb5, E5 ],\r\n    },\r\n    {\r\n        name: 'F Major',\r\n        notes: [ F4, G4, A4, Bb4, C5, D5, E5, F5 ],\r\n    },\r\n    {\r\n        name: 'G Major',\r\n        notes: [ G4, A4, B4, C5, D5, E5, Gb5, G5 ],\r\n    },\r\n    {\r\n        name: 'A Major',\r\n        notes: [ A4, B4, Db5, D5, E5, Gb5, Ab5, A5 ],\r\n    },\r\n    {\r\n        name: 'B Major',\r\n        notes: [ B4, Db5, Eb5, E5, Gb5, Ab5, Bb5, B5 ],\r\n    },\r\n];","import React, { Component } from 'react';\r\nimport { IScale, scales } from './Notes';\r\nimport logo from './logo.svg';\r\nimport './Site.css';\r\n\r\ninterface IProps {\r\n    play: () => void;\r\n    help: () => void;\r\n    selectedScale: IScale;\r\n    selectScale: (scale: IScale) => void;\r\n}\r\n\r\nexport class Site extends Component<IProps, {}> {\r\n    render() {\r\n        const helpClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.help();\r\n        };\r\n\r\n        const playClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.play();\r\n        };\r\n\r\n        const selectedScaleIndex = scales.indexOf(this.props.selectedScale);\r\n        const scaleOptions = scales.map((scale, index) => <option key={index} value={index.toString()}>{scale.name}</option>);\r\n        const selectScale = (e: React.ChangeEvent<HTMLSelectElement>) => this.props.selectScale(scales[e.target.selectedIndex]);\r\n\r\n        return (\r\n            <div className=\"site\">\r\n                <header className=\"site__header\">\r\n                    <img src={logo} className=\"site__logo\" alt=\"logo\" />\r\n                    <p>\r\n                        Use your phone like a musical instrument!\r\n                    </p>\r\n                </header>\r\n\r\n                <div className=\"site__links\">\r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={helpClicked}\r\n                    >\r\n                        Learn how\r\n                    </a>\r\n                    \r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={playClicked}\r\n                    >\r\n                        Play now\r\n                    </a>\r\n                </div>\r\n\r\n                <div className=\"site__options\">\r\n                    <select\r\n                        className=\"site__scale\"\r\n                        value={selectedScaleIndex.toString()}\r\n                        onChange={selectScale}\r\n                    >\r\n                        {scaleOptions}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\ninterface IProps {\r\n    back: () => void;\r\n}\r\n\r\nexport class Help extends Component<IProps, {}> {\r\n    render() {\r\n        const backClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.back();\r\n        };\r\n\r\n        return (\r\n            <div className=\"site site--help\">\r\n                <header className=\"site__header\">\r\n                    <p>\r\n                        How to play\r\n                    </p>\r\n                </header>\r\n\r\n                <p>\r\n                    To play your phone properly, follow these instructions after you click <em>play</em>...\r\n                    <ol className=\"site__help\">\r\n                        <li>Hold your phone with the screen facing upwards.</li>\r\n                        <li>Press the bottom edge of the phone against your lips.</li>\r\n                        <li>Rest the phone on your thumbs, with the fingers of each hand along the edges of the phone, so they can all touch the screen.</li>\r\n                        <li>Push keys and make music!</li>\r\n                    </ol>\r\n                </p>\r\n                \r\n                <div className=\"site__links\">\r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={backClicked}\r\n                    >\r\n                        Go back\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Player } from './Player';\r\nimport { Site } from './Site';\r\nimport { IScale, scales } from './Notes';\r\nimport { Help } from './Help';\r\n\r\ninterface IState {\r\n    playing: boolean;\r\n    helping: boolean;\r\n    scale: IScale;\r\n}\r\n\r\nclass App extends Component<{}, IState> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            playing: false,\r\n            helping: false,\r\n            scale: scales[0],\r\n        };\r\n    }\r\n\r\n    render() {\r\n        if (this.state.helping) {\r\n            const back = () => this.setState({ playing: false, helping: false });\r\n\r\n            return <Help\r\n                back={back}\r\n            />\r\n        }\r\n        else if (this.state.playing) {\r\n            const exit = () => this.setState({ playing: false });\r\n\r\n            return <Player\r\n                exit={exit}\r\n                notes={this.state.scale.notes}\r\n            />\r\n        }\r\n        else {\r\n            const play = () => this.setState({ playing: true, helping: false });\r\n            const help = () => this.setState({ playing: false, helping: true });\r\n            const setScale = (scale: IScale) => { console.log('selected scale', scale); this.setState({ scale: scale }) };\r\n\r\n            return <Site\r\n                help={help}\r\n                play={play}\r\n                selectedScale={this.state.scale}\r\n                selectScale={setScale}\r\n            />\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";"],"sourceRoot":""}