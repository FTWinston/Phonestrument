(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n.p+"static/media/logo.2bedb0e3.svg"},13:function(e,t,n){e.exports=n(26)},19:function(e,t,n){},23:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a,o=n(0),s=n.n(o),c=n(10),r=n.n(c),i=(n(19),n(1)),l=n(2),m=n(4),u=n(3),p=n(5),f=n(7),v=n.n(f),h=n(11),y=n(6);!function(e){e[e.Note=0]="Note",e[e.HighlightNote=1]="HighlightNote"}(a||(a={}));var d=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={active:!1,text:e.text,octave:e.octave,altProfile:e.altProfile},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.altProfile===this.props.altProfile||this.state.active||this.setState({text:e.text,octave:e.octave,altProfile:e.altProfile})}},{key:"render",value:function(){var e=this,t=function(){e.setState({active:!1,text:e.props.text,octave:e.props.octave,altProfile:e.props.altProfile}),!1!==e.props.enabled&&e.props.stop()},n="player__button";switch(this.state.active&&(n+=" player__button--active"),this.state.altProfile&&(n+=" player__button--altProfile"),!1===this.props.enabled&&(n+=" player__button--disabled"),this.props.type!=a.Note&&this.props.type!=a.HighlightNote||(this.props.isLeft&&(n+=" player__button--left"),this.props.isRight&&(n+=" player__button--right"),this.props.isTop&&(n+=" player__button--top")),this.props.type){case a.HighlightNote:n+=" player__button--highlight"}var o=void 0===this.props.orderNum?void 0:{order:this.props.orderNum};return s.a.createElement("div",{className:n,style:o,onTouchStart:function(){e.setState({active:!0,text:e.props.text,octave:e.props.octave,altProfile:e.props.altProfile}),!1!==e.props.enabled&&e.props.start()},onTouchEnd:t,onTouchCancel:t},this.state.text,s.a.createElement("sub",null,this.state.octave))}}]),t}(o.PureComponent),g=(n(23),function(){function e(){Object(i.a)(this,e),this.audioCtx=void 0,this.gain=void 0,this.oscillators={},this.audioCtx=new AudioContext,this.gain=this.audioCtx.createGain(),this.gain.connect(this.audioCtx.destination)}return Object(l.a)(e,[{key:"setVolume",value:function(e){this.gain.gain.setValueAtTime(e,this.audioCtx.currentTime)}},{key:"start",value:function(e,t){if(void 0===this.oscillators[e]){var n=this.audioCtx.createOscillator();n.type="sine",n.frequency.setValueAtTime(t,this.audioCtx.currentTime),n.start();var a=this.determineWeighting(t),o=1/Math.pow(10,a/20),s=this.audioCtx.createGain();s.gain.setValueAtTime(o,this.audioCtx.currentTime),n.connect(s),s.connect(this.gain),this.oscillators[e]={oscillator:n,gain:s}}}},{key:"stop",value:function(e){var t=this.oscillators[e];void 0!==t&&(delete this.oscillators[e],this.stopOscillator(t))}},{key:"stopAll",value:function(){for(var e in this.oscillators){var t=this.oscillators[e];this.stopOscillator(t)}this.oscillators={}}},{key:"stopOscillator",value:function(e){var t=this,n=e.gain.gain;n.setValueAtTime(n.value,this.audioCtx.currentTime),e.gain.gain.exponentialRampToValueAtTime(1e-4,this.audioCtx.currentTime+.03),setTimeout(function(){e.oscillator.stop(),e.gain.disconnect(t.gain)},25)}},{key:"determineWeighting",value:function(e){var t=e*e,n=1.562339*t*t/((t+11589.093052)*(t+544440.670461)),a=2242881e10*t*t/((t+424.318677406)*(t+424.318677406)*(t+148699001.408)*(t+148699001.408));return Math.log10(n)+Math.log10(a)}}]),e}()),q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).audio=new g,n.tiltListener=function(e){return n.updateTilt(e)},n.state=Object(y.a)({},e.profiles[0],{altProfile:!1}),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audio.setVolume(this.state.volume),document.fullscreenElement){e.next=7;break}return e.next=4,document.documentElement.requestFullscreen();case 4:if(!(screen&&screen.orientation&&screen.orientation.lock)){e.next=7;break}return e.next=7,screen.orientation.lock("landscape");case 7:this.props.profiles.length>1&&window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",this.tiltListener);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.audio.stopAll(),document.exitFullscreen&&document.fullscreenElement&&document.exitFullscreen(),this.props.profiles.length>1&&window.removeEventListener("deviceorientation",this.tiltListener)}},{key:"updateTilt",value:function(e){null!==e.beta&&(this.state.altProfile?e.beta<0&&this.setState(Object(y.a)({},this.props.profiles[0],{altProfile:!1})):e.beta>0&&this.setState(Object(y.a)({},this.props.profiles[1],{altProfile:!0})))}},{key:"render",value:function(){var e=this,t=this.renderNoteButtons(this.state.notes),n=this.state.altProfile?"player player--altProfile":"player",a=this.props.profiles.length<2?s.a.createElement("div",{className:"player__tilt"}):this.state.altProfile?s.a.createElement("div",{className:"player__tilt"},"Tilt left for",s.a.createElement("br",null),"main profile"):s.a.createElement("div",{className:"player__tilt"},"Tilt right for",s.a.createElement("br",null),"alternate profile");return s.a.createElement("div",{className:n},t,s.a.createElement("div",{className:"player__key"},this.state.keyName),s.a.createElement("a",{className:"player__back",href:"#",onClick:function(t){t.preventDefault(),e.props.exit()}},"Go back"),a)}},{key:"renderNoteButtons",value:function(e){var n=this;return e.map(function(e,o){var c=e.name===n.state.highlightNoteName?a.HighlightNote:a.Note,r=o<t.buttonOrder.length?t.buttonOrder[o]:void 0;return s.a.createElement(d,{key:o,text:e.name,octave:e.octave,orderNum:r,start:function(){return n.audio.start(o,e.frequency)},stop:function(){return n.audio.stop(o)},isLeft:o<5,isRight:o>=15,isTop:o%5===4,type:c,altProfile:n.state.altProfile})})}}]),t}(o.Component);q.buttonOrder=[4,3,2,1,0,9,8,7,6,5,14,13,12,11,10,19,18,17,16,15];var E,b=n(12),_=n.n(b),S=(n(9),11),T=[[{name:"C",frequency:16.35,octave:0},{name:"D\u266d",frequency:17.32,octave:0},{name:"D",frequency:18.35,octave:0},{name:"E\u266d",frequency:19.45,octave:0},{name:"E",frequency:20.6,octave:0},{name:"F",frequency:21.83,octave:0},{name:"G\u266d",frequency:23.12,octave:0},{name:"G",frequency:24.5,octave:0},{name:"A\u266d",frequency:25.96,octave:0},{name:"A",frequency:27.5,octave:0},{name:"B\u266d",frequency:29.14,octave:0},{name:"B",frequency:30.87,octave:0}],[{name:"C",frequency:32.7,octave:1},{name:"D\u266d",frequency:34.65,octave:1},{name:"D",frequency:36.71,octave:1},{name:"E\u266d",frequency:38.89,octave:1},{name:"E",frequency:41.2,octave:1},{name:"F",frequency:43.65,octave:1},{name:"G\u266d",frequency:46.25,octave:1},{name:"G",frequency:49,octave:1},{name:"A\u266d",frequency:51.91,octave:1},{name:"A",frequency:55,octave:1},{name:"B\u266d",frequency:58.27,octave:1},{name:"B",frequency:61.74,octave:1}],[{name:"C",frequency:65.41,octave:2},{name:"D\u266d",frequency:69.3,octave:2},{name:"D",frequency:73.42,octave:2},{name:"E\u266d",frequency:77.78,octave:2},{name:"E",frequency:82.41,octave:2},{name:"F",frequency:87.31,octave:2},{name:"G\u266d",frequency:92.5,octave:2},{name:"G",frequency:98,octave:2},{name:"A\u266d",frequency:103.83,octave:2},{name:"A",frequency:110,octave:2},{name:"B\u266d",frequency:116.54,octave:2},{name:"B",frequency:123.47,octave:2}],[{name:"C",frequency:130.81,octave:3},{name:"D\u266d",frequency:138.59,octave:3},{name:"D",frequency:146.83,octave:3},{name:"E\u266d",frequency:155.56,octave:3},{name:"E",frequency:164.81,octave:3},{name:"F",frequency:174.61,octave:3},{name:"G\u266d",frequency:185,octave:3},{name:"G",frequency:196,octave:3},{name:"A\u266d",frequency:207.65,octave:3},{name:"A",frequency:220,octave:3},{name:"B\u266d",frequency:233.08,octave:3},{name:"B",frequency:246.94,octave:3}],[{name:"C",frequency:261.63,octave:4},{name:"D\u266d",frequency:277.18,octave:4},{name:"D",frequency:293.66,octave:4},{name:"E\u266d",frequency:311.13,octave:4},{name:"E",frequency:329.63,octave:4},{name:"F",frequency:349.23,octave:4},{name:"G\u266d",frequency:369.99,octave:4},{name:"G",frequency:392,octave:4},{name:"A\u266d",frequency:415.3,octave:4},{name:"A",frequency:440,octave:4},{name:"B\u266d",frequency:466.16,octave:4},{name:"B",frequency:493.88,octave:4}],[{name:"C",frequency:523.25,octave:5},{name:"D\u266d",frequency:554.37,octave:5},{name:"D",frequency:587.33,octave:5},{name:"E\u266d",frequency:622.25,octave:5},{name:"E",frequency:659.25,octave:5},{name:"F",frequency:698.46,octave:5},{name:"G\u266d",frequency:739.99,octave:5},{name:"G",frequency:783.99,octave:5},{name:"A\u266d",frequency:830.61,octave:5},{name:"A",frequency:880,octave:5},{name:"B\u266d",frequency:932.33,octave:5},{name:"B",frequency:987.77,octave:5}],[{name:"C",frequency:1046.5,octave:6},{name:"D\u266d",frequency:1108.73,octave:6},{name:"D",frequency:1174.66,octave:6},{name:"E\u266d",frequency:1244.51,octave:6},{name:"E",frequency:1318.51,octave:6},{name:"F",frequency:1396.91,octave:6},{name:"G\u266d",frequency:1479.98,octave:6},{name:"G",frequency:1567.98,octave:6},{name:"A\u266d",frequency:1661.22,octave:6},{name:"A",frequency:1760,octave:6},{name:"B\u266d",frequency:1864.66,octave:6},{name:"B",frequency:1975.53,octave:6}],[{name:"C",frequency:2093,octave:7},{name:"D\u266d",frequency:2217.46,octave:7},{name:"D",frequency:2349.32,octave:7},{name:"E\u266d",frequency:2489.02,octave:7},{name:"E",frequency:2637.02,octave:7},{name:"F",frequency:2793.83,octave:7},{name:"G\u266d",frequency:2959.96,octave:7},{name:"G",frequency:3135.96,octave:7},{name:"A\u266d",frequency:3322.44,octave:7},{name:"A",frequency:3520,octave:7},{name:"B\u266d",frequency:3729.31,octave:7},{name:"B",frequency:3951.07,octave:7}],[{name:"C",frequency:4186.01,octave:8},{name:"D\u266d",frequency:4434.92,octave:8},{name:"D",frequency:4698.63,octave:8},{name:"E\u266d",frequency:4978.03,octave:8},{name:"E",frequency:5274.04,octave:8},{name:"F",frequency:5587.65,octave:8},{name:"G\u266d",frequency:5919.91,octave:8},{name:"G",frequency:6271.93,octave:8},{name:"A\u266d",frequency:6644.88,octave:8},{name:"A",frequency:7040,octave:8},{name:"B\u266d",frequency:7458.62,octave:8},{name:"B",frequency:7902.13,octave:8}]],B=[{name:"Major",notesBeforeTonic:6,scales:[{name:"A\u266d",notes:[8,10,0,1,3,5,7]},{name:"A",notes:[9,S,1,2,4,6,8]},{name:"B\u266d",notes:[10,0,2,3,5,7,9]},{name:"B",notes:[S,1,3,4,6,8,10]},{name:"C",notes:[0,2,4,5,7,9,S]},{name:"D\u266d",notes:[1,3,5,6,8,10,0]},{name:"D",notes:[2,4,6,7,9,S,1]},{name:"E\u266d",notes:[3,5,7,8,10,0,2]},{name:"E",notes:[4,6,8,9,S,1,3]},{name:"F",notes:[5,7,9,10,0,2,4]},{name:"G\u266d",notes:[6,8,10,S,1,3,5]},{name:"G",notes:[7,9,S,0,2,4,6]}]},{name:"Minor",notesBeforeTonic:6,scales:[{name:"A\u266d",notes:[8,10,S,1,3,4,6]},{name:"A",notes:[9,S,0,2,4,5,7]},{name:"B\u266d",notes:[10,0,1,3,5,6,8]},{name:"B",notes:[S,1,2,4,6,7,9]},{name:"C",notes:[0,2,3,5,7,8,10]},{name:"D\u266d",notes:[1,3,4,6,8,9,S]},{name:"D",notes:[2,4,5,7,9,10,0]},{name:"E\u266d",notes:[3,5,6,8,10,S,1]},{name:"E",notes:[4,6,7,9,S,0,2]},{name:"F",notes:[5,7,8,10,0,1,3]},{name:"G\u266d",notes:[6,8,9,S,1,2,4]},{name:"G",notes:[7,9,10,0,2,3,5]}]},{name:"Chromatic",notesBeforeTonic:5,scales:[{name:"A\u266d",notes:[8,9,10,S,0,1,2,3,4,5,6,7]},{name:"A",notes:[9,10,S,0,1,2,3,4,5,6,7,8]},{name:"B\u266d",notes:[10,S,0,1,2,3,4,5,6,7,8,9]},{name:"B",notes:[S,0,1,2,3,4,5,6,7,8,9,10]},{name:"C",notes:[0,1,2,3,4,5,6,7,8,9,10,S]},{name:"D\u266d",notes:[1,2,3,4,5,6,7,8,9,10,S,0]},{name:"D",notes:[2,3,4,5,6,7,8,9,10,S,0,1]},{name:"E\u266d",notes:[3,4,5,6,7,8,9,10,S,0,1,2]},{name:"E",notes:[4,5,6,7,8,9,10,S,0,1,2,3]},{name:"F",notes:[5,6,7,8,9,10,S,0,1,2,3,4]},{name:"G\u266d",notes:[6,7,8,9,10,S,0,1,2,3,4,5]},{name:"G",notes:[7,8,9,10,S,0,1,2,3,4,5,6]}]},{name:"Melodic Minor",notesBeforeTonic:6,scales:[{name:"A\u266d",notes:[8,10,S,1,3,5,7]},{name:"A",notes:[9,S,0,2,4,6,8]},{name:"B\u266d",notes:[10,0,1,3,5,7,9]},{name:"B",notes:[S,1,2,4,6,8,10]},{name:"C",notes:[0,2,3,5,7,9,S]},{name:"D\u266d",notes:[1,3,4,6,8,10,0]},{name:"D",notes:[2,4,5,7,9,S,1]},{name:"E\u266d",notes:[3,5,6,8,10,0,2]},{name:"E",notes:[4,6,7,9,S,1,3]},{name:"F",notes:[5,7,8,10,0,2,4]},{name:"G\u266d",notes:[6,8,9,S,1,3,5]},{name:"G",notes:[7,9,10,0,2,4,6]}]},{name:"Harmonic Minor",notesBeforeTonic:6,scales:[{name:"A\u266d",notes:[8,10,S,1,3,4,7]},{name:"A",notes:[9,S,0,2,4,5,8]},{name:"B\u266d",notes:[10,0,1,3,5,6,9]},{name:"B",notes:[S,1,2,4,6,7,10]},{name:"C",notes:[0,2,3,5,7,8,S]},{name:"D\u266d",notes:[1,3,4,6,8,9,0]},{name:"D",notes:[2,4,5,7,9,10,1]},{name:"E\u266d",notes:[3,5,6,8,10,S,2]},{name:"E",notes:[4,6,7,9,S,0,3]},{name:"F",notes:[5,7,8,10,0,1,4]},{name:"G\u266d",notes:[6,8,9,S,1,2,5]},{name:"G",notes:[7,9,10,0,2,3,6]}]},{name:"Minor Pentatonic",notesBeforeTonic:5,scales:[{name:"Ab",notes:[8,S,1,3,6]},{name:"A",notes:[9,0,2,4,7]},{name:"Bb",notes:[10,1,3,5,8]},{name:"B",notes:[S,2,4,6,9]},{name:"C",notes:[0,3,5,7,10]},{name:"Db",notes:[1,4,6,8,S]},{name:"D",notes:[2,5,7,9,0]},{name:"Eb",notes:[3,6,8,10,1]},{name:"E",notes:[4,7,9,S,2]},{name:"F",notes:[5,8,10,0,3]},{name:"Gb",notes:[6,9,S,1,4]},{name:"G",notes:[7,10,0,2,5]}]},{name:"Major Pentatonic",notesBeforeTonic:5,scales:[{name:"A\u266d",notes:[8,10,0,3,5]},{name:"A",notes:[9,S,1,4,6]},{name:"B\u266d",notes:[10,0,2,5,7]},{name:"B",notes:[S,1,3,6,8]},{name:"C",notes:[0,2,4,7,9]},{name:"D\u266d",notes:[1,3,5,8,10]},{name:"D",notes:[2,4,6,9,S]},{name:"E\u266d",notes:[3,5,7,10,0]},{name:"E",notes:[4,6,8,S,1]},{name:"F",notes:[5,7,9,0,2]},{name:"G\u266d",notes:[6,8,10,1,3]},{name:"G",notes:[7,9,S,2,4]}]},{name:"Minor Pentatonic Blues",notesBeforeTonic:6,scales:[{name:"A\u266d",notes:[8,S,1,2,3,6]},{name:"A",notes:[9,0,2,3,4,7]},{name:"B\u266d",notes:[10,1,3,4,5,8]},{name:"B",notes:[S,2,4,5,6,9]},{name:"C",notes:[0,3,5,6,7,10]},{name:"D\u266d",notes:[1,4,6,7,8,S]},{name:"D",notes:[2,5,7,8,9,0]},{name:"E\u266d",notes:[3,6,8,9,10,1]},{name:"E",notes:[4,7,9,10,S,2]},{name:"F",notes:[5,8,10,S,0,3]},{name:"G\u266d",notes:[6,9,S,0,1,4]},{name:"G",notes:[7,10,0,1,2,5]}]},{name:"Major Pentatonic Blues",notesBeforeTonic:6,scales:[{name:"A\u266d",notes:[8,10,S,0,3,5]},{name:"A",notes:[9,S,0,1,4,6]},{name:"B\u266d",notes:[10,0,1,2,5,7]},{name:"B",notes:[S,1,2,3,6,8]},{name:"C",notes:[0,2,3,4,7,9]},{name:"D\u266d",notes:[1,3,4,5,8,10]},{name:"D",notes:[2,4,5,6,9,S]},{name:"E\u266d",notes:[3,5,6,7,10,0]},{name:"E",notes:[4,6,7,8,S,1]},{name:"F",notes:[5,7,8,9,0,2]},{name:"G\u266d",notes:[6,8,9,10,1,3]},{name:"G",notes:[7,9,10,S,2,4]}]},{name:"Major Bebop",notesBeforeTonic:6,scales:[{name:"A\u266d",notes:[8,10,0,1,3,4,5,7]},{name:"A",notes:[9,S,1,2,4,5,6,8]},{name:"B\u266d",notes:[10,0,2,3,5,6,7,9]},{name:"B",notes:[S,1,3,4,6,7,8,10]},{name:"C",notes:[0,2,4,5,7,8,9,S]},{name:"D\u266d",notes:[1,3,5,6,8,9,10,0]},{name:"D",notes:[2,4,6,7,9,10,S,1]},{name:"E\u266d",notes:[3,5,7,8,10,S,0,2]},{name:"E",notes:[4,6,8,9,S,0,1,3]},{name:"F",notes:[5,7,9,10,0,1,2,4]},{name:"G\u266d",notes:[6,8,10,S,1,2,3,5]},{name:"G",notes:[7,9,S,0,2,3,4,6]}]},{name:"Minor Bebop",notesBeforeTonic:6,scales:[{name:"A\u266d",notes:[8,10,S,0,1,3,5,6]},{name:"A",notes:[9,S,0,1,2,4,6,7]},{name:"B\u266d",notes:[10,0,1,2,3,5,7,8]},{name:"B",notes:[S,1,2,3,4,6,8,9]},{name:"C",notes:[0,2,3,4,5,7,9,10]},{name:"D\u266d",notes:[1,3,4,5,6,8,10,S]},{name:"D",notes:[2,4,5,6,7,9,S,0]},{name:"E\u266d",notes:[3,5,6,7,8,10,0,1]},{name:"E",notes:[4,6,7,8,9,S,1,2]},{name:"F",notes:[5,7,8,9,10,0,2,3]},{name:"G\u266d",notes:[6,8,9,10,S,1,3,4]},{name:"G",notes:[7,9,10,S,0,2,4,5]}]},{name:"Super Locrian",notesBeforeTonic:6,scales:[{name:"C",notes:[0,1,3,4,6,8,10]},{name:"D\u266d",notes:[1,2,4,5,7,9,S]},{name:"D",notes:[2,3,5,6,8,10,0]},{name:"E\u266d",notes:[3,4,6,7,9,S,1]},{name:"E",notes:[4,5,7,8,10,0,2]},{name:"F",notes:[5,6,8,9,S,1,3]},{name:"G\u266d",notes:[6,7,9,10,0,2,4]},{name:"G",notes:[7,8,10,S,1,3,5]},{name:"A\u266d",notes:[8,9,S,0,2,4,6]},{name:"A",notes:[9,10,0,1,3,5,7]},{name:"B\u266d",notes:[10,S,1,2,4,6,8]},{name:"B",notes:[S,0,2,3,5,7,9]}]}],k=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=B.indexOf(this.props.scaleType),n=this.props.scaleType.scales.indexOf(this.props.scale),a=B.map(function(e,t){return s.a.createElement("option",{key:t,value:t.toString()},e.name)}),o=this.props.scaleType.scales.map(function(e,t){return s.a.createElement("option",{key:t,value:t.toString()},e.name)}),c=this.props.isAlternate?"site__options site__options--alternate":"site__options";return s.a.createElement("div",{className:c},s.a.createElement("label",{className:"site__option"},s.a.createElement("span",{className:"site__label"},"Scale"),s.a.createElement("select",{className:"site__value",value:t.toString(),onChange:function(t){return e.props.selectScaleType(B[t.target.selectedIndex])}},a)),s.a.createElement("label",{className:"site__option"},s.a.createElement("span",{className:"site__label"},"Tonic"),s.a.createElement("select",{className:"site__value",value:n.toString(),onChange:function(t){return e.props.selectScale(e.props.scaleType.scales[t.target.selectedIndex])}},o)),s.a.createElement("label",{className:"site__option"},s.a.createElement("span",{className:"site__label"},"Octave"),s.a.createElement("input",{className:"site__value",type:"range",min:"1",max:"6",step:"1",value:this.props.octave,onChange:function(t){return e.props.setOctave(parseInt(t.target.value))}})),s.a.createElement("label",{className:"site__option"},s.a.createElement("span",{className:"site__label"},"Volume"),s.a.createElement("input",{className:"site__value",type:"range",min:"0",max:"1",step:"0.025",value:this.props.volume,onChange:function(t){return e.props.setVolume(parseFloat(t.target.value))}})))}}]),t}(o.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.useSplitProfile?s.a.createElement(k,{isAlternate:!0,scaleType:this.props.scaleType2,scale:this.props.scale2,octave:this.props.octave2,volume:this.props.volume2,selectScaleType:function(t){return e.props.selectScaleType(t,!0)},selectScale:function(t){return e.props.selectScale(t,!0)},setOctave:function(t){return e.props.setOctave(t,!0)},setVolume:function(t){return e.props.setVolume(t,!0)}}):void 0;return s.a.createElement("div",{className:"site"},s.a.createElement("header",{className:"site__header"},s.a.createElement("h2",{className:"site__title"},"Thumbophone"),s.a.createElement("img",{src:_.a,className:"site__logo",alt:"logo"}),s.a.createElement("p",null,"Use your phone as a musical instrument!")),s.a.createElement("div",{className:"site__links"},s.a.createElement("a",{className:"site__link",href:"#",onClick:function(t){t.preventDefault(),e.props.help()}},"Instructions"),s.a.createElement("a",{className:"site__link site__link--primary",href:"#",onClick:function(t){t.preventDefault(),e.props.play()}},"Play now")),s.a.createElement(k,{isAlternate:!1,scaleType:this.props.scaleType,scale:this.props.scale,octave:this.props.octave,volume:this.props.volume,selectScaleType:function(t){return e.props.selectScaleType(t,!1)},selectScale:function(t){return e.props.selectScale(t,!1)},setOctave:function(t){return e.props.setOctave(t,!1)},setVolume:function(t){return e.props.setVolume(t,!1)}}),s.a.createElement("label",{className:"site__useAlt"},"Tilt screen for alternate configuration",s.a.createElement("input",{type:"checkbox",checked:this.props.useSplitProfile,onChange:function(t){return e.props.setUseSplitProfile(t.target.checked)}})),t)}}]),t}(o.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"site site--help"},s.a.createElement("header",{className:"site__header"},s.a.createElement("p",null,"How to play")),s.a.createElement("div",{className:"site__help"},"Here's some basic insructions on how to hold your phone in the intended way while playing....",s.a.createElement("br",null),"If another way works better for you, do that instead!",s.a.createElement("ol",null,s.a.createElement("li",null,"Hold your phone in either landscape or portrait orientation, using two hands. (If you have small hands, landscape is easier.)"),s.a.createElement("li",null,"Use both thumbs to push the note buttons on the edges of the screen; left hand for the left ones, right hand for the right ones."),s.a.createElement("li",null,"Use either thumb to push the central buttons, whichever one isn't in use."),s.a.createElement("li",null,"That's it. Make some music!"))),s.a.createElement("div",{className:"site__links"},s.a.createElement("a",{className:"site__link",href:"#",onClick:function(t){t.preventDefault(),e.props.back()}},"Go back")))}}]),t}(o.Component);function A(e,t,n){for(var a=-1,o=n,s=e.notes.map(function(e){return e<a&&o<T.length-1&&o++,a=e,T[o][e]}),c=t.notesBeforeTonic,r=20-c-e.notes.length,i=-1,l=0;l<r;l++){++i>=e.notes.length&&(i=0);var m=e.notes[i];m<a&&o<T.length-2&&o++,a=m,s.push(T[o][m])}a=e.notes[0],o=n,i=e.notes.length;for(var u=0;u<c;u++){--i<0&&(i=e.notes.length-1);var p=e.notes[i];p>a&&o>0&&o--,a=p,s.unshift(T[o][p])}return s}!function(e){e[e.Home=0]="Home",e[e.Help=1]="Help",e[e.Play=2]="Play"}(E||(E={}));var C="useSplit",D="scaleType",G="scaleType2",x="scaleNote",P="scaleNote2",j="octave",w="octave2",F="volume",I="volume2",H=function(e){function t(e){var n;Object(i.a)(this,t);var a=(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).loadScaleType(D),o=n.loadScaleType(G);return n.state={display:E.Home,scaleType:a,scale:n.loadScale(a,x),octave:n.loadOctave(j),volume:n.loadVolume(F),useSplitProfile:n.loadUseSplit(C),scaleType2:o,scale2:n.loadScale(o,P),octave2:n.loadOctave(w),volume2:n.loadVolume(I)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"loadScaleType",value:function(e){var t=sessionStorage.getItem(e);if(null!==t){var n=B.filter(function(e){return e.name===t});if(n.length>0)return n[0]}return B[0]}},{key:"loadScale",value:function(e,t){var n=sessionStorage.getItem(t);if(null!==n){var a=e.scales.filter(function(e){return e.name===n});if(a.length>0)return a[0]}return e.scales.filter(function(e){return"C"===e.name})[0]}},{key:"loadOctave",value:function(e){var t=sessionStorage.getItem(e);if(null!==t){var n=parseInt(t);if(n>=0&&n<T.length)return n}return 4}},{key:"loadVolume",value:function(e){var t=sessionStorage.getItem(e);if(null!==t){var n=parseFloat(t);if(n>=0&&n<=1)return n}return.1}},{key:"loadUseSplit",value:function(e){return"true"===sessionStorage.getItem(e)}},{key:"render",value:function(){var e=this;if(this.state.display===E.Help){return s.a.createElement(O,{back:function(){return e.setState({display:E.Home})}})}if(this.state.display===E.Play){var t=[{notes:A(this.state.scale,this.state.scaleType,this.state.octave),highlightNoteName:this.state.scale.name,keyName:"".concat(this.state.scale.name," ").concat(this.state.scaleType.name),volume:this.state.volume}];return this.state.useSplitProfile&&t.push({notes:A(this.state.scale2,this.state.scaleType2,this.state.octave2),highlightNoteName:this.state.scale2.name,keyName:"".concat(this.state.scale2.name," ").concat(this.state.scaleType2.name),volume:this.state.volume2}),s.a.createElement(q,{exit:function(){return e.setState({display:E.Home})},profiles:t})}return s.a.createElement(N,{help:function(){return e.setState({display:E.Help})},play:function(){return e.setState({display:E.Play})},useSplitProfile:this.state.useSplitProfile,setUseSplitProfile:function(t){sessionStorage.setItem(C,t.toString()),e.setState({useSplitProfile:t})},scaleType:this.state.scaleType,scaleType2:this.state.scaleType2,selectScaleType:function(t,n){var a=e.state.scaleType.scales.indexOf(n?e.state.scale2:e.state.scale),o=a>=0&&a<t.scales.length?t.scales[a]:t.scales[0];n?(sessionStorage.setItem(G,t.name),e.setState({scaleType2:t,scale2:o})):(sessionStorage.setItem(D,t.name),e.setState({scaleType:t,scale:o}))},scale:this.state.scale,scale2:this.state.scale2,selectScale:function(t,n){n?(sessionStorage.setItem(P,t.name),e.setState({scale2:t})):(sessionStorage.setItem(x,t.name),e.setState({scale:t}))},octave:this.state.octave,octave2:this.state.octave2,setOctave:function(t,n){n?(sessionStorage.setItem(w,t.toString()),e.setState({octave2:t})):(sessionStorage.setItem(j,t.toString()),e.setState({octave:t}))},volume:this.state.volume,volume2:this.state.volume2,setVolume:function(t,n){n?(sessionStorage.setItem(I,t.toString()),e.setState({volume2:t})):(sessionStorage.setItem(F,t.toString()),e.setState({volume:t}))}})}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){}},[[13,2,1]]]);
//# sourceMappingURL=main.cdc084a0.chunk.js.map