{"version":3,"sources":["components/logo.svg","components/PlayerButton.tsx","functionality/Audio.ts","components/Icons.tsx","components/Player.tsx","components/Home.tsx","functionality/Notes.ts","functionality/Scales.ts","components/Help.tsx","functionality/determineNotes.ts","components/App.tsx","functionality/Voices.ts","components/ProfileSettings.tsx","components/Configuration.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","ButtonType","PlayerButton","_React$PureComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","active","text","octave","altProfile","inherits","createClass","key","value","nextProps","setState","_this2","touchEnd","enabled","stop","classes","type","Note","HighlightNote","isLeft","isRight","isTop","style","undefined","orderNum","order","react","className","onTouchStart","start","onTouchEnd","onTouchCancel","React","Audio","audioCtx","gain","oscillators","voice","name","apply","o","AudioContext","createGain","compressor","createDynamicsCompressor","threshold","setValueAtTime","currentTime","knee","ratio","attack","release","connect","destination","volume","frequency","oscillator","createOscillator","weightedDecibels","determineWeighting","weightedGain","Math","pow","noteGain","noteOscillator","stopOscillator","exponentialRampToValueAtTime","setTimeout","disconnect","fSquared","x","y","log10","Help","require","Home","Play","Configure","TiltLeft","TiltRight","Install","Player","_React$Component","audio","tiltListener","e","updateTilt","objectSpread","profiles","_componentDidMount","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","setVolume","setVoice","length","window","DeviceOrientationEvent","addEventListener","arguments","stopAll","removeEventListener","prevProps","prevState","beta","noteButtons","renderNoteButtons","notes","tiltMessage","keyName","href","onClick","preventDefault","configure","_this3","map","note","index","highlightNoteName","buttonOrder","PlayerButton_PlayerButton","src","logo","alt","help","Icons_Help","play","allNoteFrequencies","abstractNotes","semitonesAboveC","F","G","A","B","createOctave","cFrequencyIndex","octaveNumber","frequencyIndex","octaves","scaleTypes","notesBeforeTonic","scales","back","Icons_Home","determineNotes","scale","scaleType","mainOctave","lastNoteIndex","iOctave","scaleNotes","noteIndex","numToAddToStart","numToAddToEnd","iScaleNote","i","iOctaveNote","push","unshift","Display","voices","wave","context","createPeriodicWave","Bass","real","imag","disableNormalization","setPeriodicWave","Organ2","Organ3","Dissonant2","Brass","Celeste","Throaty","ChorusStrings","ProfileSettings","selectedScaleTypeIndex","indexOf","selectedScaleNoteIndex","selectedVoiceIndex","scaleTypeOptions","toString","scaleNoteOptions","voiceOptions","isAlternate","onChange","selectScaleType","target","selectedIndex","selectScale","selectVoice","min","max","step","setOctave","parseInt","parseFloat","Configuration","installClicked","install","alternateSettings","useSplitProfile","ProfileSettings_ProfileSettings","scaleType2","scale2","octave2","volume2","voice2","installLink","checked","setUseSplitProfile","splitVarName","scaleTypeVarName","scaleType2VarName","scaleNoteVarName","scaleNote2VarName","octaveVarName","octave2VarName","volumeVarName","volume2VarName","voiceVarName","voice2VarName","playedBeforeVarName","App","loadScaleType","display","localStorage","getItem","loadScale","loadOctave","loadVolume","loadVoice","loadUseSplit","installPrompt","evt","sessionVarName","savedScaleType","match","filter","s","savedScale","savedOctave","savedVol","savedVoiceName","find","v","Help_Help","concat","Player_Player","goHome","Config","prompt","Configuration_Configuration","setItem","useSplit","isAlt","scaleIndex","newScale","vol","Home_Home","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","react_default","createElement","src_components_App","document","getElementById","URL","process","origin","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,gLCE5BC,sLA6BL,IAAMC,EAAb,SAAAC,GACI,SAAAD,EAAYE,GAAe,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,IACvBG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAJ,GAAAS,KAAAH,KAAMJ,KAEDQ,MAAQ,CACTC,QAAQ,EACRC,KAAMV,EAAMU,KACZC,OAAQX,EAAMW,OACdC,WAAYZ,EAAMY,YAPCX,EAD/B,OAAAC,OAAAW,EAAA,EAAAX,CAAAJ,EAAAC,GAAAG,OAAAY,EAAA,EAAAZ,CAAAJ,EAAA,EAAAiB,IAAA,4BAAAC,MAAA,SAY8BC,GAClBA,EAAUL,aAAeR,KAAKJ,MAAMY,YAAeR,KAAKI,MAAMC,QAC9DL,KAAKc,SAAS,CACVR,KAAMO,EAAUP,KAChBC,OAAQM,EAAUN,OAClBC,WAAYK,EAAUL,eAjBtC,CAAAG,IAAA,SAAAC,MAAA,WAsBa,IAAAG,EAAAf,KAcCgB,EAAW,WACTD,EAAKD,SAAS,CACVT,QAAQ,EACRC,KAAMS,EAAKnB,MAAMU,KACjBC,OAAQQ,EAAKnB,MAAMW,OACnBC,WAAYO,EAAKnB,MAAMY,cAGA,IAAvBO,EAAKnB,MAAMqB,SACXF,EAAKnB,MAAMsB,QAInBC,EAAU,iBA0Bd,OAxBInB,KAAKI,MAAMC,SACXc,GAAW,2BAGXnB,KAAKI,MAAMI,aACXW,GAAW,gCAGY,IAAvBnB,KAAKJ,MAAMqB,UACXE,GAAW,6BAGXnB,KAAKJ,MAAMwB,MAAQ3B,EAAW4B,MAAQrB,KAAKJ,MAAMwB,MAAQ3B,EAAW6B,gBAChEtB,KAAKJ,MAAM2B,SACXJ,GAAW,yBAEXnB,KAAKJ,MAAM4B,UACXL,GAAW,0BAEXnB,KAAKJ,MAAM6B,QACXN,GAAW,yBAIXnB,KAAKJ,MAAMwB,MACf,KAAK3B,EAAW6B,cACZH,GAAW,6BAInB,IAAMO,OAAgCC,IAAxB3B,KAAKJ,MAAMgC,cACnBD,EACA,CACEE,MAAO7B,KAAKJ,MAAMgC,UAG1B,OACIE,EAAA,qBACIC,UAAWZ,EACXO,MAAOA,EACPM,aApEW,WACXjB,EAAKD,SAAS,CACVT,QAAQ,EACRC,KAAMS,EAAKnB,MAAMU,KACjBC,OAAQQ,EAAKnB,MAAMW,OACnBC,WAAYO,EAAKnB,MAAMY,cAGA,IAAvBO,EAAKnB,MAAMqB,SACXF,EAAKnB,MAAMqC,SA4DfC,WAAYlB,EACZmB,cAAenB,GAEdhB,KAAKI,MAAME,KAAKwB,EAAA,yBAAM9B,KAAKI,MAAMG,aA/FlDb,EAAA,CAAkC0C,iBCtBrBC,EAAb,WAUI,SAAAA,IAAevC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqC,GAAArC,KATEsC,cASH,EAAAtC,KARGuC,UAQH,EAAAvC,KAPNwC,YAAkD,GAO5CxC,KALNyC,MAAgB,CACpBC,KAAM,UACNC,MAAO,SAAAC,GAAwB,OAAjBA,EAAExB,KAAO,OAAewB,IAItC5C,KAAKsC,SAAW,IAAIO,aACpB7C,KAAKuC,KAAOvC,KAAKsC,SAASQ,aAE1B,IAAMC,EAAa/C,KAAKsC,SAASU,2BACjCD,EAAWE,UAAUC,gBAAgB,GAAIlD,KAAKsC,SAASa,aACvDJ,EAAWK,KAAKF,eAAe,GAAIlD,KAAKsC,SAASa,aACjDJ,EAAWM,MAAMH,eAAe,GAAIlD,KAAKsC,SAASa,aAClDJ,EAAWO,OAAOJ,eAAe,EAAGlD,KAAKsC,SAASa,aAClDJ,EAAWQ,QAAQL,eAAe,IAAMlD,KAAKsC,SAASa,aAEtDnD,KAAKuC,KAAKiB,QAAQT,GAElBA,EAAWS,QAAQxD,KAAKsC,SAASmB,aAvBzC,OAAA3D,OAAAY,EAAA,EAAAZ,CAAAuC,EAAA,EAAA1B,IAAA,YAAAC,MAAA,SA0BqB8C,GACb1D,KAAKuC,KAAKA,KAAKW,eAAeQ,EAAQ1D,KAAKsC,SAASa,eA3B5D,CAAAxC,IAAA,WAAAC,MAAA,SA8BoB6B,GACZzC,KAAKyC,MAAQA,IA/BrB,CAAA9B,IAAA,QAAAC,MAAA,SAkCiBD,EAAagD,GAGtB,QAAuBhC,IAFF3B,KAAKwC,YAAY7B,GAEtC,CAKA,IAAMiD,EAAa5D,KAAKsC,SAASuB,mBACjC7D,KAAKyC,MAAME,MAAMiB,GAEjBA,EAAWD,UAAUT,eAAeS,EAAW3D,KAAKsC,SAASa,aAC7DS,EAAW3B,QAEX,IAAM6B,EAAmB9D,KAAK+D,mBAAmBJ,GAC3CK,EAAe,EAAIC,KAAKC,IAAI,GAAIJ,EAAmB,IAEnDK,EAAWnE,KAAKsC,SAASQ,aAC/BqB,EAAS5B,KAAKW,eAAec,EAAchE,KAAKsC,SAASa,aAEzDS,EAAWJ,QAAQW,GACnBA,EAASX,QAAQxD,KAAKuC,MAEtBvC,KAAKwC,YAAY7B,GAAO,CACpBiD,WAAYA,EACZrB,KAAM4B,MA3DlB,CAAAxD,IAAA,OAAAC,MAAA,SA+DgBD,GACR,IAAMyD,EAAiBpE,KAAKwC,YAAY7B,QAEjBgB,IAAnByC,WAKGpE,KAAKwC,YAAY7B,GACxBX,KAAKqE,eAAeD,MAxE5B,CAAAzD,IAAA,UAAAC,MAAA,WA4EQ,IAAK,IAAID,KAAOX,KAAKwC,YAAa,CAC9B,IAAM4B,EAAiBpE,KAAKwC,YAAY7B,GACxCX,KAAKqE,eAAeD,GAGxBpE,KAAKwC,YAAc,KAjF3B,CAAA7B,IAAA,iBAAAC,MAAA,SAoF2BwD,GAAiC,IAAAvE,EAAAG,KAE9CuC,EAAO6B,EAAe7B,KAAKA,KACjCA,EAAKW,eAAeX,EAAK3B,MAAOZ,KAAKsC,SAASa,aAC9CZ,EAAK+B,6BAA6B,KAAQtE,KAAKsC,SAASa,YAAc,KAEtEoB,WAAW,WACPH,EAAeR,WAAW1C,OAC1BkD,EAAe7B,KAAKiC,WAAW3E,EAAK0C,OACrC,MA7FX,CAAA5B,IAAA,qBAAAC,MAAA,SAgG+B+C,GAIvB,IAAMc,EAAWd,EAAYA,EACvBe,EAAK,SAAWD,EAAWA,IAAcA,EAAW,eAAiBA,EAAW,gBAChFE,EAAK,WAAoBF,EAAWA,IAAcA,EAAW,gBAAkBA,EAAW,gBAAkBA,EAAW,gBAAkBA,EAAW,gBAE1J,OAAOR,KAAKW,MAAMF,GAAKT,KAAKW,MAAMD,OAxG1CtC,EAAA,GCTawC,SAAOC,EAAQ,KACfC,EAAOD,EAAQ,IACfE,EAAOF,EAAQ,IACfG,EAAYH,EAAQ,IACpBI,EAAWJ,EAAQ,IACnBK,EAAYL,EAAQ,IACpBM,EAAUN,EAAQ,ICuBlBO,EAAb,SAAAC,GAGI,SAAAD,EAAYzF,GAAe,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqF,IACvBxF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuF,GAAAlF,KAAAH,KAAMJ,KAHF2F,MAAQ,IAAIlD,EAEOxC,EAQnB2F,aAAe,SAACC,GAAD,OAA+B5F,EAAK6F,WAAWD,IANlE5F,EAAKO,MAALN,OAAA6F,EAAA,EAAA7F,CAAA,GACOF,EAAMgG,SAAS,GADtB,CAEIpF,YAAY,IAJOX,EAH/B,OAAAC,OAAAW,EAAA,EAAAX,CAAAuF,EAAAC,GAAAxF,OAAAY,EAAA,EAAAZ,CAAAuF,EAAA,EAAA1E,IAAA,oBAAAC,MAAA,eAAAiF,EAAA/F,OAAAgG,EAAA,EAAAhG,CAAAiG,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAcQtG,KAAKuF,MAAMgB,UAAUvG,KAAKI,MAAMsD,QAChC1D,KAAKuF,MAAMiB,SAASxG,KAAKI,MAAMqC,OAE3BzC,KAAKJ,MAAMgG,SAASa,OAAS,GAAMC,OAAeC,wBAClDD,OAAOE,iBAAiB,oBAAqB5G,KAAKwF,cAlB9D,wBAAAY,EAAAlF,SAAAgF,EAAAlG,SAAA,yBAAA6F,EAAAlD,MAAA3C,KAAA6G,YAAA,KAAAlG,IAAA,uBAAAC,MAAA,WAuBQZ,KAAKuF,MAAMuB,UAEP9G,KAAKJ,MAAMgG,SAASa,OAAS,GAC7BC,OAAOK,oBAAoB,oBAAqB/G,KAAKwF,gBA1BjE,CAAA7E,IAAA,qBAAAC,MAAA,SA8BuBoG,EAAmBC,GAC9BA,EAAUvD,SAAW1D,KAAKI,MAAMsD,QAChC1D,KAAKuF,MAAMgB,UAAUvG,KAAKI,MAAMsD,QAGhCuD,EAAUxE,QAAUzC,KAAKI,MAAMqC,OAC/BzC,KAAKuF,MAAMiB,SAASxG,KAAKI,MAAMqC,SApC3C,CAAA9B,IAAA,aAAAC,MAAA,SAwCuB6E,GACA,OAAXA,EAAEyB,OAKFlH,KAAKI,MAAMI,WACPiF,EAAEyB,KAAO,GACTlH,KAAKc,SAALhB,OAAA6F,EAAA,EAAA7F,CAAA,GACOE,KAAKJ,MAAMgG,SAAS,GAD3B,CAEIpF,YAAY,KAKhBiF,EAAEyB,KAAO,GACTlH,KAAKc,SAALhB,OAAA6F,EAAA,EAAA7F,CAAA,GACOE,KAAKJ,MAAMgG,SAAS,GAD3B,CAEIpF,YAAY,QA1DhC,CAAAG,IAAA,SAAAC,MAAA,WAgEa,IAAAG,EAAAf,KAMCmH,EAAcnH,KAAKoH,kBAAkBpH,KAAKI,MAAMiH,OAEhDlG,EAAUnB,KAAKI,MAAMI,WACrB,4BACA,SAEA8G,EAActH,KAAKJ,MAAMgG,SAASa,OAAS,EAC3C3E,EAAA,qBAAKC,UAAU,iBACf/B,KAAKI,MAAMI,WACPsB,EAAA,qBAAKC,UAAU,gBAAeD,EAAA,cAACoD,EAAD,MAA9B,aAAoDpD,EAAA,yBAApD,OAA+D9B,KAAKJ,MAAMgG,SAAS,GAAG2B,SACtFzF,EAAA,qBAAKC,UAAU,gBAAeD,EAAA,cAACqD,EAAD,MAA9B,aAAqDrD,EAAA,yBAArD,OAAgE9B,KAAKJ,MAAMgG,SAAS,GAAG2B,SAEjG,OACIzF,EAAA,qBAAKC,UAAWZ,GACXgG,EAEDrF,EAAA,qBAAKC,UAAU,eAAe/B,KAAKI,MAAMmH,SAEzCzF,EAAA,mBACIC,UAAU,iBACVyF,KAAK,IACLC,QA1BU,SAAChC,GACnBA,EAAEiC,iBACF3G,EAAKnB,MAAM+H,cA0BH7F,EAAA,cAACmD,EAAD,MALJ,cAQCqC,KAhGjB,CAAA3G,IAAA,oBAAAC,MAAA,SAuG8ByG,GAAgB,IAAAO,EAAA5H,KACtC,OAAOqH,EAAMQ,IAAI,SAACC,EAAMC,GACpB,IAGM3G,EAAO0G,EAAKpF,OAASkF,EAAKxH,MAAM4H,kBAChCvI,EAAW6B,cACX7B,EAAW4B,KAEXQ,EAAQkG,EAAQ1C,EAAO4C,YAAYxB,OACnCpB,EAAO4C,YAAYF,QACnBpG,EAEN,OAAOG,EAAA,cAACoG,EAAD,CACHvH,IAAKoH,EACLzH,KAAMwH,EAAKpF,KACXnC,OAAQuH,EAAKvH,OACbqB,SAAUC,EACVI,MAhBU,kBAAM2F,EAAKrC,MAAMtD,MAAM8F,EAAOD,EAAKnE,YAiB7CzC,KAhBS,kBAAM0G,EAAKrC,MAAMrE,KAAK6G,IAiB/BxG,OAAQwG,EAAQ,EAChBvG,QAASuG,GAAS,GAClBtG,MAAOsG,EAAQ,IAAM,EACrB3G,KAAMA,EACNZ,WAAYoH,EAAKxH,MAAMI,mBA/HvC6E,EAAA,CAA4BjD,aAAfiD,EAqGF4C,YAAc,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,yBCtH/ElD,SAAb,SAAAO,GAAA,SAAAP,IAAA,OAAAjF,OAAAC,EAAA,EAAAD,CAAAE,KAAA+E,GAAAjF,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiF,GAAApC,MAAA3C,KAAA6G,YAAA,OAAA/G,OAAAW,EAAA,EAAAX,CAAAiF,EAAAO,GAAAxF,OAAAY,EAAA,EAAAZ,CAAAiF,EAAA,EAAApE,IAAA,SAAAC,MAAA,WACa,IAAAf,EAAAG,KAgBL,OACI8B,EAAA,qBAAKC,UAAU,mBACXD,EAAA,wBAAQC,UAAU,gBACdD,EAAA,oBAAIC,UAAU,eAAd,eACAD,EAAA,qBAAKqG,IAAKC,IAAMrG,UAAU,aAAasG,IAAI,SAC3CvG,EAAA,mEAKJA,EAAA,qBAAKC,UAAU,eACXD,EAAA,mBACIC,UAAU,aACVyF,KAAK,IACLC,QA7BI,SAAChC,GACjBA,EAAEiC,iBACF7H,EAAKD,MAAM0I,SA6BCxG,EAAA,cAACyG,EAAD,MALJ,iBAQAzG,EAAA,mBACIC,UAAU,aACVyF,KAAK,IACLC,QA3BS,SAAChC,GACtBA,EAAEiC,iBACF7H,EAAKD,MAAM+H,cA2BC7F,EAAA,cAACmD,EAAD,MALJ,cAQAnD,EAAA,mBACIC,UAAU,iCACVyF,KAAK,IACLC,QAxCI,SAAChC,GACjBA,EAAEiC,iBACF7H,EAAKD,MAAM4I,SAwCC1G,EAAA,cAACkD,EAAD,MALJ,mBA5CpBD,EAAA,CAA0B3C,cCqHbqG,EAAqB,CA3HlB,MAEL,MACC,MACD,MACC,MACD,KACA,MACC,MACD,KACC,MACD,KACC,MACD,MAEA,KACC,MACD,MACC,MACD,KACA,MACC,MACD,GACC,MACD,GACC,MACD,MAEA,MACC,KACD,MACC,MACD,MACA,MACC,KACD,GACC,OACD,IACC,OACD,OAEA,OACC,OACD,OACC,OACD,OACA,OACC,IACD,IACC,OACD,IACC,OACD,OAEA,OACC,OACD,OACC,OACD,OACA,OACC,OACD,IACC,MACD,IACC,OACD,OAEA,OACC,OACD,OACC,OACD,OACA,OACC,OACD,OACC,OACD,IACC,OACD,OAEA,OACC,QACD,QACC,QACD,QACA,QACC,QACD,QACC,QACD,KACC,QACD,QAEA,KACC,QACD,QACC,QACD,QACA,QACC,QACD,QACC,QACD,KACC,QACD,QAEA,QACC,QACD,QACC,QACD,QACA,QACC,QACD,QACC,QACD,KACC,QACD,QAEA,SAkBLC,EAAgB,CAClB,CAAEhG,KAAM,UAAMiG,iBAAkB,GAChC,CAAEjG,KAAM,IAAKiG,gBAAiB,GAC9B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,IAAKiG,gBAAiB,GAC9B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,IAAKiG,gBAAiB,GAC9B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,IAAKiG,gBAAiB,GAC9B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,IAAKiG,gBAAiB,GAC9B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,UAAMiG,gBAAiB,GAC/B,CAAEjG,KAAM,IAAKiG,gBAAiB,GAC9B,CAAEjG,KAAM,UAAMiG,gBAAiB,IAC/B,CAAEjG,KAAM,UAAMiG,gBAAiB,IAC/B,CAAEjG,KAAM,IAAKiG,gBAAiB,IAC9B,CAAEjG,KAAM,UAAMiG,gBAAiB,KAMbC,EAAI,GACJC,EAAI,GACJC,EAAI,GACJC,EAAI,GAE1B,SAASC,EAAaC,EAAyBC,GAC3C,OAAOR,EAAcb,IAAI,SAACC,EAAMC,GAC5B,IAAMoB,EAAiBF,EAAkBnB,EAAKa,gBAE9C,MAAO,CACHjG,KAAMoF,EAAKpF,KACXiB,UAAW8E,EAAmBU,GAC9B5I,OAAQ2I,KAKb,IAAME,EAAU,CACnBJ,EAAa,EAAG,GAChBA,EAAa,GAAI,GACjBA,EAAa,GAAI,GACjBA,EAAa,GAAI,GACjBA,EAAa,GAAI,GACjBA,EAAa,GAAI,GACjBA,EAAa,GAAI,GACjBA,EAAa,GAAI,GACjBA,EAAa,GAAI,ICvLRK,EACb,CACI,CACI3G,KAAM,QACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CDuJL,GACA,GANS,EACR,EACA,ECpJyBuB,EAAGC,IAEnC,CACInG,KAAM,IACN2E,MAAO,CAAEyB,EAAGC,ED8IQ,EACT,EACA,EACQ,GACA,KChJvB,CACIrG,KAAM,UACN2E,MAAO,CDgJL,GANS,EACA,EACR,EC5IoBuB,EAAGC,EAAGC,IAEjC,CACIpG,KAAM,IACN2E,MAAO,CAAE0B,EDsIW,EACA,EACT,EAGQ,GADA,GACA,KCzIvB,CACIrG,KAAM,UACN2E,MAAO,CDkIJ,EACA,EACA,EACA,EACD,GACA,GACA,KCtIN,CACI3E,KAAM,IACN2E,MAAO,CD8HI,EACA,EACA,EChIOuB,EAAGC,EAAGC,EAAGC,IAE/B,CACIrG,KAAM,UACN2E,MAAO,CD0Ha,EACA,EACA,EACD,GACA,GACA,GACA,KC9HvB,CACI3E,KAAM,UACN2E,MAAO,CDuHJ,EACA,ECxHcuB,ED0Hf,GACA,GACA,GANS,ICpHf,CACIlG,KAAM,IACN2E,MAAO,CDmHI,EACA,EACQ,GCrHAwB,EAAGC,EAAGC,EDkHL,IChHxB,CACIrG,KAAM,UACN2E,MAAO,CDgHJ,EChHUuB,EAAGC,EDmHd,GACA,GANS,EACA,IC7Gf,CACInG,KAAM,IACN2E,MAAO,CD4GI,EACQ,GACA,GC9GCyB,EAAGC,ED0GH,EACA,ICzGxB,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EAAGC,EAAGC,ED4Gb,GANS,EACA,EACA,ICtGf,CACIpG,KAAM,UACN2E,MAAO,CDqGY,GACA,GACA,GCvGE0B,EDkGD,EACA,EACA,IClGxB,CACIrG,KAAM,UACN2E,MAAO,CDkGL,GACA,GACA,GANC,EACA,EACA,EChG8BuB,IAErC,CACIlG,KAAM,IACN2E,MAAO,CAAEwB,EAAGC,EAAGC,ED0FJ,EACA,EACA,EACQ,OCzF/B,CACIrG,KAAM,QACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CDqFL,GACA,GANC,EACA,EACA,EACA,EACD,KClFN,CACI3E,KAAM,IACN2E,MAAO,CAAEyB,EAAGC,ED4ED,EACA,EACA,EC9EaH,EAAGC,IAE/B,CACInG,KAAM,UACN2E,MAAO,CD6EY,GACA,GANC,EACA,EACA,EACD,GACA,KC1EvB,CACI3E,KAAM,UACN2E,MAAO,CD0EL,GANS,EACR,EACA,ECtEqBuB,EDwEtB,GACA,KCvEN,CACIlG,KAAM,IACN2E,MAAO,CAAE0B,EDgEW,EACT,EACA,EACQ,GCnEOF,EAAGC,IAEjC,CACIpG,KAAM,IACN2E,MAAO,CD4DI,EACA,EACR,EC9DgBuB,EAAGC,EDiEpB,GACA,KChEN,CACInG,KAAM,UACN2E,MAAO,CDwDa,EACA,EACT,EACQ,GACA,GC5DSyB,EAAGC,IAEnC,CACIrG,KAAM,IACN2E,MAAO,CDqDI,EACA,ECtDIuB,EAAGC,EAAGC,ED0DnB,GANS,IClDf,CACIpG,KAAM,UACN2E,MAAO,CDiDa,EACA,EACD,GACA,GACA,GCrDU0B,EDgDT,IC9CxB,CACIrG,KAAM,UACN2E,MAAO,CD8CJ,EC9CUuB,EDgDX,GACA,GACA,GANC,EACA,IC3CP,CACIlG,KAAM,IACN2E,MAAO,CD0CI,EACQ,GC3CHwB,EAAGC,EAAGC,EDwCX,EACA,ICvCf,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EAAGC,EDyCV,GACA,GANS,EACR,EACA,ICpCP,CACInG,KAAM,UACN2E,MAAO,CDmCY,GACA,GCpCFyB,EAAGC,EDgCA,EACT,EACA,IChCf,CACIrG,KAAM,IACN2E,MAAO,CAAEwB,EAAGC,EDkCV,GANS,EACA,EACR,EC9B0BF,IAEjC,CACIlG,KAAM,UACN2E,MAAO,CD4BY,GACA,GC7BF0B,EDwBG,EACA,EACT,EACQ,OCvB/B,CACIrG,KAAM,YACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CDmBL,GCnBWyB,EDoBX,GCpBkBC,EDcT,EACR,EAAQ,EACR,EAAQ,EChB6BH,EDkBtC,GClB6CC,IAEnD,CACInG,KAAM,IACN2E,MAAO,CAAEyB,EDgBP,GChBcC,EDUL,EACR,EAAQ,EACR,EAAQ,ECZyBH,EDclC,GCdyCC,EDezC,KCbN,CACInG,KAAM,UACN2E,MAAO,CDYL,GCZW0B,EDMF,EACR,EAAQ,EACR,EAAQ,ECRsBH,EDU/B,GCVsCC,EDWtC,GCX6CC,IAEnD,CACIpG,KAAM,IACN2E,MAAO,CAAE0B,EDEE,EACR,EAAQ,EACR,EAAQ,ECJkBH,EDM3B,GCNkCC,EDOlC,GCPyCC,EDQzC,KCNN,CACIpG,KAAM,IACN2E,MAAO,CDFI,EACR,EAAQ,EACR,EAAQ,ECAeuB,EDExB,GCF+BC,EDG/B,GCHsCC,EDItC,GCJ6CC,IAEnD,CACIrG,KAAM,UACN2E,MAAO,CDLJ,EAAQ,EACR,EAAQ,ECIYuB,EDFrB,GCE4BC,EDD5B,GCCmCC,EDAnC,GCA0CC,EDNjC,ICQf,CACIrG,KAAM,IACN2E,MAAO,CDTI,EACR,EAAQ,ECQQuB,EDNjB,GCMwBC,EDLxB,GCK+BC,EDJ/B,GCIsCC,EDV7B,EACR,ICWP,CACIrG,KAAM,UACN2E,MAAO,CDZJ,EAAQ,ECYKuB,EDVd,GCUqBC,EDTrB,GCS4BC,EDR5B,GCQmCC,EDd1B,EACR,EAAQ,ICef,CACIrG,KAAM,IACN2E,MAAO,CDhBI,ECgBCuB,EDdV,GCciBC,EDbjB,GCawBC,EDZxB,GCY+BC,EDlBtB,EACR,EAAQ,EACR,ICkBP,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EDlBP,GCkBcC,EDjBd,GCiBqBC,EDhBrB,GCgB4BC,EDtBnB,EACR,EAAQ,EACR,EAAQ,ICsBf,CACIrG,KAAM,UACN2E,MAAO,CDtBL,GCsBWwB,EDrBX,GCqBkBC,EDpBlB,GCoByBC,ED1BhB,EACR,EAAQ,EACR,EAAQ,ECwBoCH,IAEnD,CACIlG,KAAM,IACN2E,MAAO,CAAEwB,EDzBP,GCyBcC,EDxBd,GCwBqBC,ED9BZ,EACR,EAAQ,EACR,EAAQ,EC4BgCH,ED1BzC,OC8Bd,CACIlG,KAAM,gBACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CDnCL,GACA,GCkCe0B,EDvCd,EACA,ECsCyBH,EAAGC,IAEnC,CACInG,KAAM,IACN2E,MAAO,CAAEyB,EAAGC,ED5CD,EACA,EACA,EAET,GACA,KCyCN,CACIrG,KAAM,UACN2E,MAAO,CD1CL,GANS,EACR,EACA,EC8CqBuB,EAAGC,EAAGC,IAElC,CACIpG,KAAM,IACN2E,MAAO,CAAE0B,EDnDN,EAAQ,EACA,EAET,GACA,GACA,KCgDN,CACIrG,KAAM,IACN2E,MAAO,CDxDI,EACA,EACR,ECsDgBuB,EAAGC,EAAGC,EAAGC,IAEhC,CACIrG,KAAM,UACN2E,MAAO,CD3DJ,EACA,EAAQ,EAET,GACA,GACA,GANS,IC8Df,CACI3E,KAAM,IACN2E,MAAO,CD/DI,EACA,EC8DIuB,EAAGC,EAAGC,EAAGC,ED/DrB,ICiEP,CACIrG,KAAM,UACN2E,MAAO,CDlEJ,ECkEUuB,EDhEX,GACA,GACA,GANS,EACA,ICqEf,CACIlG,KAAM,IACN2E,MAAO,CDtEI,EAET,GCoEcwB,EAAGC,EAAGC,EDvEnB,EACA,ICwEP,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EAAGC,EDvEV,GACA,GANS,EACA,EACA,IC4Ef,CACInG,KAAM,UACN2E,MAAO,CD5EL,GACA,GC2EeyB,EAAGC,ED/EjB,EACA,EC8E4BH,IAEnC,CACIlG,KAAM,IACN2E,MAAO,CAAEwB,EAAGC,ED9EV,GANS,EACA,EACA,EAET,OCoFd,CACIpG,KAAM,iBACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CDzFL,GACA,GCwFe0B,ED7Fd,EACA,EAAQ,EC4FoBF,IAEnC,CACInG,KAAM,IACN2E,MAAO,CAAEyB,EAAGC,EDlGD,EACA,EACA,ECgGaH,ED7FtB,KC+FN,CACIlG,KAAM,UACN2E,MAAO,CDhGL,GANS,EACR,EACA,ECoGqBuB,EDlGtB,GCkG6BE,IAEnC,CACIpG,KAAM,IACN2E,MAAO,CAAE0B,EDzGN,EAAQ,EACA,EAET,GCsGwBF,EDpGxB,KCsGN,CACInG,KAAM,IACN2E,MAAO,CD9GI,EACA,EACR,EC4GgBuB,EAAGC,EDzGpB,GCyG2BE,IAEjC,CACIrG,KAAM,UACN2E,MAAO,CDjHJ,EACA,EAAQ,EAET,GACA,GC6G0ByB,EDlHjB,ICoHf,CACIpG,KAAM,IACN2E,MAAO,CDrHI,EACA,ECoHIuB,EAAGC,EAAGC,EDhHnB,GALC,ICuHP,CACIpG,KAAM,UACN2E,MAAO,CDxHJ,ECwHUuB,EDtHX,GACA,GACA,GCoH0BG,EDzHjB,IC2Hf,CACIrG,KAAM,IACN2E,MAAO,CD5HI,EAET,GC0HcwB,EAAGC,EAAGC,ED9HX,EAER,IC8HP,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EAAGC,ED7HV,GACA,GANS,EACR,EACQ,ICkIf,CACInG,KAAM,UACN2E,MAAO,CDlIL,GACA,GCiIeyB,EAAGC,EDrIjB,EAAQ,ECqImBH,IAElC,CACIlG,KAAM,IACN2E,MAAO,CAAEwB,EAAGC,EDpIV,GANS,EACA,EACR,EAED,OC0Id,CACIpG,KAAM,mBACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,KACN2E,MAAO,CD/IL,GC+IW0B,EDnJV,EACA,EAED,KCkJN,CACIrG,KAAM,IACN2E,MAAO,CAAEyB,EDxJE,EACA,EACA,ECsJUD,IAEzB,CACInG,KAAM,KACN2E,MAAO,CDtJL,GALC,EACA,EC0JkBuB,EDvJnB,KCyJN,CACIlG,KAAM,IACN2E,MAAO,CAAE0B,ED/JE,EACA,EAET,GC4JoBD,IAE1B,CACIpG,KAAM,IACN2E,MAAO,CDpKI,EAER,ECkKauB,EAAGC,ED9JjB,KCgKN,CACInG,KAAM,KACN2E,MAAO,CDvKJ,EACQ,EAET,GACA,GCmKsB0B,IAE5B,CACIrG,KAAM,IACN2E,MAAO,CD3KI,EC2KCuB,EAAGC,EAAGC,ED5KP,IC8Kf,CACIpG,KAAM,KACN2E,MAAO,CD9KJ,EAED,GACA,GACA,GALC,ICiLP,CACI3E,KAAM,IACN2E,MAAO,CDlLI,ECkLCwB,EAAGC,EAAGC,EDnLP,ICqLf,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EDnLP,GACA,GANS,EAER,ICwLP,CACIlG,KAAM,KACN2E,MAAO,CDxLL,GCwLWyB,EAAGC,ED3Lb,EACQ,IC4Lf,CACIrG,KAAM,IACN2E,MAAO,CAAEwB,ED1LP,GANS,EACA,EC+LWD,MAIlC,CACIlG,KAAM,mBACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CDrML,GACA,GANS,EAER,ECwMqBuB,IAE5B,CACIlG,KAAM,IACN2E,MAAO,CAAEyB,EAAGC,ED7MT,EACQ,EAET,KC4MN,CACIrG,KAAM,UACN2E,MAAO,CD5ML,GANS,EACA,ECiNQuB,EAAGC,IAE1B,CACInG,KAAM,IACN2E,MAAO,CAAE0B,EDrNN,EACA,EAED,GACA,KCmNN,CACIrG,KAAM,IACN2E,MAAO,CD1NI,EACA,EACA,ECwNOwB,EAAGC,IAEzB,CACIpG,KAAM,UACN2E,MAAO,CD7NJ,EACA,EC4NcuB,EDzNf,GACA,KC0NN,CACIlG,KAAM,IACN2E,MAAO,CDjOI,EACA,EAET,GC8NiByB,EAAGC,IAE1B,CACIrG,KAAM,UACN2E,MAAO,CDpOJ,ECoOUuB,EAAGC,EDhOd,GANS,ICwOf,CACInG,KAAM,IACN2E,MAAO,CDxOI,EAET,GACA,GCqOkB0B,EDzOjB,IC2OP,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EAAGC,EAAGC,ED9OJ,EACA,IC+Of,CACIpG,KAAM,UACN2E,MAAO,CD9OL,GACA,GACA,GALC,EACA,ICkPP,CACI3E,KAAM,IACN2E,MAAO,CAAEwB,EAAGC,EAAGC,EDrPJ,EACA,MCwPvB,CACIrG,KAAM,yBACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CD3PL,GC2PW0B,ED/PV,EAAQ,EACR,EAED,KC8PN,CACIrG,KAAM,IACN2E,MAAO,CAAEyB,EDpQE,EACA,EACR,EAAQ,ECkQcD,IAE7B,CACInG,KAAM,UACN2E,MAAO,CDlQL,GALC,EACA,EAAQ,ECsQauB,EDnQtB,KCqQN,CACIlG,KAAM,IACN2E,MAAO,CAAE0B,ED3QE,EACA,EC0QOH,EDxQhB,GCwQuBE,IAE7B,CACIpG,KAAM,IACN2E,MAAO,CDhRI,EAER,EC8QauB,ED5Qd,GC4QqBC,ED1QrB,KC4QN,CACInG,KAAM,UACN2E,MAAO,CDnRJ,EACQ,EAET,GCgRkBwB,ED/QlB,GC+QyBE,IAE/B,CACIrG,KAAM,IACN2E,MAAO,CDvRI,ECuRCuB,EAAGC,EDnRb,GCmRoBC,EDxRX,IC0Rf,CACIpG,KAAM,UACN2E,MAAO,CD1RJ,EAED,GACA,GCuRmByB,EDtRnB,GALC,IC6RP,CACIpG,KAAM,IACN2E,MAAO,CD9RI,EC8RCwB,EAAGC,ED1Rb,GC0RoBC,ED/RX,ICiSf,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,ED/RP,GACA,GC8RkBG,EDpST,EAER,ICoSP,CACIrG,KAAM,UACN2E,MAAO,CDpSL,GCoSWyB,EAAGC,EDxSL,EACR,EACQ,ICwSf,CACIrG,KAAM,IACN2E,MAAO,CAAEwB,EDtSP,GANS,EACR,EAAQ,EC2SeD,MAItC,CACIlG,KAAM,yBACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CDjTL,GACA,GCgTe0B,EDtTN,EAER,ECoTwBH,IAE/B,CACIlG,KAAM,IACN2E,MAAO,CAAEyB,EAAGC,ED1TD,EACR,EACQ,EAET,KCwTN,CACIrG,KAAM,UACN2E,MAAO,CDxTL,GANS,EACR,EAAQ,EC6TYuB,EAAGC,IAE9B,CACInG,KAAM,IACN2E,MAAO,CAAE0B,EDjUN,EAAQ,EACR,EAED,GACA,KC+TN,CACIrG,KAAM,IACN2E,MAAO,CDtUI,EACA,EACR,EAAQ,ECoUWwB,EAAGC,IAE7B,CACIpG,KAAM,UACN2E,MAAO,CDzUJ,EACA,EAAQ,ECwUSuB,EDrUlB,GACA,KCsUN,CACIlG,KAAM,IACN2E,MAAO,CD7UI,EACA,EC4UIuB,ED1Ub,GC0UoBE,EAAGC,IAE7B,CACIrG,KAAM,UACN2E,MAAO,CDhVJ,ECgVUuB,ED9UX,GC8UkBC,ED5UlB,GANS,ICoVf,CACInG,KAAM,IACN2E,MAAO,CDpVI,EAET,GCkVcwB,EDjVd,GCiVqBE,EDrVpB,ICuVP,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EAAGC,EDrVV,GCqViBC,ED1VR,EACA,IC2Vf,CACIpG,KAAM,UACN2E,MAAO,CD1VL,GACA,GCyVeyB,EDxVf,GALC,EACA,IC8VP,CACIpG,KAAM,IACN2E,MAAO,CAAEwB,EAAGC,ED5VV,GC4ViBC,EDjWR,EACA,MCoWvB,CACIrG,KAAM,cACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CDvWL,GACA,GANS,EACR,EACA,EAAQ,EC0WoBuB,EAAGC,IAEtC,CACInG,KAAM,IACN2E,MAAO,CAAEyB,EAAGC,ED/WT,EAAQ,EACA,EC8WcH,ED5WvB,GACA,KC6WN,CACIlG,KAAM,UACN2E,MAAO,CD9WL,GANS,EACA,EACR,ECkXoBuB,EDhXrB,GCgX4BC,EAAGC,IAErC,CACIpG,KAAM,IACN2E,MAAO,CAAE0B,EDvXN,EACA,EAAQ,EAET,GCoXyBF,EDnXzB,GACA,KCoXN,CACInG,KAAM,IACN2E,MAAO,CD5XI,EACA,EACA,EC0XOuB,EAAGC,EDvXnB,GCuX0BC,EAAGC,IAEnC,CACIrG,KAAM,UACN2E,MAAO,CD/XJ,EACA,EC8XcuB,ED5Xf,GACA,GC2X0BE,ED1X1B,GANS,ICkYf,CACIpG,KAAM,IACN2E,MAAO,CDnYI,EACA,EAET,GCgYiBwB,EAAGC,ED9XpB,GC8X2BC,EDnY1B,ICqYP,CACIrG,KAAM,UACN2E,MAAO,CDtYJ,ECsYUuB,EAAGC,EDnYd,GACA,GCkYyBE,EDxYhB,EACA,ICyYf,CACIrG,KAAM,IACN2E,MAAO,CD1YI,EAET,GACA,GCuYkByB,EAAGC,ED5YZ,EACR,EACA,IC4YP,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EAAGC,EAAGC,ED1Yb,GANS,EACR,EAAQ,EACA,ICgZf,CACIpG,KAAM,UACN2E,MAAO,CDhZL,GACA,GACA,GC8YmB0B,EDnZlB,EAAQ,EACR,ECkZgCH,IAEvC,CACIlG,KAAM,IACN2E,MAAO,CAAEwB,EAAGC,EAAGC,EDxZJ,EACA,EACR,EAAQ,EAET,OCwZd,CACIrG,KAAM,cACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,UACN2E,MAAO,CD7ZL,GACA,GC4Ze0B,EDlaN,EACR,EACA,ECga4BH,ED9Z7B,KCgaN,CACIlG,KAAM,IACN2E,MAAO,CAAEyB,EAAGC,EDtaD,EACR,EAAQ,EACA,EAET,GCka8BF,IAEpC,CACInG,KAAM,UACN2E,MAAO,CDpaL,GANS,EACR,EAAQ,EACR,ECwawBuB,EAAGC,EDra5B,KCuaN,CACInG,KAAM,IACN2E,MAAO,CAAE0B,ED7aN,EAAQ,EACR,EAAQ,EAET,GACA,GCyagCD,IAEtC,CACIpG,KAAM,IACN2E,MAAO,CDlbI,EACA,EACR,EAAQ,ECgbWuB,EAAGC,EAAGC,ED5a1B,KC8aN,CACIpG,KAAM,UACN2E,MAAO,CDrbJ,EACA,EAAQ,ECobSuB,EDlblB,GACA,GACA,GCgbiCG,IAEvC,CACIrG,KAAM,IACN2E,MAAO,CDzbI,EACA,ECwbIuB,EDtbb,GCsboBC,EAAGC,EAAGC,ED1bjB,IC4bf,CACIrG,KAAM,UACN2E,MAAO,CD5bJ,EC4bUuB,ED1bX,GC0bkBC,EDzblB,GACA,GANS,EACR,IC+bP,CACInG,KAAM,IACN2E,MAAO,CDhcI,EAET,GC8bcwB,ED7bd,GC6bqBC,EAAGC,EDjcvB,EAAQ,ICmcf,CACIrG,KAAM,IACN2E,MAAO,CAAEuB,EAAGC,EDjcV,GCiciBC,EDhcjB,GANS,EACA,EACR,ICscP,CACIpG,KAAM,UACN2E,MAAO,CDtcL,GACA,GCqceyB,EDpcf,GCocsBC,EDzcrB,EACA,EAAQ,IC0cf,CACIrG,KAAM,IACN2E,MAAO,CAAEwB,EAAGC,EDxcV,GCwciBC,ED9cR,EACA,EACA,EC4coBH,MAI3C,CACIlG,KAAM,gBACN4G,iBAAkB,EAClBC,OAAQ,CACJ,CACI7G,KAAM,IACN2E,MAAO,CDxdI,EACR,EACA,EAAQ,EAET,GACA,GACA,KCodN,CACI3E,KAAM,UACN2E,MAAO,CD3dJ,EAAQ,EACA,EC0dQuB,EAAGC,EAAGC,EAAGC,IAEhC,CACIrG,KAAM,IACN2E,MAAO,CD/dI,EACR,EC8dauB,ED5dd,GACA,GACA,GANS,ICkef,CACIlG,KAAM,UACN2E,MAAO,CDleJ,EAAQ,EAET,GCgekBwB,EAAGC,EAAGC,EDnevB,ICqeP,CACIrG,KAAM,IACN2E,MAAO,CDteI,ECseCuB,EAAGC,EDneb,GACA,GANS,EACA,ICyef,CACInG,KAAM,IACN2E,MAAO,CAAEuB,EDxeP,GACA,GCuekBE,EAAGC,ED3epB,EACA,IC4eP,CACIrG,KAAM,UACN2E,MAAO,CD5eL,GC4eWwB,EAAGC,ED1ed,GANS,EACA,EACA,ICgff,CACIpG,KAAM,IACN2E,MAAO,CAAEwB,ED/eP,GACA,GC8ekBE,EDnfjB,EACA,ECkf4BH,IAEnC,CACIlG,KAAM,UACN2E,MAAO,CDnfL,GCmfWyB,EAAGC,EDxfL,EACA,EACA,EAET,KCsfN,CACIrG,KAAM,IACN2E,MAAO,CAAEyB,EDtfP,GANS,EACR,EACA,EC0fwBF,EAAGC,IAElC,CACInG,KAAM,UACN2E,MAAO,CD1fL,GC0fW0B,ED/fV,EAAQ,EACA,EAET,GACA,KC6fN,CACIrG,KAAM,IACN2E,MAAO,CAAE0B,EDpgBE,EACA,EACR,ECkgBmBH,EAAGC,EAAGC,OCpqB/BjE,EAAb,SAAAS,GAAA,SAAAT,IAAA,OAAA/E,OAAAC,EAAA,EAAAD,CAAAE,KAAA6E,GAAA/E,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+E,GAAAlC,MAAA3C,KAAA6G,YAAA,OAAA/G,OAAAW,EAAA,EAAAX,CAAA+E,EAAAS,GAAAxF,OAAAY,EAAA,EAAAZ,CAAA+E,EAAA,EAAAlE,IAAA,SAAAC,MAAA,WACa,IAAAf,EAAAG,KAML,OACI8B,EAAA,qBAAKC,UAAU,mBACXD,EAAA,wBAAQC,UAAU,gBACdD,EAAA,uCAKJA,EAAA,qBAAKC,UAAU,cACXD,EAAA,uPAIAA,EAAA,0CACoBA,EAAA,oCADpB,wPAIAA,EAAA,sQAIAA,EAAA,wNAMJA,EAAA,qBAAKC,UAAU,eACXD,EAAA,mBACIC,UAAU,aACVyF,KAAK,IACLC,QApCI,SAAChC,GACjBA,EAAEiC,iBACF7H,EAAKD,MAAM4J,SAoCC1H,EAAA,cAAC2H,EAAD,MALJ,eAnCpB5E,EAAA,CAA0BzC,aCJnB,SAASsH,EAAeC,EAAeC,EAAuBC,GAoBjE,IAnBA,IAAIC,GAAiB,EAGjBC,EAAUF,EACRG,EAAaL,EAAMtC,MAAMQ,IAAI,SAAAoC,GAO/B,OANIA,EAAYH,GAAiBC,EAAUX,EAAQ3C,OAAS,GACxDsD,IAGJD,EAAgBG,EAETb,EAAQW,GAASE,KAGtBC,EAAkBN,EAAUN,iBAC5Ba,EAAgB,GAAKD,EAAkBP,EAAMtC,MAAMZ,OAGrD2D,GAAc,EACTC,EAAI,EAAGA,EAAIF,EAAeE,IAAK,GACpCD,GACkBT,EAAMtC,MAAMZ,SAC1B2D,EAAa,GAEjB,IAAIE,EAAcX,EAAMtC,MAAM+C,GAC1BE,EAAcR,GAAiBC,EAAUX,EAAQ3C,OAAS,GAC1DsD,IAEJD,EAAgBQ,EAChBN,EAAWO,KAAKnB,EAAQW,GAASO,IAIrCR,EAAgBH,EAAMtC,MAAM,GAC5B0C,EAAUF,EACVO,EAAaT,EAAMtC,MAAMZ,OACzB,IAAK,IAAI4D,EAAI,EAAGA,EAAIH,EAAiBG,IAAK,GACtCD,EACiB,IACbA,EAAaT,EAAMtC,MAAMZ,OAAS,GAEtC,IAAI6D,EAAcX,EAAMtC,MAAM+C,GAC1BE,EAAcR,GAAiBC,EAAU,GACzCA,IAEJD,EAAgBQ,EAChBN,EAAWQ,QAAQpB,EAAQW,GAASO,IAGxC,OAAON,YC1CNS,SCJQC,EAAmB,CAC5B,CACIhI,KAAM,YACNC,MAAO,SAAAC,GAAC,OAAIA,EAAExB,KAAO,SAEzB,CACIsB,KAAM,OACNC,MAAO,SAAAC,GACH,IAAM+H,EAAO/H,EAAEgI,QAAQC,mBAAmBC,OAAKC,KAAMD,OAAKE,KAAM,CAACC,sBAAsB,IACvFrI,EAAEsI,gBAAgBP,KAG1B,CACIjI,KAAM,UACNC,MAAO,SAAAC,GACH,IAAM+H,EAAO/H,EAAEgI,QAAQC,mBAAmBM,SAAOJ,KAAMI,SAAOH,KAAM,CAACC,sBAAsB,IAC3FrI,EAAEsI,gBAAgBP,KAG1B,CACIjI,KAAM,UACNC,MAAO,SAAAC,GACH,IAAM+H,EAAO/H,EAAEgI,QAAQC,mBAAmBO,SAAOL,KAAMK,SAAOJ,KAAM,CAACC,sBAAsB,IAC3FrI,EAAEsI,gBAAgBP,KAG1B,CACIjI,KAAM,UACNC,MAAO,SAAAC,GACH,IAAM+H,EAAO/H,EAAEgI,QAAQC,mBAAmBQ,aAAWN,KAAMM,aAAWL,KAAM,CAACC,sBAAsB,IACnGrI,EAAEsI,gBAAgBP,KAG1B,CACIjI,KAAM,QACNC,MAAO,SAAAC,GACH,IAAM+H,EAAO/H,EAAEgI,QAAQC,mBAAmBS,QAAMP,KAAMO,QAAMN,KAAM,CAACC,sBAAsB,IACzFrI,EAAEsI,gBAAgBP,KAG1B,CACIjI,KAAM,UACNC,MAAO,SAAAC,GACH,IAAM+H,EAAO/H,EAAEgI,QAAQC,mBAAmBU,UAAQR,KAAMQ,UAAQP,KAAM,CAACC,sBAAsB,IAC7FrI,EAAEsI,gBAAgBP,KAG1B,CACIjI,KAAM,UACNC,MAAO,SAAAC,GACH,IAAM+H,EAAO/H,EAAEgI,QAAQC,mBAAmBW,UAAQT,KAAMS,UAAQR,KAAM,CAACC,sBAAsB,IAC7FrI,EAAEsI,gBAAgBP,KAG1B,CACIjI,KAAM,iBACNC,MAAO,SAAAC,GACH,IAAM+H,EAAO/H,EAAEgI,QAAQC,mBAAmBY,gBAAcV,KAAMU,gBAAcT,KAAM,CAACC,sBAAsB,IACzGrI,EAAEsI,gBAAgBP,KAG1B,CACIjI,KAAM,WACNC,MAAO,SAAAC,GAAC,OAAIA,EAAExB,KAAO,aAEzB,CACIsB,KAAM,SACNC,MAAO,SAAAC,GAAC,OAAIA,EAAExB,KAAO,YCnDhBsK,EAAb,SAAApG,GAAA,SAAAoG,IAAA,OAAA5L,OAAAC,EAAA,EAAAD,CAAAE,KAAA0L,GAAA5L,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4L,GAAA/I,MAAA3C,KAAA6G,YAAA,OAAA/G,OAAAW,EAAA,EAAAX,CAAA4L,EAAApG,GAAAxF,OAAAY,EAAA,EAAAZ,CAAA4L,EAAA,EAAA/K,IAAA,SAAAC,MAAA,WACa,IAAAf,EAAAG,KACC2L,EAAyBtC,EAAWuC,QAAQ5L,KAAKJ,MAAMgK,WACvDiC,EAAyB7L,KAAKJ,MAAMgK,UAAUL,OAAOqC,QAAQ5L,KAAKJ,MAAM+J,OACxEmC,EAAqBpB,EAAOkB,QAAQ5L,KAAKJ,MAAM6C,OAE/CsJ,EAAmB1C,EAAWxB,IAAI,SAAC+B,EAAW7B,GAAZ,OAAsBjG,EAAA,wBAAQnB,IAAKoH,EAAOnH,MAAOmH,EAAMiE,YAAapC,EAAUlH,QAChHuJ,EAAmBjM,KAAKJ,MAAMgK,UAAUL,OAAO1B,IAAI,SAAC8B,EAAO5B,GAAR,OAAkBjG,EAAA,wBAAQnB,IAAKoH,EAAOnH,MAAOmH,EAAMiE,YAAarC,EAAMjH,QACzHwJ,EAAexB,EAAO7C,IAAI,SAACpF,EAAOsF,GAAR,OAAkBjG,EAAA,wBAAQnB,IAAKoH,EAAOnH,MAAOmH,EAAMiE,YAAavJ,EAAMC,QAQhGvB,EAAUnB,KAAKJ,MAAMuM,YACrB,yCACA,gBAEN,OACIrK,EAAA,qBAAKC,UAAWZ,GAEZW,EAAA,uBAAOC,UAAU,gBACbD,EAAA,sBAAMC,UAAU,eAAhB,SACAD,EAAA,wBACIC,UAAU,cACVnB,MAAO+K,EAAuBK,WAC9BI,SAlBQ,SAAC3G,GAAD,OAA6C5F,EAAKD,MAAMyM,gBAAgBhD,EAAW5D,EAAE6G,OAAOC,kBAoBnGR,IAITjK,EAAA,uBAAOC,UAAU,gBACbD,EAAA,sBAAMC,UAAU,eAAhB,SACAD,EAAA,wBACIC,UAAU,cACVnB,MAAOiL,EAAuBG,WAC9BI,SA5BI,SAAC3G,GAAD,OAA6C5F,EAAKD,MAAM4M,YAAY3M,EAAKD,MAAMgK,UAAUL,OAAO9D,EAAE6G,OAAOC,kBA8B5GN,IAITnK,EAAA,uBAAOC,UAAU,gBACbD,EAAA,sBAAMC,UAAU,eAAhB,SACAD,EAAA,wBACIC,UAAU,cACVnB,MAAOkL,EAAmBE,WAC1BI,SApCI,SAAC3G,GAAD,OAA6C5F,EAAKD,MAAM6M,YAAY/B,EAAOjF,EAAE6G,OAAOC,kBAsCvFL,IAITpK,EAAA,uBAAOC,UAAU,gBACbD,EAAA,sBAAMC,UAAU,eAAhB,UACAD,EAAA,uBACIC,UAAU,cACVX,KAAK,QACLsL,IAAI,IACJC,IAAI,IACJC,KAAK,IACLhM,MAAOZ,KAAKJ,MAAMW,OAClB6L,SArDE,SAAC3G,GAAD,OAA4C5F,EAAKD,MAAMiN,UAAUC,SAASrH,EAAE6G,OAAO1L,YAyD7FkB,EAAA,uBAAOC,UAAU,gBACbD,EAAA,sBAAMC,UAAU,eAAhB,UACAD,EAAA,uBACIC,UAAU,cACVX,KAAK,QACLsL,IAAI,IACJC,IAAI,IACJC,KAAK,QACLhM,MAAOZ,KAAKJ,MAAM8D,OAClB0I,SAjEE,SAAC3G,GAAD,OAA4C5F,EAAKD,MAAM2G,UAAUwG,WAAWtH,EAAE6G,OAAO1L,iBAb/G8K,EAAA,CAAqCtJ,aCYxB4K,EAAb,SAAA1H,GAAA,SAAA0H,IAAA,OAAAlN,OAAAC,EAAA,EAAAD,CAAAE,KAAAgN,GAAAlN,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkN,GAAArK,MAAA3C,KAAA6G,YAAA,OAAA/G,OAAAW,EAAA,EAAAX,CAAAkN,EAAA1H,GAAAxF,OAAAY,EAAA,EAAAZ,CAAAkN,EAAA,EAAArM,IAAA,SAAAC,MAAA,WACa,IAAAf,EAAAG,KAWCiN,OAAwCtL,IAAvB3B,KAAKJ,MAAMsN,aAC5BvL,EACA,SAAC8D,GACCA,EAAEiC,iBACF7H,EAAKD,MAAMsN,WAiBbC,EAAoBnN,KAAKJ,MAAMwN,gBAC/BtL,EAAA,cAACuL,EAAD,CACElB,aAAa,EACbvC,UAAW5J,KAAKJ,MAAM0N,WACtB3D,MAAO3J,KAAKJ,MAAM2N,OAClBhN,OAAQP,KAAKJ,MAAM4N,QACnB9J,OAAQ1D,KAAKJ,MAAM6N,QACnBhL,MAAOzC,KAAKJ,MAAM8N,OAElBrB,gBAfyB,SAACzC,GAAD,OAA2B/J,EAAKD,MAAMyM,gBAAgBzC,GAAW,IAgB1F4C,YAfqB,SAAC7C,GAAD,OAAmB9J,EAAKD,MAAM4M,YAAY7C,GAAO,IAgBtEkD,UAfmB,SAACtM,GAAD,OAAoBV,EAAKD,MAAMiN,UAAUtM,GAAQ,IAgBpEgG,UAfmB,SAAC7C,GAAD,OAAoB7D,EAAKD,MAAM2G,UAAU7C,GAAQ,IAgBpE+I,YAfkB,SAAChK,GAAD,OAAmB5C,EAAKD,MAAM4G,SAAS/D,GAAO,WAiBlEd,EAEAgM,OAAqChM,IAAvB3B,KAAKJ,MAAMsN,aACzBvL,EACAG,EAAA,mBAAGC,UAAU,aAAayF,KAAK,IAAIC,QAASwF,GAC1CnL,EAAA,cAACsD,EAAD,MADF,uBAIN,OACItD,EAAA,qBAAKC,UAAU,4BACXD,EAAA,wBAAQC,UAAU,gBACdD,EAAA,yCAKJA,EAAA,cAACuL,EAAD,CACIlB,aAAa,EACbvC,UAAW5J,KAAKJ,MAAMgK,UACtBD,MAAO3J,KAAKJ,MAAM+J,MAClBpJ,OAAQP,KAAKJ,MAAMW,OACnBmD,OAAQ1D,KAAKJ,MAAM8D,OACnBjB,MAAOzC,KAAKJ,MAAM6C,MAElB4J,gBArDmB,SAACzC,GAAD,OAA2B/J,EAAKD,MAAMyM,gBAAgBzC,GAAW,IAsDpF4C,YArDe,SAAC7C,GAAD,OAAmB9J,EAAKD,MAAM4M,YAAY7C,GAAO,IAsDhEkD,UArDa,SAACtM,GAAD,OAAoBV,EAAKD,MAAMiN,UAAUtM,GAAQ,IAsD9DgG,UArDa,SAAC7C,GAAD,OAAoB7D,EAAKD,MAAM2G,UAAU7C,GAAQ,IAsD9D+I,YArDY,SAAChK,GAAD,OAAmB5C,EAAKD,MAAM4G,SAAS/D,GAAO,MAwD9DX,EAAA,uBAAOC,UAAU,gBAAjB,0CAEID,EAAA,uBACIV,KAAK,WACLwM,QAAS5N,KAAKJ,MAAMwN,gBACpBhB,SA3DW,SAAC3G,GAAD,OAA4C5F,EAAKD,MAAMiO,mBAAmBpI,EAAE6G,OAAOsB,aA+DrGT,EAEDrL,EAAA,qBAAKC,UAAU,eACXD,EAAA,mBACIC,UAAU,aACVyF,KAAK,IACLC,QAvFI,SAAChC,GACjBA,EAAEiC,iBACF7H,EAAKD,MAAM4J,SAuFC1H,EAAA,cAAC2H,EAAD,MALJ,SAOA3H,EAAA,mBACIC,UAAU,iCACVyF,KAAK,IACLC,QAnGI,SAAChC,GACjBA,EAAEiC,iBACF7H,EAAKD,MAAM4I,SAmGC1G,EAAA,cAACkD,EAAD,MALJ,aAQC2I,QA1GrBX,EAAA,CAAmC5K,uBHxB9BqI,+FA0BL,IAAMqD,EAAe,WACfC,EAAmB,YAAaC,EAAoB,aACpDC,EAAmB,YAAaC,EAAoB,aACpDC,EAAgB,SAAUC,EAAiB,UAC3CC,EAAgB,SAAUC,GAAiB,UAC3CC,GAAe,QAASC,GAAgB,SACxCC,GAAsB,kBA0RbC,eAvRX,SAAAA,EAAY9O,GAAW,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0O,GAInB,IAAM9E,GAHN/J,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4O,GAAAvO,KAAAH,KAAMJ,KAGiB+O,cAAcZ,GAC/BT,EAAazN,EAAK8O,cAAcX,GALnB,OAOnBnO,EAAKO,MAAQ,CACTwO,QAAuD,OAA9CC,aAAaC,QAAQL,IAAgChE,EAAQ1F,KAAO0F,EAAQzF,KAErF4E,UAAWA,EACXD,MAAO9J,EAAKkP,UAAUnF,EAAWqE,GACjC1N,OAAQV,EAAKmP,WAAWb,GACxBzK,OAAQ7D,EAAKoP,WAAWZ,GACxB5L,MAAO5C,EAAKqP,UAAUX,IAEtBnB,gBAAiBvN,EAAKsP,aAAarB,GAEnCR,WAAYA,EACZC,OAAQ1N,EAAKkP,UAAUzB,EAAYY,GACnCV,QAAS3N,EAAKmP,WAAWZ,GACzBX,QAAS5N,EAAKoP,WAAWX,IACzBZ,OAAQ7N,EAAKqP,UAAUV,KAtBR3O,mFA0BH,IAAAkB,EAAAf,KAChB0G,OAAOE,iBAAiB,sBAAuB,SAACnB,GAC5CA,EAAEiC,iBACF3G,EAAKD,SAAS,CACVsO,cAAe3J,MAIvBiB,OAAOE,iBAAiB,eAAgB,SAACyI,GACrCtO,EAAKD,SAAS,CACVsO,mBAAezN,4CAKL2N,GAClB,IAAMC,EAAiBV,aAAaC,QAAQQ,GAE5C,GAAuB,OAAnBC,EAAyB,CACzB,IAAMC,EAAQnG,EAAWoG,OAAO,SAAAC,GAAC,OAAIA,EAAEhN,OAAS6M,IAChD,GAAIC,EAAM/I,OAAS,EACf,OAAO+I,EAAM,GAIrB,OAAOnG,EAAW,qCAGJO,EAAuB0F,GACrC,IAAMK,EAAad,aAAaC,QAAQQ,GAExC,GAAmB,OAAfK,EAAqB,CACrB,IAAMH,EAAQ5F,EAAUL,OAAOkG,OAAO,SAAAC,GAAC,OAAIA,EAAEhN,OAASiN,IACtD,GAAIH,EAAM/I,OAAS,EACf,OAAO+I,EAAM,GAIrB,OAAO5F,EAAUL,OAAOkG,OAAO,SAAAC,GAAC,MAAe,MAAXA,EAAEhN,OAAc,sCAGrC4M,GACf,IAAMM,EAAcf,aAAaC,QAAQQ,GAEzC,GAAoB,OAAhBM,EAAsB,CACtB,IAAMhP,EAAQkM,SAAS8C,GACvB,GAAIhP,GAAS,GAAKA,EAAQwI,EAAQ3C,OAC9B,OAAO7F,EAIf,OAAO,qCAGQ0O,GACf,IAAMO,EAAWhB,aAAaC,QAAQQ,GAEtC,GAAiB,OAAbO,EAAmB,CACnB,IAAMjP,EAAQmM,WAAW8C,GACzB,GAAIjP,GAAS,GAAKA,GAAS,EACvB,OAAOA,EAIf,MAAO,qCAGO0O,GACd,IAAMQ,EAAiBjB,aAAaC,QAAQQ,GAE5C,GAAuB,OAAnBQ,EAAyB,CACzB,IAAMrN,EAAQiI,EAAOqF,KAAK,SAAAC,GAAC,OAAIA,EAAEtN,OAASoN,IAE1C,QAAcnO,IAAVc,EACA,OAAOA,EAIf,OAAOiI,EAAO,wCAGG4E,GACjB,MAAgD,SAAzCT,aAAaC,QAAQQ,oCAGvB,IAAA1H,EAAA5H,KACL,GAAIA,KAAKI,MAAMwO,UAAYnE,EAAQ5F,KAAM,CAGrC,OAAO/C,EAAA,cAACmO,EAAD,CACHzG,KAHS,kBAAM5B,EAAK9G,SAAS,CAAE8N,QAASnE,EAAQ1F,UAMnD,GAAI/E,KAAKI,MAAMwO,UAAYnE,EAAQzF,KAAM,CAC1C,IAGMY,EAAuB,CACzB,CACIyB,MAAOqC,EAAe1J,KAAKI,MAAMuJ,MAAO3J,KAAKI,MAAMwJ,UAAW5J,KAAKI,MAAMG,QACzEyH,kBAAmBhI,KAAKI,MAAMuJ,MAAMjH,KACpC6E,QAAO,GAAA2I,OAAKlQ,KAAKI,MAAMuJ,MAAMjH,KAAtB,KAAAwN,OAA8BlQ,KAAKI,MAAMwJ,UAAUlH,MAC1DgB,OAAQ1D,KAAKI,MAAMsD,OACnBjB,MAAOzC,KAAKI,MAAMqC,QAc1B,OAVIzC,KAAKI,MAAMgN,iBACXxH,EAAS2E,KAAK,CACVlD,MAAOqC,EAAe1J,KAAKI,MAAMmN,OAAQvN,KAAKI,MAAMkN,WAAYtN,KAAKI,MAAMoN,SAC3ExF,kBAAmBhI,KAAKI,MAAMmN,OAAO7K,KACrC6E,QAAO,GAAA2I,OAAKlQ,KAAKI,MAAMmN,OAAO7K,KAAvB,KAAAwN,OAA+BlQ,KAAKI,MAAMkN,WAAW5K,MAC5DgB,OAAQ1D,KAAKI,MAAMqN,QACnBhL,MAAOzC,KAAKI,MAAMsN,SAInB5L,EAAA,cAACqO,EAAD,CACHC,OAxBS,kBAAMxI,EAAK9G,SAAS,CAAE8N,QAASnE,EAAQ1F,QAyBhD4C,UAxBc,kBAAMC,EAAK9G,SAAS,CAAE8N,QAASnE,EAAQ4F,UAyBrDzK,SAAUA,IAGb,GAAI5F,KAAKI,MAAMwO,UAAYnE,EAAQ4F,OAAQ,CAC5C,IAMMnD,OAAuCvL,IAA7B3B,KAAKI,MAAMgP,mBACrBzN,EACA,kBAAOiG,EAAKxH,MAAMgP,cAAsBkB,UA2E9C,OAAOxO,EAAA,cAACyO,EAAD,CACH/H,KApFS,WACTqG,aAAa2B,QAAQ/B,GAAqB,QAC1C7G,EAAK9G,SAAS,CAAE8N,QAASnE,EAAQzF,QAmFjCwE,KAjFS,kBAAM5B,EAAK9G,SAAS,CAAE8N,QAASnE,EAAQ1F,QAkFhDmI,QAASA,EAETE,gBAAiBpN,KAAKI,MAAMgN,gBAC5BS,mBAXa,SAAC4C,GACd5B,aAAa2B,QAAQ1C,EAAc2C,EAASzE,YAC5CpE,EAAK9G,SAAS,CAAEsM,gBAAiBqD,KAWjC7G,UAAW5J,KAAKI,MAAMwJ,UACtB0D,WAAYtN,KAAKI,MAAMkN,WACvBjB,gBAnFiB,SAACzC,EAAuB8G,GACzC,IAAMC,EAAa/I,EAAKxH,MAAMwJ,UAAUL,OAAOqC,QAAQ8E,EAAQ9I,EAAKxH,MAAMmN,OAAS3F,EAAKxH,MAAMuJ,OACxFiH,EAAWD,GAAc,GAAKA,EAAa/G,EAAUL,OAAO9C,OAC5DmD,EAAUL,OAAOoH,GACjB/G,EAAUL,OAAO,GAEnBmH,GACA7B,aAAa2B,QAAQxC,EAAmBpE,EAAUlH,MAElDkF,EAAK9G,SAAS,CACVwM,WAAY1D,EACZ2D,OAAQqD,MAIZ/B,aAAa2B,QAAQzC,EAAkBnE,EAAUlH,MAEjDkF,EAAK9G,SAAS,CACV8I,UAAWA,EACXD,MAAOiH,MAkEfjH,MAAO3J,KAAKI,MAAMuJ,MAClB4D,OAAQvN,KAAKI,MAAMmN,OACnBf,YA/Da,SAAC7C,EAAe+G,GACzBA,GACA7B,aAAa2B,QAAQtC,EAAmBvE,EAAMjH,MAC9CkF,EAAK9G,SAAS,CAAEyM,OAAQ5D,MAGxBkF,aAAa2B,QAAQvC,EAAkBtE,EAAMjH,MAC7CkF,EAAK9G,SAAS,CAAE6I,MAAOA,MA0D3BpJ,OAAQP,KAAKI,MAAMG,OACnBiN,QAASxN,KAAKI,MAAMoN,QACpBX,UAxDc,SAACtM,EAAgBmQ,GAC3BA,GACA7B,aAAa2B,QAAQpC,EAAgB7N,EAAOyL,YAC5CpE,EAAK9G,SAAS,CAAE0M,QAASjN,MAGzBsO,aAAa2B,QAAQrC,EAAe5N,EAAOyL,YAC3CpE,EAAK9G,SAAS,CAAEP,OAAQA,MAmD5BmD,OAAQ1D,KAAKI,MAAMsD,OACnB+J,QAASzN,KAAKI,MAAMqN,QACpBlH,UAjDc,SAACsK,EAAaH,GACxBA,GACA7B,aAAa2B,QAAQlC,GAAgBuC,EAAI7E,YACzCpE,EAAK9G,SAAS,CAAE2M,QAASoD,MAGzBhC,aAAa2B,QAAQnC,EAAewC,EAAI7E,YACxCpE,EAAK9G,SAAS,CAAE4C,OAAQmN,MA4C5BpO,MAAOzC,KAAKI,MAAMqC,MAClBiL,OAAQ1N,KAAKI,MAAMsN,OACnBlH,SA1Ca,SAAC/D,EAAeiO,GACzBA,GACA7B,aAAa2B,QAAQhC,GAAe/L,EAAMC,MAC1CkF,EAAK9G,SAAS,CAAE4M,OAAQjL,MAGxBoM,aAAa2B,QAAQjC,GAAc9L,EAAMC,MACzCkF,EAAK9G,SAAS,CAAE2B,MAAOA,QA8C/B,OAAOX,EAAA,cAACgP,EAAD,CACHxI,KAHS,kBAAMV,EAAK9G,SAAS,CAAE8N,QAASnE,EAAQ5F,QAIhD2D,KATS,WACTqG,aAAa2B,QAAQ/B,GAAqB,QAC1C7G,EAAK9G,SAAS,CAAE8N,QAASnE,EAAQzF,QAQjC2C,UANc,kBAAMC,EAAK9G,SAAS,CAAE8N,QAASnE,EAAQ4F,mBA5QnDjO,aIjCZ2O,GAAcC,QACW,cAA7BtK,OAAOuK,SAASC,UAEe,UAA7BxK,OAAOuK,SAASC,UAEhBxK,OAAOuK,SAASC,SAAS1B,MACvB,2DA8CN,SAAS2B,GAAgBC,EAAeC,GACtCC,UAAUC,cACPC,SAASJ,GACTK,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBxR,QACfkR,UAAUC,cAAcQ,YAI1BC,QAAQC,IACN,gHAKEZ,GAAUA,EAAOa,UACnBb,EAAOa,SAASR,KAMlBM,QAAQC,IAAI,sCAGRZ,GAAUA,EAAOc,WACnBd,EAAOc,UAAUT,UAO5BU,MAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,KCnGjEC,IAASC,OAAOC,EAAAxM,EAAAyM,cAACC,GAAD,MAASC,SAASC,eAAe,SDsB1C,SAAkBvB,GACvB,GAA6C,kBAAmBC,UAAW,CAMzE,GAJkB,IAAIuB,IACnBC,GACDpM,OAAOuK,SAASzJ,MAEJuL,SAAWrM,OAAOuK,SAAS8B,OAIvC,OAGFrM,OAAOE,iBAAiB,OAAQ,WAC9B,IAAMwK,EAAK,GAAAlB,OAAM4C,GAAN,sBAEP/B,IAgEV,SAAiCK,EAAeC,GAE9C2B,MAAM5B,GACHK,KAAK,SAAAwB,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASI,QACO,MAAfH,IAA8D,IAAvCA,EAAYtH,QAAQ,cAG5C0F,UAAUC,cAAc+B,MAAM7B,KAAK,SAAAC,GACjCA,EAAa6B,aAAa9B,KAAK,WAC7B/K,OAAOuK,SAASuC,aAKpBrC,GAAgBC,EAAOC,KAG1Be,MAAM,WACLJ,QAAQC,IACN,mEArFAwB,CAAwBrC,EAAOC,GAI/BC,UAAUC,cAAc+B,MAAM7B,KAAK,WACjCO,QAAQC,IACN,+GAMJd,GAAgBC,EAAOC,MChD/BE","file":"static/js/main.5b6ee831.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.bd3b845b.svg\";","import * as React from 'react';\r\n\r\nexport enum ButtonType {\r\n    Note,\r\n    HighlightNote,\r\n}\r\n\r\ninterface IProps {\r\n    text: string;\r\n    octave: number;\r\n    \r\n    orderNum?: number;\r\n    type: ButtonType;\r\n    enabled?: boolean;\r\n    isLeft?: boolean;\r\n    isRight?: boolean;    \r\n    isTop?: boolean;\r\n\r\n    altProfile: boolean;\r\n\r\n    start: () => void;\r\n    stop: () => void;\r\n}\r\n\r\ninterface IState {\r\n    active: boolean;\r\n    text: string;\r\n    octave: number;\r\n    altProfile: boolean; // keep this in the state so buttons \"remember\" what they were while pressed when the profile switches\r\n}\r\n\r\nexport class PlayerButton extends React.PureComponent<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: false,\r\n            text: props.text,\r\n            octave: props.octave,\r\n            altProfile: props.altProfile,\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps: IProps) {\r\n        if (nextProps.altProfile !== this.props.altProfile && !this.state.active) {\r\n            this.setState({\r\n                text: nextProps.text,\r\n                octave: nextProps.octave,\r\n                altProfile: nextProps.altProfile,\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const touchStart = () => {\r\n                this.setState({\r\n                    active: true,\r\n                    text: this.props.text,\r\n                    octave: this.props.octave,\r\n                    altProfile: this.props.altProfile,\r\n                });\r\n                \r\n                if (this.props.enabled !== false) {\r\n                    this.props.start();\r\n                }\r\n            };\r\n\r\n        const touchEnd = () => {\r\n                this.setState({\r\n                    active: false,\r\n                    text: this.props.text,\r\n                    octave: this.props.octave,\r\n                    altProfile: this.props.altProfile,\r\n                });\r\n\r\n                if (this.props.enabled !== false) {\r\n                    this.props.stop();\r\n                }\r\n            };\r\n\r\n        let classes = 'player__button';\r\n        \r\n        if (this.state.active) {\r\n            classes += ' player__button--active';\r\n        }\r\n\r\n        if (this.state.altProfile) {\r\n            classes += ' player__button--altProfile';\r\n        }\r\n\r\n        if (this.props.enabled === false) {\r\n            classes += ' player__button--disabled';\r\n        }\r\n\r\n        if (this.props.type == ButtonType.Note || this.props.type == ButtonType.HighlightNote) {\r\n            if (this.props.isLeft) {\r\n                classes += ' player__button--left';\r\n            }\r\n            if (this.props.isRight) {\r\n                classes += ' player__button--right';\r\n            }\r\n            if (this.props.isTop) {\r\n                classes += ' player__button--top';\r\n            }\r\n        }\r\n\r\n        switch (this.props.type) {\r\n            case ButtonType.HighlightNote:\r\n                classes += ' player__button--highlight';\r\n                break;\r\n        }\r\n\r\n        const style = this.props.orderNum === undefined\r\n            ? undefined\r\n            : {\r\n                order: this.props.orderNum,\r\n            };\r\n\r\n        return (\r\n            <div\r\n                className={classes}\r\n                style={style}\r\n                onTouchStart={touchStart}\r\n                onTouchEnd={touchEnd}\r\n                onTouchCancel={touchEnd}\r\n            >\r\n                {this.state.text}<sub>{this.state.octave}</sub>\r\n            </div>\r\n        );\r\n    }\r\n}","import { IVoice } from \"./Voices\";\r\n\r\n//const AudioContext = (window as any).AudioContext || (window as any).webkitAudioContext;\r\n\r\ninterface INoteOscillator {\r\n    oscillator: OscillatorNode;\r\n    gain: GainNode;\r\n}\r\n\r\nexport class Audio {\r\n    private readonly audioCtx: AudioContext;\r\n    private readonly gain: GainNode;\r\n    private oscillators: { [key:number]: INoteOscillator; } = {};\r\n\r\n    private voice: IVoice = {\r\n        name: 'Default',\r\n        apply: o => { o.type = 'sine'; return o; },\r\n    };\r\n\r\n    constructor() {\r\n        this.audioCtx = new AudioContext();\r\n        this.gain = this.audioCtx.createGain();\r\n\r\n        const compressor = this.audioCtx.createDynamicsCompressor();\r\n        compressor.threshold.setValueAtTime(-50, this.audioCtx.currentTime);\r\n        compressor.knee.setValueAtTime(40, this.audioCtx.currentTime);\r\n        compressor.ratio.setValueAtTime(12, this.audioCtx.currentTime);\r\n        compressor.attack.setValueAtTime(0, this.audioCtx.currentTime);\r\n        compressor.release.setValueAtTime(0.25, this.audioCtx.currentTime);\r\n\r\n        this.gain.connect(compressor);\r\n\r\n        compressor.connect(this.audioCtx.destination);\r\n    }\r\n\r\n    public setVolume(volume: number) {\r\n        this.gain.gain.setValueAtTime(volume, this.audioCtx.currentTime);\r\n    }\r\n\r\n    public setVoice(voice: IVoice) {\r\n        this.voice = voice;\r\n    }\r\n\r\n    public start(key: number, frequency: number) {\r\n        let noteOscillator = this.oscillators[key];\r\n\r\n        if (noteOscillator !== undefined) {\r\n            // already playing, cannot play more\r\n            return;\r\n        }\r\n\r\n        const oscillator = this.audioCtx.createOscillator();\r\n        this.voice.apply(oscillator);\r\n\r\n        oscillator.frequency.setValueAtTime(frequency, this.audioCtx.currentTime);\r\n        oscillator.start();\r\n\r\n        const weightedDecibels = this.determineWeighting(frequency);\r\n        const weightedGain = 1 / Math.pow(10, weightedDecibels / 20);\r\n        \r\n        const noteGain = this.audioCtx.createGain();\r\n        noteGain.gain.setValueAtTime(weightedGain, this.audioCtx.currentTime);\r\n        \r\n        oscillator.connect(noteGain);\r\n        noteGain.connect(this.gain);\r\n        \r\n        this.oscillators[key] = {\r\n            oscillator: oscillator,\r\n            gain: noteGain,\r\n        };\r\n    }\r\n\r\n    public stop(key: number) {\r\n        const noteOscillator = this.oscillators[key];\r\n\r\n        if (noteOscillator === undefined) {\r\n            // not playing this frequency, nothing to stop\r\n            return;\r\n        }\r\n\r\n        delete this.oscillators[key];\r\n        this.stopOscillator(noteOscillator);\r\n    }\r\n\r\n    public stopAll() {\r\n        for (let key in this.oscillators) {\r\n            const noteOscillator = this.oscillators[key];\r\n            this.stopOscillator(noteOscillator);\r\n        }\r\n\r\n        this.oscillators = {};\r\n    }\r\n\r\n    private stopOscillator(noteOscillator: INoteOscillator) {\r\n        // fade out, to avoid a \"pop\" from the sudden cutoff\r\n        const gain = noteOscillator.gain.gain;\r\n        gain.setValueAtTime(gain.value, this.audioCtx.currentTime); \r\n        gain.exponentialRampToValueAtTime(0.0001, this.audioCtx.currentTime + 0.05);\r\n\r\n        setTimeout(() => {\r\n            noteOscillator.oscillator.stop();\r\n            noteOscillator.gain.disconnect(this.gain);\r\n        }, 25);\r\n    }\r\n\r\n    private determineWeighting(frequency: number) {\r\n        // This is the A-weighting, to make notes of different pitches have the same apparent volume.\r\n        // See http://www.diracdelta.co.uk/science/source/a/w/aweighting/source.html\r\n\r\n        const fSquared = frequency * frequency;\r\n        const x = (1.562339 * fSquared * fSquared) / ((fSquared + 11589.093052) * (fSquared + 544440.670461));\r\n        const y = (22428810000000000 * fSquared * fSquared) / ((fSquared + 424.318677406) * (fSquared + 424.318677406) * (fSquared + 148699001.408) * (fSquared + 148699001.408));\r\n\r\n        return Math.log10(x) + Math.log10(y);\r\n    }\r\n}","export const Help = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/help-circle.svg');\r\nexport const Home = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/home.svg');\r\nexport const Play = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/thumbs-up.svg');\r\nexport const Configure = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/sliders.svg');\r\nexport const TiltLeft = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/rotate-ccw.svg');\r\nexport const TiltRight = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/rotate-cw.svg');\r\nexport const Install = require('-!svg-react-loader?name=Icon!feather-icons/dist/icons/star.svg');\r\n","import * as React from 'react';\r\nimport { PlayerButton, ButtonType } from './PlayerButton';\r\nimport { INote } from '../functionality/Notes';\r\nimport { Audio } from '../functionality/Audio';\r\nimport './Player.css';\r\nimport { TiltLeft, TiltRight, Configure } from './Icons';\r\nimport { IVoice } from '../functionality/Voices';\r\n\r\nexport interface IProfile {\r\n    keyName: string;\r\n    notes: INote[];\r\n\r\n    volume: number;\r\n    \r\n    voice: IVoice;\r\n    \r\n    highlightNoteName: string;\r\n}\r\n\r\ninterface IProps {\r\n    goHome: () => void;\r\n    configure: () => void;\r\n    profiles: IProfile[];\r\n}\r\n\r\ninterface IState extends IProfile {\r\n    altProfile: boolean;\r\n}\r\n\r\nexport class Player extends React.Component<IProps, IState> {\r\n    private audio = new Audio();\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            ...props.profiles[0],\r\n            altProfile: false,\r\n        };\r\n    }\r\n\r\n    private tiltListener = (e: DeviceOrientationEvent) => this.updateTilt(e);\r\n\r\n    async componentDidMount() {\r\n        this.audio.setVolume(this.state.volume);\r\n        this.audio.setVoice(this.state.voice);\r\n         \r\n        if (this.props.profiles.length > 1 && (window as any).DeviceOrientationEvent) {\r\n            window.addEventListener('deviceorientation', this.tiltListener);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.audio.stopAll();\r\n         \r\n        if (this.props.profiles.length > 1) {\r\n            window.removeEventListener('deviceorientation', this.tiltListener);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps: IProps, prevState: IState) {\r\n        if (prevState.volume !== this.state.volume) {\r\n            this.audio.setVolume(this.state.volume);\r\n        }\r\n\r\n        if (prevState.voice !== this.state.voice) {\r\n            this.audio.setVoice(this.state.voice);\r\n        }\r\n    }\r\n\r\n    private updateTilt(e: DeviceOrientationEvent) {\r\n        if (e.beta === null) {\r\n            return;\r\n        }\r\n\r\n        // if showing first set and tilted right, switch to second set\r\n        if (this.state.altProfile) {\r\n            if (e.beta < 0) {\r\n                this.setState({\r\n                    ...this.props.profiles[0],\r\n                    altProfile: false,\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (e.beta > 0) {\r\n                this.setState({\r\n                    ...this.props.profiles[1],\r\n                    altProfile: true,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const configClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.configure();\r\n        };\r\n\r\n        const noteButtons = this.renderNoteButtons(this.state.notes);\r\n\r\n        const classes = this.state.altProfile\r\n            ? 'player player--altProfile'\r\n            : 'player';\r\n\r\n        const tiltMessage = this.props.profiles.length < 2\r\n            ? <div className=\"player__tilt\" />\r\n            : this.state.altProfile\r\n                ? <div className=\"player__tilt\"><TiltLeft /> Tilt left<br />for {this.props.profiles[0].keyName}</div>\r\n                : <div className=\"player__tilt\"><TiltRight />Tilt right<br />for {this.props.profiles[1].keyName}</div>\r\n\r\n        return (\r\n            <div className={classes}>\r\n                {noteButtons}\r\n\r\n                <div className=\"player__key\">{this.state.keyName}</div>\r\n\r\n                <a\r\n                    className=\"player__config\"\r\n                    href=\"#\"\r\n                    onClick={configClicked}\r\n                >\r\n                    <Configure /> Configure\r\n                </a>\r\n\r\n                {tiltMessage}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    static buttonOrder = [4, 3, 2, 1, 0, 9, 8, 7, 6, 5, 14, 13, 12, 11, 10, 19, 18, 17, 16, 15];\r\n\r\n    private renderNoteButtons(notes: INote[]) {\r\n        return notes.map((note, index) => {\r\n            const start = () => this.audio.start(index, note.frequency);\r\n            const stop = () => this.audio.stop(index);\r\n\r\n            const type = note.name === this.state.highlightNoteName\r\n                ? ButtonType.HighlightNote\r\n                : ButtonType.Note;\r\n        \r\n            const order = index < Player.buttonOrder.length\r\n                ? Player.buttonOrder[index]\r\n                : undefined;\r\n\r\n            return <PlayerButton\r\n                key={index}\r\n                text={note.name}\r\n                octave={note.octave}\r\n                orderNum={order}\r\n                start={start}\r\n                stop={stop}\r\n                isLeft={index < 5}\r\n                isRight={index >= 15}\r\n                isTop={index % 5 === 4}\r\n                type={type}\r\n                altProfile={this.state.altProfile}\r\n            />\r\n        });\r\n    }\r\n}","import * as React from 'react';\r\nimport { IScale, IScaleType } from '../functionality/Scales';\r\nimport logo from './logo.svg';\r\nimport './Home.css';\r\nimport { Help, Play, Configure } from './Icons';\r\n\r\ninterface IProps {\r\n    play: () => void;\r\n    configure: () => void;\r\n    help: () => void;\r\n}\r\n\r\nexport class Home extends React.Component<IProps, {}> {\r\n    render() {\r\n        const helpClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.help();\r\n        };\r\n\r\n        const playClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.play();\r\n        };\r\n\r\n        const configureClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.configure();\r\n        };\r\n\r\n        return (\r\n            <div className=\"site site--home\">\r\n                <header className=\"site__header\">\r\n                    <h2 className=\"site__title\">Thumbophone</h2>\r\n                    <img src={logo} className=\"site__logo\" alt=\"logo\" />\r\n                    <p>\r\n                        Use your phone as a musical instrument!\r\n                    </p>\r\n                </header>\r\n\r\n                <div className=\"site__links\">\r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={helpClicked}\r\n                    >\r\n                        <Help /> Instructions\r\n                    </a>\r\n                    \r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={configureClicked}\r\n                    >\r\n                        <Configure /> Configure\r\n                    </a>\r\n\r\n                    <a\r\n                        className=\"site__link site__link--primary\"\r\n                        href=\"#\"\r\n                        onClick={playClicked}\r\n                    >\r\n                        <Play /> Play now\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","export interface INote {\r\n    name: string;\r\n    frequency: number;\r\n    octave: number;\r\n}\r\n\r\nconst Bminus1 = 15.43;\r\n\r\nconst C0 = 16.35;\r\nconst Db0 = 17.32;\r\nconst D0 = 18.35;\r\nconst Eb0 = 19.45;\r\nconst E0 = 20.6;\r\nconst F0 = 21.83;\r\nconst Gb0 = 23.12;\r\nconst G0 = 24.5;\r\nconst Ab0 = 25.96;\r\nconst A0 = 27.5;\r\nconst Bb0 = 29.14;\r\nconst B0 = 30.87;\r\n\r\nconst C1 = 32.7;\r\nconst Db1 = 34.65;\r\nconst D1 = 36.71;\r\nconst Eb1 = 38.89;\r\nconst E1 = 41.2;\r\nconst F1 = 43.65;\r\nconst Gb1 = 46.25;\r\nconst G1 = 49;\r\nconst Ab1 = 51.91;\r\nconst A1 = 55;\r\nconst Bb1 = 58.27;\r\nconst B1 = 61.74;\r\n\r\nconst C2 = 65.41;\r\nconst Db2 = 69.3;\r\nconst D2 = 73.42;\r\nconst Eb2 = 77.78;\r\nconst E2 = 82.41;\r\nconst F2 = 87.31;\r\nconst Gb2 = 92.5;\r\nconst G2 = 98;\r\nconst Ab2 = 103.83;\r\nconst A2 = 110;\r\nconst Bb2 = 116.54;\r\nconst B2 = 123.47;\r\n\r\nconst C3 = 130.81;\r\nconst Db3 = 138.59;\r\nconst D3 = 146.83;\r\nconst Eb3 = 155.56;\r\nconst E3 = 164.81;\r\nconst F3 = 174.61;\r\nconst Gb3 = 185;\r\nconst G3 = 196;\r\nconst Ab3 = 207.65;\r\nconst A3 = 220;\r\nconst Bb3 = 233.08;\r\nconst B3 = 246.94;\r\n\r\nconst C4 = 261.63;\r\nconst Db4 = 277.18;\r\nconst D4 = 293.66;\r\nconst Eb4 = 311.13;\r\nconst E4 = 329.63;\r\nconst F4 = 349.23;\r\nconst Gb4 = 369.99;\r\nconst G4 = 392;\r\nconst Ab4 = 415.3;\r\nconst A4 = 440;\r\nconst Bb4 = 466.16;\r\nconst B4 = 493.88;\r\n\r\nconst C5 = 523.25;\r\nconst Db5 = 554.37;\r\nconst D5 = 587.33;\r\nconst Eb5 = 622.25;\r\nconst E5 = 659.25;\r\nconst F5 = 698.46;\r\nconst Gb5 = 739.99;\r\nconst G5 = 783.99;\r\nconst Ab5 = 830.61;\r\nconst A5 = 880;\r\nconst Bb5 = 932.33;\r\nconst B5 = 987.77;\r\n\r\nconst C6 = 1046.5;\r\nconst Db6 = 1108.73;\r\nconst D6 = 1174.66;\r\nconst Eb6 = 1244.51;\r\nconst E6 = 1318.51;\r\nconst F6 = 1396.91;\r\nconst Gb6 = 1479.98;\r\nconst G6 = 1567.98;\r\nconst Ab6 = 1661.22;\r\nconst A6 = 1760;\r\nconst Bb6 = 1864.66;\r\nconst B6 = 1975.53;\r\n\r\nconst C7 = 2093;\r\nconst Db7 = 2217.46;\r\nconst D7 = 2349.32;\r\nconst Eb7 = 2489.02;\r\nconst E7 = 2637.02;\r\nconst F7 = 2793.83;\r\nconst Gb7 = 2959.96;\r\nconst G7 = 3135.96;\r\nconst Ab7 = 3322.44;\r\nconst A7 = 3520;\r\nconst Bb7 = 3729.31;\r\nconst B7 = 3951.07;\r\n\r\nconst C8 = 4186.01;\r\nconst Db8 = 4434.92;\r\nconst D8 = 4698.63;\r\nconst Eb8 = 4978.03;\r\nconst E8 = 5274.04;\r\nconst F8 = 5587.65;\r\nconst Gb8 = 5919.91;\r\nconst G8 = 6271.93;\r\nconst Ab8 = 6644.88;\r\nconst A8 = 7040;\r\nconst Bb8 = 7458.62;\r\nconst B8 = 7902.13;\r\n\r\nconst C9 = 8372.02;\r\n\r\n// Every semitone frequency we would ever play, in order.\r\n// Transposing a note is a case of moving N places left or right in this array.\r\nexport const allNoteFrequencies = [\r\n    Bminus1, \r\n    C0, Db0, D0, Eb0, E0, F0, Gb0, G0, Ab0, A0, Bb0, B0,\r\n    C1, Db1, D1, Eb1, E1, F1, Gb1, G1, Ab1, A1, Bb1, B1,\r\n    C2, Db2, D2, Eb2, E2, F2, Gb2, G2, Ab2, A2, Bb2, B2,\r\n    C3, Db3, D3, Eb3, E3, F3, Gb3, G3, Ab3, A3, Bb3, B3,\r\n    C4, Db4, D4, Eb4, E4, F4, Gb4, G4, Ab4, A4, Bb4, B4,\r\n    C5, Db5, D5, Eb5, E5, F5, Gb5, G5, Ab5, A5, Bb5, B5,\r\n    C6, Db6, D6, Eb6, E6, F6, Gb6, G6, Ab6, A6, Bb6, B6,\r\n    C7, Db7, D7, Eb7, E7, F7, Gb7, G7, Ab7, A7, Bb7, B7,\r\n    C8, Db8, D8, Eb8, E8, F8, Gb8, G8, Ab8, A8, Bb8, B8,\r\n    C9,\r\n];\r\n\r\nconst abstractNotes = [\r\n    { name: 'C', semitonesAboveC: -1 },\r\n    { name: 'C', semitonesAboveC: 0 },\r\n    { name: 'C', semitonesAboveC: 1 },\r\n    { name: 'D', semitonesAboveC: 1 },\r\n    { name: 'D', semitonesAboveC: 2 },\r\n    { name: 'D', semitonesAboveC: 3 },\r\n    { name: 'E', semitonesAboveC: 3 },\r\n    { name: 'E', semitonesAboveC: 4 },\r\n    { name: 'E', semitonesAboveC: 5 },\r\n    { name: 'F', semitonesAboveC: 4 },\r\n    { name: 'F', semitonesAboveC: 5 },\r\n    { name: 'F', semitonesAboveC: 6 },\r\n    { name: 'G', semitonesAboveC: 6 },\r\n    { name: 'G', semitonesAboveC: 7 },\r\n    { name: 'G', semitonesAboveC: 8 },\r\n    { name: 'A', semitonesAboveC: 8 },\r\n    { name: 'A', semitonesAboveC: 9 },\r\n    { name: 'A', semitonesAboveC: 10 },\r\n    { name: 'B', semitonesAboveC: 10 },\r\n    { name: 'B', semitonesAboveC: 11 },\r\n    { name: 'B', semitonesAboveC: 12 },\r\n];\r\n\r\nexport const Cb =  0, C =  1, Cs =  2,\r\n             Db =  3, D =  4, Ds =  5,\r\n             Eb =  6, E =  7, Es =  8,\r\n             Fb =  9, F = 10, Fs = 11,\r\n             Gb = 12, G = 13, Gs = 14,\r\n             Ab = 15, A = 16, As = 17,\r\n             Bb = 18, B = 19, Bs = 20;\r\n\r\nfunction createOctave(cFrequencyIndex: number, octaveNumber: number): INote[] {\r\n    return abstractNotes.map((note, index) => {\r\n        const frequencyIndex = cFrequencyIndex + note.semitonesAboveC; // TODO: include this in the note, for ease of transposing?\r\n\r\n        return {\r\n            name: note.name,\r\n            frequency: allNoteFrequencies[frequencyIndex],\r\n            octave: octaveNumber,\r\n        };\r\n    });\r\n}\r\n\r\nexport const octaves = [\r\n    createOctave(1, 0),\r\n    createOctave(13, 1),\r\n    createOctave(25, 2),\r\n    createOctave(37, 3),\r\n    createOctave(49, 4),\r\n    createOctave(61, 5),\r\n    createOctave(73, 6),\r\n    createOctave(85, 7),\r\n    createOctave(97, 8),\r\n]","import { Cb, C, Cs, Db, D, Ds, Eb, E, Es, Fb, F, Fs, Gb, G, Gs, Ab, A, As, Bb, B, Bs } from './Notes';\r\n\r\nexport interface IScale {\r\n    name: string;\r\n    notes: number[];\r\n}\r\n\r\nexport interface IScaleType {\r\n    name: string;\r\n    notesBeforeTonic: number;\r\n    scales: IScale[];\r\n}\r\n\r\nexport const scaleTypes: IScaleType[] =\r\n[\r\n    {\r\n        name: 'Major',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, Bb, C, Db, Eb, F, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, Cs, D, E, Fs, Gs ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, C, D, Eb, F, G, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Cs, Ds, E, As, Gs, As ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ Cb, Db, Eb, Fb, Gb, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, E, F, G, A, B ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ Cs, Ds, Es, Fs, Gs, As, Bs ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, Eb, F, Gb, Ab, Bb, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, Fs, G, A, B, Cs ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, F, G, Ab, Bb, C, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Fs, Gs, A, B, Cs, Ds ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, A, Bb, C, D, E ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ Fs, Gs, As, B, Cs, Ds, Es ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, Ab, Bb, Cb, Db, Eb, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, B, C, D, E, Fs ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Minor', // Natural minor\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, Bb, Cb, Db, Eb, Fb, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, D, E, F, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ As, Bs, Cs, Ds, Es, Fs, Gs ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, C, Db, Eb, F, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Cs, D, E, Fs, G, A ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, F, G, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ Cs, Ds, E, Fs, Gs, A, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, G, A, Bb, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Ds, Es, Fs, Gs, As, B, Cs ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, F, Gb, Ab, Bb, Cb, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Fs, G, A, B, C, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, Bb, C, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ Fs, Gs, A, B, Cs, D, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, C, D, Eb, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gs, As, B, Cs, Ds, E, Fs ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Chromatic',\r\n        notesBeforeTonic: 5,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, A, Bb, B, C, Db, D, Eb, E, F, Gb, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, Bb, B, C, Db, D, Eb, E, F, Gb, G, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, B, C, Db, D, Eb, E, F, Gb, G, Ab, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, Eb, E, F, Gb, G, Ab, A, Bb, B, C, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, E, F, Gb, G, Ab, A, Bb, B, C, Db, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, F, Gb, G, Ab, A, Bb, B, C, Db, D, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, Gb, G, Ab, A, Bb, B, C, Db, D, Eb, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, G, Ab, A, Bb, B, C, Db, D, Eb, E, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, Ab, A, Bb, B, C, Db, D, Eb, E, F, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Melodic Minor',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, Bb, B, Db, Eb, F, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, D, E, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, C, Db, Eb, F, G, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, E, Gb, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, F, G, A, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, Eb, E, Gb, Ab, Bb, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, G, A, B, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, F, Gb, Ab, Bb, C, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, A, B, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, Bb, C, D, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, Ab, A, B, Db, Eb, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, C, D, E, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Harmonic Minor',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, Bb, B, Db, Eb, E, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, D, E, F, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, C, Db, Eb, F, Gb, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, E, Gb, G, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, F, G, Ab, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, Eb, E, Gb, Ab, A, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, G, A, Bb, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, F, Gb, Ab, Bb, B, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, A, B, C, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, Bb, C, Db, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, Ab, A, B, Db, D, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, C, D, Eb, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Minor Pentatonic',\r\n        notesBeforeTonic: 5,\r\n        scales: [\r\n            {\r\n                name: 'Ab',\r\n                notes: [ Ab, B, Db, Eb, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, C, D, E, G ],\r\n            },\r\n            {\r\n                name: 'Bb',\r\n                notes: [ Bb, Db, Eb, F, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, D, E, Gb, A ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, Eb, F, G, Bb ],\r\n            },\r\n            {\r\n                name: 'Db',\r\n                notes: [ Db, E, Gb, Ab, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, F, G, A, C ],\r\n            },\r\n            {\r\n                name: 'Eb',\r\n                notes: [ Eb, Gb, Ab, Bb, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, G, A, B, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, Ab, Bb, C, Eb ],\r\n            },\r\n            {\r\n                name: 'Gb',\r\n                notes: [ Gb, A, B, Db, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, Bb, C, D, F ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Major Pentatonic',\r\n        notesBeforeTonic: 5,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, Bb, C, Eb, F ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, Db, E, Gb ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, C, D, F, G ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, Eb, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, E, G, A ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, Eb, F, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, Gb, A, B ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, F, G, Bb, C ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, Ab, B, Db ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, A, C, D ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, Ab, Bb, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, B, D, E ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Minor Pentatonic Blues',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, B, Db, D, Eb, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, C, D, Eb, E, G ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, Db, Eb, E, F, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, D, E, F, Gb, A ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, Eb, F, Gb, G, Bb ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, E, Gb, G, Ab, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, F, G, Ab, A, C ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, Gb, Ab, A, Bb, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, G, A, Bb, B, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, Ab, Bb, B, C, Eb ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, A, B, C, Db, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, Bb, C, Db, D, F ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Major Pentatonic Blues',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, Bb, B, C, Eb, F ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, Db, E, Gb ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, C, Db, D, F, G ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, Eb, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, E, G, A ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, Eb, E, F, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, Gb, A, B ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, F, Gb, G, Bb, C ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, Ab, B, Db ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, A, C, D ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, Ab, A, Bb, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, B, D, E ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Major Bebop',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, Bb, C, Db, Eb, E, F, G ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, Db, D, E, F, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, C, D, Eb, F, Gb, G, A ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, Eb, E, Gb, G, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, E, F, G, Ab, A, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, Eb, F, Gb, Ab, A, Bb, C ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, Gb, G, A, Bb, B, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, F, G, Ab, Bb, B, C, D ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, Ab, A, B, C, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, A, Bb, C, Db, D, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, Ab, Bb, B, Db, D, Eb, F ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, B, C, D, Eb, E, Gb ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Minor Bebop',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, Bb, B, C, Db, Eb, F, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, B, C, Db, D, E, Gb, G ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, C, Db, D, Eb, F, G, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, Db, D, Eb, E, Gb, Ab, A ],\r\n            },\r\n            {\r\n                name: 'C',\r\n                notes: [ C, D, Eb, E, F, G, A, Bb ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, Eb, E, F, Gb, Ab, Bb, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, E, F, Gb, G, A, B, C ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, F, Gb, G, Ab, Bb, C, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, Gb, G, Ab, A, B, Db, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, G, Ab, A, Bb, C, D, Eb ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, Ab, A, Bb, B, Db, Eb, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, A, Bb, B, C, D, E, F ],\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        name: 'Super Locrian',\r\n        notesBeforeTonic: 6,\r\n        scales: [\r\n            {\r\n                name: 'C',\r\n                notes: [ C, Db, Eb, E, Gb, Ab, Bb ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ Db, D, E, F, G, A, B ],\r\n            },\r\n            {\r\n                name: 'D',\r\n                notes: [ D, Eb, F, Gb, Ab, Bb, C ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ Eb, E, Gb, G, A, B, Db ],\r\n            },\r\n            {\r\n                name: 'E',\r\n                notes: [ E, F, G, Ab, Bb, C, D ],\r\n            },\r\n            {\r\n                name: 'F',\r\n                notes: [ F, Gb, Ab, A, B, Db, Eb ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ Gb, G, A, Bb, C, D, E ],\r\n            },\r\n            {\r\n                name: 'G',\r\n                notes: [ G, Ab, Bb, B, Db, Eb, F ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ Ab, A, B, C, D, E, Gb ],\r\n            },\r\n            {\r\n                name: 'A',\r\n                notes: [ A, Bb, C, Db, Eb, F, G ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ Bb, B, Db, D, E, Gb, Ab ],\r\n            },\r\n            {\r\n                name: 'B',\r\n                notes: [ B, C, D, Eb, F, G, A ],\r\n            },\r\n        ]\r\n    },\r\n];","import * as React from 'react';\r\nimport { Home } from './Icons';\r\n\r\ninterface IProps {\r\n    back: () => void;\r\n}\r\n\r\nexport class Help extends React.Component<IProps, {}> {\r\n    render() {\r\n        const backClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.back();\r\n        };\r\n\r\n        return (\r\n            <div className=\"site site--help\">\r\n                <header className=\"site__header\">\r\n                    <p>\r\n                        How to play\r\n                    </p>\r\n                </header>\r\n\r\n                <div className=\"site__help\">\r\n                    <p>\r\n                        The thumbophone is intended to be played on a mobile phone or similar-sized device, held in two hands.\r\n                        Use your left thumb for the keys on the left-hand side of the screen, and your right thumb for the keys on the right.\r\n                    </p>\r\n                    <p>\r\n                        The thumbophone <em>does not</em> give you access to all notes; it only lets you use notes in the selected scale. (However you can select a chromatic scale if you wish.)\r\n                        This is similar to how most harmonicas work, except with the thumbophone, you can quickly change the scale.\r\n                    </p>\r\n                    <p>\r\n                        When you first start playing, it's easiest if you ignore the smaller buttons on the outermost columns, and just use the central two columns of buttons.\r\n                        Once you feel comfortable with these, move on to using the outer buttons as needed.\r\n                    </p>\r\n                    <p>\r\n                        For advanced users, you can enable an \"alternate\" configuration and tilt your phone left/right to switch between configurations while playing.\r\n                        This can be quite offputting for new players.\r\n                    </p>\r\n                </div>\r\n                \r\n                <div className=\"site__links\">\r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={backClicked}\r\n                    >\r\n                        <Home /> Home\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import { octaves } from './Notes';\r\nimport { IScale, IScaleType } from './Scales';\r\n\r\nexport function determineNotes(scale: IScale, scaleType: IScaleType, mainOctave: number) {\r\n    let lastNoteIndex = -1;\r\n\r\n    // Add a full scale of notes\r\n    let iOctave = mainOctave;\r\n    const scaleNotes = scale.notes.map(noteIndex => {\r\n        if (noteIndex < lastNoteIndex && iOctave < octaves.length - 1) {\r\n            iOctave ++;\r\n        }\r\n\r\n        lastNoteIndex = noteIndex;\r\n\r\n        return octaves[iOctave][noteIndex];\r\n    });\r\n    \r\n    const numToAddToStart = scaleType.notesBeforeTonic;\r\n    const numToAddToEnd = 20 - numToAddToStart - scale.notes.length;\r\n\r\n    // Add notes to the end, after the \"main\" octave\r\n    let iScaleNote = -1;\r\n    for (let i = 0; i < numToAddToEnd; i++) {\r\n        iScaleNote++;\r\n        if (iScaleNote >= scale.notes.length) {\r\n            iScaleNote = 0;\r\n        }\r\n        let iOctaveNote = scale.notes[iScaleNote];\r\n        if (iOctaveNote < lastNoteIndex && iOctave < octaves.length - 2) {\r\n            iOctave ++;\r\n        }\r\n        lastNoteIndex = iOctaveNote;\r\n        scaleNotes.push(octaves[iOctave][iOctaveNote]);    \r\n    }\r\n\r\n    // Add notes to the beginning, before the \"main\" octave\r\n    lastNoteIndex = scale.notes[0];\r\n    iOctave = mainOctave;\r\n    iScaleNote = scale.notes.length;\r\n    for (let i = 0; i < numToAddToStart; i++) {\r\n        iScaleNote--;\r\n        if (iScaleNote < 0) {\r\n            iScaleNote = scale.notes.length - 1;\r\n        }\r\n        let iOctaveNote = scale.notes[iScaleNote];\r\n        if (iOctaveNote > lastNoteIndex && iOctave > 0) {\r\n            iOctave --;\r\n        }\r\n        lastNoteIndex = iOctaveNote;\r\n        scaleNotes.unshift(octaves[iOctave][iOctaveNote]);    \r\n    }\r\n\r\n    return scaleNotes;\r\n}","import * as React from 'react';\r\nimport { Player, IProfile } from './Player';\r\nimport { Home } from './Home';\r\nimport { IScale, scaleTypes, IScaleType } from '../functionality/Scales';\r\nimport { Help } from './Help';\r\nimport { octaves } from '../functionality/Notes';\r\nimport { determineNotes } from '../functionality/determineNotes';\r\nimport './App.css';\r\nimport { Configuration } from './Configuration';\r\nimport { IVoice, voices } from '../functionality/Voices';\r\n\r\nenum Display {\r\n    Home,\r\n    Help,\r\n    Play,\r\n    Config,\r\n}\r\n\r\ninterface IState {\r\n    display: Display;\r\n    installPrompt?: Event;\r\n\r\n    scaleType: IScaleType;\r\n    scale: IScale;\r\n    octave: number;\r\n    volume: number;\r\n    voice: IVoice;\r\n\r\n    useSplitProfile: boolean;\r\n\r\n    scaleType2: IScaleType;\r\n    scale2: IScale;\r\n    octave2: number;\r\n    volume2: number;\r\n    voice2: IVoice;\r\n}\r\n\r\nconst splitVarName = 'useSplit';\r\nconst scaleTypeVarName = 'scaleType', scaleType2VarName = 'scaleType2';\r\nconst scaleNoteVarName = 'scaleNote', scaleNote2VarName = 'scaleNote2';\r\nconst octaveVarName = 'octave', octave2VarName = 'octave2';\r\nconst volumeVarName = 'volume', volume2VarName = 'volume2';\r\nconst voiceVarName = 'voice', voice2VarName = 'voice2';\r\nconst playedBeforeVarName = 'hasPlayedBefore';\r\n\r\nclass App extends React.Component<{}, IState> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n\r\n        // load saved settings, if present\r\n        const scaleType = this.loadScaleType(scaleTypeVarName);\r\n        const scaleType2 = this.loadScaleType(scaleType2VarName);\r\n\r\n        this.state = {\r\n            display: localStorage.getItem(playedBeforeVarName) === null ? Display.Home : Display.Play,\r\n\r\n            scaleType: scaleType,\r\n            scale: this.loadScale(scaleType, scaleNoteVarName),\r\n            octave: this.loadOctave(octaveVarName),\r\n            volume: this.loadVolume(volumeVarName),\r\n            voice: this.loadVoice(voiceVarName),\r\n\r\n            useSplitProfile: this.loadUseSplit(splitVarName),\r\n\r\n            scaleType2: scaleType2,\r\n            scale2: this.loadScale(scaleType2, scaleNote2VarName),\r\n            octave2: this.loadOctave(octave2VarName),\r\n            volume2: this.loadVolume(volume2VarName),\r\n            voice2: this.loadVoice(voice2VarName),\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('beforeinstallprompt', (e) => {\r\n            e.preventDefault();\r\n            this.setState({\r\n                installPrompt: e,\r\n            });\r\n        });\r\n\r\n        window.addEventListener('appinstalled', (evt) => {\r\n            this.setState({\r\n                installPrompt: undefined,\r\n            });\r\n        });\r\n    }\r\n\r\n    private loadScaleType(sessionVarName: string) {\r\n        const savedScaleType = localStorage.getItem(sessionVarName);\r\n\r\n        if (savedScaleType !== null) {\r\n            const match = scaleTypes.filter(s => s.name === savedScaleType);\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n        }\r\n\r\n        return scaleTypes[0];\r\n    }\r\n\r\n    private loadScale(scaleType: IScaleType, sessionVarName: string) {\r\n        const savedScale = localStorage.getItem(sessionVarName);\r\n\r\n        if (savedScale !== null) {\r\n            const match = scaleType.scales.filter(s => s.name === savedScale);\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n        }\r\n        \r\n        return scaleType.scales.filter(s => s.name === 'C')[0];\r\n    }\r\n\r\n    private loadOctave(sessionVarName: string) {\r\n        const savedOctave = localStorage.getItem(sessionVarName);\r\n\r\n        if (savedOctave !== null) {\r\n            const value = parseInt(savedOctave);\r\n            if (value >= 0 && value < octaves.length) {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        return 4;\r\n    }\r\n\r\n    private loadVolume(sessionVarName: string) {\r\n        const savedVol = localStorage.getItem(sessionVarName);\r\n\r\n        if (savedVol !== null) {\r\n            const value = parseFloat(savedVol);\r\n            if (value >= 0 && value <= 1) {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        return 0.1;\r\n    }\r\n\r\n    private loadVoice(sessionVarName: string) {\r\n        const savedVoiceName = localStorage.getItem(sessionVarName);\r\n\r\n        if (savedVoiceName !== null) {\r\n            const voice = voices.find(v => v.name === savedVoiceName);\r\n            \r\n            if (voice !== undefined) {\r\n                return voice;\r\n            }\r\n        }\r\n\r\n        return voices[0];\r\n    }\r\n\r\n    private loadUseSplit(sessionVarName: string) {\r\n        return localStorage.getItem(sessionVarName) === 'true';\r\n    }\r\n\r\n    render() {\r\n        if (this.state.display === Display.Help) {\r\n            const back = () => this.setState({ display: Display.Home });\r\n\r\n            return <Help\r\n                back={back}\r\n            />\r\n        }\r\n        else if (this.state.display === Display.Play) {\r\n            const exit = () => this.setState({ display: Display.Home });\r\n            const configure = () => this.setState({ display: Display.Config });\r\n\r\n            const profiles: IProfile[] = [\r\n                {\r\n                    notes: determineNotes(this.state.scale, this.state.scaleType, this.state.octave),\r\n                    highlightNoteName: this.state.scale.name,\r\n                    keyName: `${this.state.scale.name} ${this.state.scaleType.name}`,\r\n                    volume: this.state.volume,\r\n                    voice: this.state.voice,\r\n                }\r\n            ];\r\n\r\n            if (this.state.useSplitProfile) {\r\n                profiles.push({\r\n                    notes: determineNotes(this.state.scale2, this.state.scaleType2, this.state.octave2),\r\n                    highlightNoteName: this.state.scale2.name,\r\n                    keyName: `${this.state.scale2.name} ${this.state.scaleType2.name}`,\r\n                    volume: this.state.volume2,\r\n                    voice: this.state.voice2,\r\n                });\r\n            }\r\n\r\n            return <Player\r\n                goHome={exit}\r\n                configure={configure}\r\n                profiles={profiles}\r\n            />\r\n        }\r\n        else if (this.state.display === Display.Config) {\r\n            const play = () => {\r\n                localStorage.setItem(playedBeforeVarName, 'true');\r\n                this.setState({ display: Display.Play });\r\n            };\r\n            const back = () => this.setState({ display: Display.Home });\r\n\r\n            const install = this.state.installPrompt === undefined\r\n                ? undefined\r\n                : () => (this.state.installPrompt as any).prompt();\r\n\r\n            const setScaleType = (scaleType: IScaleType, isAlt: boolean) => {\r\n                const scaleIndex = this.state.scaleType.scales.indexOf(isAlt ? this.state.scale2 : this.state.scale);\r\n                const newScale = scaleIndex >= 0 && scaleIndex < scaleType.scales.length\r\n                    ? scaleType.scales[scaleIndex]\r\n                    : scaleType.scales[0];\r\n\r\n                if (isAlt) {\r\n                    localStorage.setItem(scaleType2VarName, scaleType.name);\r\n\r\n                    this.setState({\r\n                        scaleType2: scaleType,\r\n                        scale2: newScale,\r\n                    });\r\n                }\r\n                else {\r\n                    localStorage.setItem(scaleTypeVarName, scaleType.name);\r\n\r\n                    this.setState({\r\n                        scaleType: scaleType,\r\n                        scale: newScale,\r\n                    });\r\n                }\r\n            };\r\n\r\n            const setScale = (scale: IScale, isAlt: boolean) => {\r\n                if (isAlt) {\r\n                    localStorage.setItem(scaleNote2VarName, scale.name);\r\n                    this.setState({ scale2: scale });\r\n                }\r\n                else {\r\n                    localStorage.setItem(scaleNoteVarName, scale.name);\r\n                    this.setState({ scale: scale });\r\n                }\r\n            };\r\n\r\n            const setOctave = (octave: number, isAlt: boolean) => {\r\n                if (isAlt) {\r\n                    localStorage.setItem(octave2VarName, octave.toString());\r\n                    this.setState({ octave2: octave });\r\n                }\r\n                else {\r\n                    localStorage.setItem(octaveVarName, octave.toString());\r\n                    this.setState({ octave: octave });\r\n                }\r\n            };\r\n\r\n            const setVolume = (vol: number, isAlt: boolean) => {\r\n                if (isAlt) {\r\n                    localStorage.setItem(volume2VarName, vol.toString());\r\n                    this.setState({ volume2: vol });\r\n                }\r\n                else {\r\n                    localStorage.setItem(volumeVarName, vol.toString());\r\n                    this.setState({ volume: vol });\r\n                }\r\n            };\r\n\r\n            const setVoice = (voice: IVoice, isAlt: boolean) => {\r\n                if (isAlt) {\r\n                    localStorage.setItem(voice2VarName, voice.name);\r\n                    this.setState({ voice2: voice });\r\n                }\r\n                else {\r\n                    localStorage.setItem(voiceVarName, voice.name);\r\n                    this.setState({ voice: voice });\r\n                }\r\n            };\r\n\r\n            const setSplit = (useSplit: boolean) => {\r\n                localStorage.setItem(splitVarName, useSplit.toString());\r\n                this.setState({ useSplitProfile: useSplit });\r\n            }\r\n\r\n            return <Configuration\r\n                play={play}\r\n                back={back}\r\n                install={install}\r\n\r\n                useSplitProfile={this.state.useSplitProfile}\r\n                setUseSplitProfile={setSplit}\r\n\r\n                scaleType={this.state.scaleType}\r\n                scaleType2={this.state.scaleType2}\r\n                selectScaleType={setScaleType}\r\n\r\n                scale={this.state.scale}\r\n                scale2={this.state.scale2}\r\n                selectScale={setScale}\r\n\r\n                octave={this.state.octave}\r\n                octave2={this.state.octave2}\r\n                setOctave={setOctave}\r\n\r\n                volume={this.state.volume}\r\n                volume2={this.state.volume2}\r\n                setVolume={setVolume}\r\n\r\n                voice={this.state.voice}\r\n                voice2={this.state.voice2}\r\n                setVoice={setVoice}\r\n            />\r\n        }\r\n        else {\r\n            const play = () => {\r\n                localStorage.setItem(playedBeforeVarName, 'true');\r\n                this.setState({ display: Display.Play });\r\n            };\r\n            const configure = () => this.setState({ display: Display.Config });\r\n            const help = () => this.setState({ display: Display.Help });\r\n\r\n            return <Home\r\n                help={help}\r\n                play={play}\r\n                configure={configure}\r\n            />\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import { Bass, ChorusStrings, Dissonant2, Organ2, Organ3, Celeste, Brass, Throaty } from '@mohayonao/wave-tables';\r\n\r\nexport interface IVoice {\r\n    name: string;\r\n    apply: (oscillator: OscillatorNode) => void;\r\n}\r\n\r\nexport const voices: IVoice[] = [\r\n    {\r\n        name: 'Sine wave',\r\n        apply: o => o.type = 'sine',\r\n    },\r\n    {\r\n        name: 'Bass',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Bass.real, Bass.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Organ 1',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Organ2.real, Organ2.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Organ 2',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Organ3.real, Organ3.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Organ 3',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Dissonant2.real, Dissonant2.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Brass',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Brass.real, Brass.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Celeste',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Celeste.real, Celeste.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Throaty',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(Throaty.real, Throaty.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Chorus Strings',\r\n        apply: o => {\r\n            const wave = o.context.createPeriodicWave(ChorusStrings.real, ChorusStrings.imag, {disableNormalization: true});\r\n            o.setPeriodicWave(wave);\r\n        },\r\n    },\r\n    {\r\n        name: 'Sawtooth',\r\n        apply: o => o.type = 'sawtooth',\r\n    },\r\n    {\r\n        name: 'Square',\r\n        apply: o => o.type = 'square',\r\n    },\r\n]","import * as React from 'react';\r\nimport { IScale, scaleTypes, IScaleType } from '../functionality/Scales';\r\nimport { IVoice, voices } from '../functionality/Voices';\r\n\r\ninterface IProps {\r\n    isAlternate: boolean;\r\n\r\n    scaleType: IScaleType;\r\n    selectScaleType: (scaleType: IScaleType) => void;\r\n\r\n    scale: IScale;\r\n    selectScale: (scale: IScale) => void;\r\n\r\n    octave: number;\r\n    setOctave: (octave: number) => void;\r\n\r\n    volume: number;\r\n    setVolume: (vol: number) => void;\r\n\r\n    voice: IVoice;\r\n    selectVoice: (voice: IVoice) => void;\r\n}\r\n\r\nexport class ProfileSettings extends React.Component<IProps, {}> {\r\n    render() {\r\n        const selectedScaleTypeIndex = scaleTypes.indexOf(this.props.scaleType);\r\n        const selectedScaleNoteIndex = this.props.scaleType.scales.indexOf(this.props.scale);\r\n        const selectedVoiceIndex = voices.indexOf(this.props.voice);\r\n\r\n        const scaleTypeOptions = scaleTypes.map((scaleType, index) => <option key={index} value={index.toString()}>{scaleType.name}</option>);\r\n        const scaleNoteOptions = this.props.scaleType.scales.map((scale, index) => <option key={index} value={index.toString()}>{scale.name}</option>);\r\n        const voiceOptions = voices.map((voice, index) => <option key={index} value={index.toString()}>{voice.name}</option>);\r\n\r\n        const selectScaleType = (e: React.ChangeEvent<HTMLSelectElement>) => this.props.selectScaleType(scaleTypes[e.target.selectedIndex],);\r\n        const selectScale = (e: React.ChangeEvent<HTMLSelectElement>) => this.props.selectScale(this.props.scaleType.scales[e.target.selectedIndex]);\r\n        const setOctave = (e: React.ChangeEvent<HTMLInputElement>) => this.props.setOctave(parseInt(e.target.value));\r\n        const setVolume = (e: React.ChangeEvent<HTMLInputElement>) => this.props.setVolume(parseFloat(e.target.value));\r\n        const selectVoice = (e: React.ChangeEvent<HTMLSelectElement>) => this.props.selectVoice(voices[e.target.selectedIndex]);\r\n\r\n        const classes = this.props.isAlternate\r\n            ? 'site__options site__options--alternate'\r\n            : 'site__options';\r\n\r\n        return (\r\n            <div className={classes}>\r\n            \r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Scale</span>\r\n                    <select\r\n                        className=\"site__value\"\r\n                        value={selectedScaleTypeIndex.toString()}\r\n                        onChange={selectScaleType}\r\n                    >\r\n                        {scaleTypeOptions}\r\n                    </select>\r\n                </label>\r\n\r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Tonic</span>\r\n                    <select\r\n                        className=\"site__value\"\r\n                        value={selectedScaleNoteIndex.toString()}\r\n                        onChange={selectScale}\r\n                    >\r\n                        {scaleNoteOptions}\r\n                    </select>\r\n                </label>\r\n\r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Voice</span>\r\n                    <select\r\n                        className=\"site__value\"\r\n                        value={selectedVoiceIndex.toString()}\r\n                        onChange={selectVoice}\r\n                    >\r\n                        {voiceOptions}\r\n                    </select>\r\n                </label>\r\n\r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Octave</span>\r\n                    <input\r\n                        className=\"site__value\"\r\n                        type=\"range\"\r\n                        min=\"1\"\r\n                        max=\"6\"\r\n                        step=\"1\"\r\n                        value={this.props.octave}\r\n                        onChange={setOctave}\r\n                    />\r\n                </label>\r\n\r\n                <label className=\"site__option\">\r\n                    <span className=\"site__label\">Volume</span>\r\n                    <input\r\n                        className=\"site__value\"\r\n                        type=\"range\"\r\n                        min=\"0\"\r\n                        max=\"1\"\r\n                        step=\"0.025\"\r\n                        value={this.props.volume}\r\n                        onChange={setVolume}\r\n                    />\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { IScale, IScaleType } from '../functionality/Scales';\r\nimport { ProfileSettings } from './ProfileSettings';\r\nimport { Play, Home, Install } from './Icons';\r\nimport { IVoice } from '../functionality/Voices';\r\n\r\ninterface IProps {\r\n    play: () => void;\r\n    back: () => void;\r\n    install?: () => void;\r\n    \r\n    useSplitProfile: boolean;\r\n    setUseSplitProfile: (use: boolean) => void;\r\n\r\n    scaleType: IScaleType;\r\n    scaleType2: IScaleType;\r\n    selectScaleType: (scaleType: IScaleType, isAlt: boolean) => void;\r\n\r\n    scale: IScale;\r\n    scale2: IScale;\r\n    selectScale: (scale: IScale, isAlt: boolean) => void;\r\n\r\n    octave: number;\r\n    octave2: number;\r\n    setOctave: (octave: number, isAlt: boolean) => void;\r\n\r\n    volume: number;\r\n    volume2: number;\r\n    setVolume: (vol: number, isAlt: boolean) => void;\r\n\r\n    voice: IVoice;\r\n    voice2: IVoice;\r\n    setVoice: (voice: IVoice, isAlt: boolean) => void;\r\n}\r\n\r\nexport class Configuration extends React.Component<IProps, {}> {\r\n    render() {\r\n        const playClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.play();\r\n        };\r\n\r\n        const backClicked = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n            e.preventDefault();\r\n            this.props.back();\r\n        };\r\n\r\n        const installClicked = this.props.install === undefined\r\n            ? undefined\r\n            : (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n                e.preventDefault();\r\n                this.props.install!();\r\n            };\r\n\r\n        const selectPrimaryScaleType = (scaleType: IScaleType) => this.props.selectScaleType(scaleType, false);\r\n        const selectPrimaryScale = (scale: IScale) => this.props.selectScale(scale, false);\r\n        const setPrimaryOctave = (octave: number) => this.props.setOctave(octave, false);\r\n        const setPrimaryVolume = (volume: number) => this.props.setVolume(volume, false);\r\n        const setPrimaryVoice = (voice: IVoice) => this.props.setVoice(voice, false);\r\n\r\n        const switchSplitProfile = (e: React.ChangeEvent<HTMLInputElement>) => this.props.setUseSplitProfile(e.target.checked);\r\n\r\n        const selectAlternateScaleType = (scaleType: IScaleType) => this.props.selectScaleType(scaleType, true);\r\n        const selectAlternateScale = (scale: IScale) => this.props.selectScale(scale, true);\r\n        const setAlternateOctave = (octave: number) => this.props.setOctave(octave, true);\r\n        const setAlternateVolume = (volume: number) => this.props.setVolume(volume, true);\r\n        const setAlternateVoice = (voice: IVoice) => this.props.setVoice(voice, true);\r\n\r\n        const alternateSettings = this.props.useSplitProfile\r\n            ? <ProfileSettings\r\n                isAlternate={true}\r\n                scaleType={this.props.scaleType2}\r\n                scale={this.props.scale2}\r\n                octave={this.props.octave2}\r\n                volume={this.props.volume2}\r\n                voice={this.props.voice2}\r\n\r\n                selectScaleType={selectAlternateScaleType}\r\n                selectScale={selectAlternateScale}\r\n                setOctave={setAlternateOctave}\r\n                setVolume={setAlternateVolume}\r\n                selectVoice={setAlternateVoice}\r\n            />\r\n            : undefined;\r\n\r\n        const installLink = this.props.install === undefined\r\n            ? undefined\r\n            : <a className=\"site__link\" href=\"#\" onClick={installClicked}>\r\n                <Install /> Add to home screen\r\n            </a>\r\n\r\n        return (\r\n            <div className=\"site site--configuration\">\r\n                <header className=\"site__header\">\r\n                    <p>\r\n                        Configuration\r\n                    </p>\r\n                </header>\r\n\r\n                <ProfileSettings\r\n                    isAlternate={false}\r\n                    scaleType={this.props.scaleType}\r\n                    scale={this.props.scale}\r\n                    octave={this.props.octave}\r\n                    volume={this.props.volume}\r\n                    voice={this.props.voice}\r\n\r\n                    selectScaleType={selectPrimaryScaleType}\r\n                    selectScale={selectPrimaryScale}\r\n                    setOctave={setPrimaryOctave}\r\n                    setVolume={setPrimaryVolume}\r\n                    selectVoice={setPrimaryVoice}\r\n                />\r\n\r\n                <label className=\"site__useAlt\">\r\n                    Tilt screen for alternate configuration\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        checked={this.props.useSplitProfile}\r\n                        onChange={switchSplitProfile}\r\n                    />\r\n                </label>\r\n\r\n                {alternateSettings}\r\n\r\n                <div className=\"site__links\">\r\n                    <a\r\n                        className=\"site__link\"\r\n                        href=\"#\"\r\n                        onClick={backClicked}\r\n                    >\r\n                        <Home /> Home\r\n                    </a>\r\n                    <a\r\n                        className=\"site__link site__link--primary\"\r\n                        href=\"#\"\r\n                        onClick={playClicked}\r\n                    >\r\n                        <Play /> Play now\r\n                    </a>\r\n\r\n                    {installLink}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}